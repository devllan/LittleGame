'use strict'; var ba, ca, ea, fa, ga, ha, ia, ja, ka, la, ma, na, oa, ra, sa, ta, ua, va, wa, xa, ya, za, x, Aa, Ba, Da, Ea, Fa, A, Ha, Ia, Ja, La, Ma, Na, Pa, Qa, Ra, Sa, Ta, Ua, Va, Wa, Ya, Za, $a, ab, bb, cb, db, eb, kb, lb, mb, nb, ob, pb, qb, rb, sb, tb, ub, vb, xb, yb, zb, Ab, Bb, Cb, Db, Eb, Fb, Gb, Hb, Ib, Jb, Kb, Lb, Mb, Nb, Ob, Qb, Rb, Sb, Tb, Ub, Vb, Wb, Xb, Yb, Zb, $b, ac, bc, cc, dc, ec, fc, gc, hc, ic = {}; "function" !== typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === typeof "test".__proto__ ? function(e) { return e.__proto__ } : function(e) { return e.constructor.prototype } ); (function() { function e(a, d, c, g) { this.set(a, d, c, g) } function h() { this.Wb = this.Vb = this.Zb = this.Yb = this.jc = this.ic = this.zb = this.yb = 0 } function b(a, d, c, g) { a < d ? c < g ? (B = a < c ? a : c, J = d > g ? d : g) : (B = a < g ? a : g, J = d > c ? d : c) : c < g ? (B = d < c ? d : c, J = a > g ? a : g) : (B = d < g ? d : g, J = a > c ? a : c) } function l() { this.items = this.tc = null; this.Wh = 0; y && (this.tc = new Set); this.fh = []; this.Ie = !0 } function r(a) { M[T++] = a } function p() { this.X = this.$g = this.y = this.qh = 0 } function m(a) { this.pb = []; this.pj = this.rj = this.sj = this.qj = 0; this.Hi(a) } function a(a, d) { this.Rl = a; this.Ql = d; this.cells = {} } function c(a, d) { this.Rl = a; this.Ql = d; this.cells = {} } function f(a, d, c) { var g; return F.length ? (g = F.pop(), g.xm = a, g.x = d, g.y = c, g) : new ca(a,d,c) } function d(a, d, c) { this.xm = a; this.x = d; this.y = c; this.tb = new ea } function g(a, d, c) { var g; return D.length ? (g = D.pop(), g.xm = a, g.x = d, g.y = c, g) : new fa(a,d,c) } function w(a, d, c) { this.xm = a; this.x = d; this.y = c; this.tb = []; this.zg = !0; this.Id = new ea; this.nh = !1 } function k(a, d) { return a.ud - d.ud } ga = function(a) { window.console && window.console.log && window.console.log(a) } ; ha = function(a) { window.console && window.console.error && window.console.error(a) } ; ba = function(a) { return a } ; ia = function(a) { return "undefined" === typeof a } ; ja = function(a) { return "number" === typeof a } ; ka = function(a) { return "string" === typeof a } ; la = function(a) { return 0 < a && 0 === (a - 1 & a) } ; ma = function(a) { --a; for (var d = 1; 32 > d; d <<= 1) a = a | a >> d; return a + 1 } ; na = function(a) { return 0 > a ? -a : a } ; oa = function(a, d) { return a < d ? a : d } ; ra = Math.PI; sa = function(a) { return 0 <= a ? a | 0 : (a | 0) - 1 } ; ta = function(a) { var d = a | 0; return d === a ? d : d + 1 } ; ua = function(a, d, c, g, k, u, f, n) { var b, q, h, e; a < c ? (q = a, b = c) : (q = c, b = a); k < f ? (e = k, h = f) : (e = f, h = k); if (b < e || q > h) return !1; d < g ? (q = d, b = g) : (q = g, b = d); u < n ? (e = u, h = n) : (e = n, h = u); if (b < e || q > h) return !1; b = k - a + f - c; q = u - d + n - g; a = c - a; d = g - d; k = f - k; u = n - u; n = na(d * k - u * a); return na(k * q - u * b) > n ? !1 : na(a * q - d * b) <= n } ; e.prototype.set = function(a, d, c, g) { this.left = a; this.top = d; this.right = c; this.bottom = g } ; e.prototype.ig = function(a) { this.left = a.left; this.top = a.top; this.right = a.right; this.bottom = a.bottom } ; e.prototype.width = function() { return this.right - this.left } ; e.prototype.height = function() { return this.bottom - this.top } ; e.prototype.offset = function(a, d) { this.left += a; this.top += d; this.right += a; this.bottom += d; return this } ; e.prototype.normalize = function() { var a = 0; this.left > this.right && (a = this.left, this.left = this.right, this.right = a); this.top > this.bottom && (a = this.top, this.top = this.bottom, this.bottom = a) } ; e.prototype.pq = function(a) { return !(a.right < this.left || a.bottom < this.top || a.left > this.right || a.top > this.bottom) } ; e.prototype.Vw = function(a, d, c) { return !(a.right + d < this.left || a.bottom + c < this.top || a.left + d > this.right || a.top + c > this.bottom) } ; e.prototype.Ab = function(a, d) { return a >= this.left && a <= this.right && d >= this.top && d <= this.bottom } ; e.prototype.vh = function(a) { return this.left === a.left && this.top === a.top && this.right === a.right && this.bottom === a.bottom } ; va = e; h.prototype.Gi = function(a) { this.yb = a.left; this.zb = a.top; this.ic = a.right; this.jc = a.top; this.Yb = a.right; this.Zb = a.bottom; this.Vb = a.left; this.Wb = a.bottom } ; h.prototype.Vr = function(a, d) { if (0 === d) this.Gi(a); else { var c = Math.sin(d) , g = Math.cos(d) , k = a.left * c , u = a.top * c , f = a.right * c , c = a.bottom * c , n = a.left * g , b = a.top * g , q = a.right * g , g = a.bottom * g; this.yb = n - u; this.zb = b + k; this.ic = q - u; this.jc = b + f; this.Yb = q - c; this.Zb = g + f; this.Vb = n - c; this.Wb = g + k } } ; h.prototype.offset = function(a, d) { this.yb += a; this.zb += d; this.ic += a; this.jc += d; this.Yb += a; this.Zb += d; this.Vb += a; this.Wb += d; return this } ; var B = 0 , J = 0; h.prototype.op = function(a) { b(this.yb, this.ic, this.Yb, this.Vb); a.left = B; a.right = J; b(this.zb, this.jc, this.Zb, this.Wb); a.top = B; a.bottom = J } ; h.prototype.Ab = function(a, d) { var c = this.yb , g = this.zb , k = this.ic - c , u = this.jc - g , f = this.Yb - c , n = this.Zb - g , b = a - c , q = d - g , h = k * k + u * u , e = k * f + u * n , u = k * b + u * q , t = f * f + n * n , B = f * b + n * q , w = 1 / (h * t - e * e) , k = (t * u - e * B) * w , h = (h * B - e * u) * w; if (0 <= k && 0 < h && 1 > k + h) return !0; k = this.Vb - c; u = this.Wb - g; h = k * k + u * u; e = k * f + u * n; u = k * b + u * q; w = 1 / (h * t - e * e); k = (t * u - e * B) * w; h = (h * B - e * u) * w; return 0 <= k && 0 < h && 1 > k + h } ; h.prototype.Ee = function(a, d) { if (d) switch (a) { case 0: return this.yb; case 1: return this.ic; case 2: return this.Yb; case 3: return this.Vb; case 4: return this.yb; default: return this.yb } else switch (a) { case 0: return this.zb; case 1: return this.jc; case 2: return this.Zb; case 3: return this.Wb; case 4: return this.zb; default: return this.zb } } ; h.prototype.Yq = function() { return (this.yb + this.ic + this.Yb + this.Vb) / 4 } ; h.prototype.Zq = function() { return (this.zb + this.jc + this.Zb + this.Wb) / 4 } ; h.prototype.oq = function(a) { var d = a.Yq() , c = a.Zq(); if (this.Ab(d, c)) return !0; d = this.Yq(); c = this.Zq(); if (a.Ab(d, c)) return !0; var g, k, u, f, n, b, q, h; for (q = 0; 4 > q; q++) for (h = 0; 4 > h; h++) if (d = this.Ee(q, !0), c = this.Ee(q, !1), g = this.Ee(q + 1, !0), k = this.Ee(q + 1, !1), u = a.Ee(h, !0), f = a.Ee(h, !1), n = a.Ee(h + 1, !0), b = a.Ee(h + 1, !1), ua(d, c, g, k, u, f, n, b)) return !0; return !1 } ; wa = h; xa = function(a, d) { for (var c in d) d.hasOwnProperty(c) && (a[c] = d[c]); return a } ; ya = function(a, d) { var c, g; d = sa(d); if (!(0 > d || d >= a.length)) { c = d; for (g = a.length - 1; c < g; c++) a[c] = a[c + 1]; za(a, g) } } ; za = function(a, d) { a.length = d } ; x = function(a) { za(a, 0) } ; Aa = function(a, d) { x(a); var c, g; c = 0; for (g = d.length; c < g; ++c) a[c] = d[c] } ; Ba = function(a, d) { a.push.apply(a, d) } ; Da = function(a, d) { var c, g; c = 0; for (g = a.length; c < g; ++c) if (a[c] === d) return c; return -1 } ; Ea = function(a, d) { var c = Da(a, d); -1 !== c && ya(a, c) } ; Fa = function(a, d, c) { return a < d ? d : a > c ? c : a } ; A = function(a) { return a / (180 / ra) } ; Ha = function(a) { return 180 / ra * a } ; Ia = function(a) { a %= 360; 0 > a && (a += 360); return a } ; Ja = function(a) { a %= 2 * ra; 0 > a && (a += 2 * ra); return a } ; La = function(a) { return Ia(Ha(a)) } ; Ma = function(a) { return Ja(A(a)) } ; Na = function(a, d, c, g) { return Math.atan2(g - d, c - a) } ; Pa = function(a, d) { if (a === d) return 0; var c = Math.sin(a) , g = Math.cos(a) , k = Math.sin(d) , u = Math.cos(d) , c = c * k + g * u; return 1 <= c ? 0 : -1 >= c ? ra : Math.acos(c) } ; Qa = function(a, d, c) { var g = Math.sin(a) , k = Math.cos(a) , u = Math.sin(d) , f = Math.cos(d); return Math.acos(g * u + k * f) > c ? 0 < k * u - g * f ? Ja(a + c) : Ja(a - c) : Ja(d) } ; Ra = function(a, d) { var c = Math.sin(a) , g = Math.cos(a) , k = Math.sin(d) , u = Math.cos(d); return 0 >= g * k - c * u } ; Sa = function(a, d, c, g, k, u) { if (0 === c) return u ? a : d; var f = Math.sin(c); c = Math.cos(c); a -= g; d -= k; var n = a * f; a = a * c - d * f; d = d * c + n; return u ? a + g : d + k } ; Ta = function(a, d, c, g) { a = c - a; d = g - d; return Math.sqrt(a * a + d * d) } ; Ua = function(a, d) { return !a !== !d } ; Va = function(a, d, c) { return a + (d - a) * c } ; Wa = function(a) { for (var d in a) if (a.hasOwnProperty(d)) return !0; return !1 } ; Ya = function(a) { for (var d in a) a.hasOwnProperty(d) && delete a[d] } ; var t = +new Date; Za = function() { if ("undefined" !== typeof window.performance) { var a = window.performance; if ("undefined" !== typeof a.now) return a.now(); if ("undefined" !== typeof a.webkitNow) return a.webkitNow(); if ("undefined" !== typeof a.mozNow) return a.mozNow(); if ("undefined" !== typeof a.msNow) return a.msNow() } return Date.now() - t } ; var n = !1 , q = n = !1 , Q = !1; "undefined" !== typeof window && (n = /chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent), n = !n && /safari/i.test(navigator.userAgent), q = /(iphone|ipod|ipad)/i.test(navigator.userAgent), Q = window.c2ejecta); var y = !n && !Q && !q && "undefined" !== typeof Set && "undefined" !== typeof Set.prototype.forEach; l.prototype.contains = function(a) { return this.ae() ? !1 : y ? this.tc.has(a) : this.items && this.items.hasOwnProperty(a) } ; l.prototype.add = function(a) { if (y) this.tc.has(a) || (this.tc.add(a), this.Ie = !1); else { var d = a.toString() , c = this.items; c ? c.hasOwnProperty(d) || (c[d] = a, this.Wh++, this.Ie = !1) : (this.items = {}, this.items[d] = a, this.Wh = 1, this.Ie = !1) } } ; l.prototype.remove = function(a) { if (!this.ae()) if (y) this.tc.has(a) && (this.tc["delete"](a), this.Ie = !1); else if (this.items) { a = a.toString(); var d = this.items; d.hasOwnProperty(a) && (delete d[a], this.Wh--, this.Ie = !1) } } ; l.prototype.clear = function() { this.ae() || (y ? this.tc.clear() : (this.items = null, this.Wh = 0), x(this.fh), this.Ie = !0) } ; l.prototype.ae = function() { return 0 === this.count() } ; l.prototype.count = function() { return y ? this.tc.size : this.Wh } ; var M = null , T = 0; l.prototype.Hy = function() { if (!this.Ie) { if (y) x(this.fh), M = this.fh, T = 0, this.tc.forEach(r), M = null, T = 0; else { var a = this.fh; x(a); var d, c = 0, g = this.items; if (g) for (d in g) g.hasOwnProperty(d) && (a[c++] = g[d]) } this.Ie = !0 } } ; l.prototype.bd = function() { this.Hy(); return this.fh } ; ea = l; new ea; $a = function(a, d) { y ? ab(a, d.tc) : bb(a, d.bd()) } ; ab = function(a, d) { var c, g, k, u; g = c = 0; for (k = a.length; c < k; ++c) u = a[c], d.has(u) || (a[g++] = u); za(a, g) } ; bb = function(a, d) { var c, g, k, u; g = c = 0; for (k = a.length; c < k; ++c) u = a[c], -1 === Da(d, u) && (a[g++] = u); za(a, g) } ; p.prototype.add = function(a) { this.y = a - this.qh; this.$g = this.X + this.y; this.qh = this.$g - this.X - this.y; this.X = this.$g } ; p.prototype.reset = function() { this.X = this.$g = this.y = this.qh = 0 } ; cb = p; db = function(a) { return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&") } ; m.prototype.Hi = function(a) { this.Er = a; this.nd = a.length / 2; this.pb.length = a.length; this.uj = this.vj = -1; this.rp = 0 } ; m.prototype.wg = function() { return !this.Er.length } ; m.prototype.va = function() { for (var a = this.pb, d = a[0], c = d, g = a[1], k = g, u, f, n = 1, b = this.nd; n < b; ++n) f = 2 * n, u = a[f], f = a[f + 1], u < d && (d = u), u > c && (c = u), f < g && (g = f), f > k && (k = f); this.qj = d; this.rj = c; this.sj = g; this.pj = k } ; m.prototype.Gi = function(a, d, c) { this.pb.length = 8; this.nd = 4; var g = this.pb; g[0] = a.left - d; g[1] = a.top - c; g[2] = a.right - d; g[3] = a.top - c; g[4] = a.right - d; g[5] = a.bottom - c; g[6] = a.left - d; g[7] = a.bottom - c; this.vj = a.right - a.left; this.uj = a.bottom - a.top; this.va() } ; m.prototype.Xg = function(a, d, c, g, k) { this.pb.length = 8; this.nd = 4; var u = this.pb; u[0] = a.yb - d; u[1] = a.zb - c; u[2] = a.ic - d; u[3] = a.jc - c; u[4] = a.Yb - d; u[5] = a.Zb - c; u[6] = a.Vb - d; u[7] = a.Wb - c; this.vj = g; this.uj = k; this.va() } ; m.prototype.Ur = function(a) { this.nd = a.nd; Aa(this.pb, a.pb); this.qj = a.qj; this.sj - a.sj; this.rj = a.rj; this.pj = a.pj } ; m.prototype.hg = function(a, d, c) { if (this.vj !== a || this.uj !== d || this.rp !== c) { this.vj = a; this.uj = d; this.rp = c; var g, k, u, f, n, b = 0, q = 1, h = this.Er, e = this.pb; 0 !== c && (b = Math.sin(c), q = Math.cos(c)); c = 0; for (u = this.nd; c < u; c++) g = 2 * c, k = g + 1, f = h[g] * a, n = h[k] * d, e[g] = f * q - n * b, e[k] = n * q + f * b; this.va() } } ; m.prototype.Ab = function(a, d) { var c = this.pb; if (a === c[0] && d === c[1]) return !0; var g, k, u, f = this.nd, n = this.qj - 110, b = this.sj - 101, q = this.rj + 131, h = this.pj + 120, e, t, B = 0, w = 0; for (g = 0; g < f; g++) k = 2 * g, u = (g + 1) % f * 2, e = c[k], k = c[k + 1], t = c[u], u = c[u + 1], ua(n, b, a, d, e, k, t, u) && B++, ua(q, h, a, d, e, k, t, u) && w++; return 1 === B % 2 || 1 === w % 2 } ; m.prototype.Jh = function(a, d, c) { var g = a.pb , k = this.pb; if (this.Ab(g[0] + d, g[1] + c) || a.Ab(k[0] - d, k[1] - c)) return !0; var u, f, n, b, q, h, e, t, B, w, l, m; u = 0; for (b = this.nd; u < b; u++) for (f = 2 * u, n = (u + 1) % b * 2, t = k[f], f = k[f + 1], B = k[n], w = k[n + 1], n = 0, e = a.nd; n < e; n++) if (q = 2 * n, h = (n + 1) % e * 2, l = g[q] + d, q = g[q + 1] + c, m = g[h] + d, h = g[h + 1] + c, ua(t, f, B, w, l, q, m, h)) return !0; return !1 } ; eb = m; a.prototype.Qe = function(a, d, c) { var g; g = this.cells[a]; return g ? (g = g[d]) ? g : c ? (g = f(this, a, d), this.cells[a][d] = g) : null : c ? (g = f(this, a, d), this.cells[a] = {}, this.cells[a][d] = g) : null } ; a.prototype.kc = function(a) { return sa(a / this.Rl) } ; a.prototype.lc = function(a) { return sa(a / this.Ql) } ; a.prototype.update = function(a, d, c) { var g, k, u, f, n; if (d) for (g = d.left, k = d.right; g <= k; ++g) for (u = d.top, f = d.bottom; u <= f; ++u) if (!c || !c.Ab(g, u)) if (n = this.Qe(g, u, !1)) n.remove(a), n.ae() && (n.tb.clear(), 1E3 > F.length && F.push(n), this.cells[g][u] = null); if (c) for (g = c.left, k = c.right; g <= k; ++g) for (u = c.top, f = c.bottom; u <= f; ++u) d && d.Ab(g, u) || this.Qe(g, u, !0).Fm(a) } ; a.prototype.Uk = function(a, d) { var c, g, k, u, f, n; c = this.kc(a.left); k = this.lc(a.top); g = this.kc(a.right); for (f = this.lc(a.bottom); c <= g; ++c) for (u = k; u <= f; ++u) (n = this.Qe(c, u, !1)) && n.dump(d) } ; kb = a; c.prototype.Qe = function(a, d, c) { var k; k = this.cells[a]; return k ? (k = k[d]) ? k : c ? (k = g(this, a, d), this.cells[a][d] = k) : null : c ? (k = g(this, a, d), this.cells[a] = {}, this.cells[a][d] = k) : null } ; c.prototype.kc = function(a) { return sa(a / this.Rl) } ; c.prototype.lc = function(a) { return sa(a / this.Ql) } ; c.prototype.update = function(a, d, c) { var g, k, u, f, n; if (d) for (g = d.left, k = d.right; g <= k; ++g) for (u = d.top, f = d.bottom; u <= f; ++u) if (!c || !c.Ab(g, u)) if (n = this.Qe(g, u, !1)) n.remove(a), n.ae() && (n.reset(), 1E3 > D.length && D.push(n), this.cells[g][u] = null); if (c) for (g = c.left, k = c.right; g <= k; ++g) for (u = c.top, f = c.bottom; u <= f; ++u) d && d.Ab(g, u) || this.Qe(g, u, !0).Fm(a) } ; c.prototype.Uk = function(a, d, c, g, k) { var u, f; a = this.kc(a); d = this.lc(d); c = this.kc(c); for (u = this.lc(g); a <= c; ++a) for (g = d; g <= u; ++g) (f = this.Qe(a, g, !1)) && f.dump(k) } ; c.prototype.rx = function(a) { var d, c, g, k, u; d = a.left; g = a.top; c = a.right; for (k = a.bottom; d <= c; ++d) for (a = g; a <= k; ++a) if (u = this.Qe(d, a, !1)) u.zg = !1 } ; lb = c; var F = []; d.prototype.ae = function() { return this.tb.ae() } ; d.prototype.Fm = function(a) { this.tb.add(a) } ; d.prototype.remove = function(a) { this.tb.remove(a) } ; d.prototype.dump = function(a) { Ba(a, this.tb.bd()) } ; ca = d; var D = []; w.prototype.ae = function() { if (!this.tb.length) return !0; if (this.tb.length > this.Id.count()) return !1; this.jm(); return !0 } ; w.prototype.Fm = function(a) { this.Id.contains(a) ? (this.Id.remove(a), this.Id.ae() && (this.nh = !1)) : this.tb.length ? (this.tb[this.tb.length - 1].Wc() > a.Wc() && (this.zg = !1), this.tb.push(a)) : (this.tb.push(a), this.zg = !0) } ; w.prototype.remove = function(a) { this.Id.add(a); this.nh = !0; 30 <= this.Id.count() && this.jm() } ; w.prototype.jm = function() { this.nh && (this.Id.count() === this.tb.length ? this.reset() : ($a(this.tb, this.Id), this.Id.clear(), this.nh = !1)) } ; w.prototype.Dv = function() { this.zg || (this.tb.sort(k), this.zg = !0) } ; w.prototype.reset = function() { x(this.tb); this.zg = !0; this.Id.clear(); this.nh = !1 } ; w.prototype.dump = function(a) { this.jm(); this.Dv(); this.tb.length && a.push(this.tb) } ; fa = w; var I = "lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" "); mb = function(a) { return 0 >= a || 11 <= a ? "source-over" : I[a - 1] } ; nb = function(a, d, c) { if (c) switch (a.qb = c.ONE, a.eb = c.ONE_MINUS_SRC_ALPHA, d) { case 1: a.qb = c.ONE; a.eb = c.ONE; break; case 3: a.qb = c.ONE; a.eb = c.ZERO; break; case 4: a.qb = c.ONE_MINUS_DST_ALPHA; a.eb = c.ONE; break; case 5: a.qb = c.DST_ALPHA; a.eb = c.ZERO; break; case 6: a.qb = c.ZERO; a.eb = c.SRC_ALPHA; break; case 7: a.qb = c.ONE_MINUS_DST_ALPHA; a.eb = c.ZERO; break; case 8: a.qb = c.ZERO; a.eb = c.ONE_MINUS_SRC_ALPHA; break; case 9: a.qb = c.DST_ALPHA; a.eb = c.ONE_MINUS_SRC_ALPHA; break; case 10: a.qb = c.ONE_MINUS_DST_ALPHA, a.eb = c.SRC_ALPHA } } ; ob = function(a) { return Math.round(1E6 * a) / 1E6 } ; pb = function(a, d) { return "string" !== typeof a || "string" !== typeof d || a.length !== d.length ? !1 : a === d ? !0 : a.toLowerCase() === d.toLowerCase() } ; qb = function(a) { a = a.target; return !a || a === document || a === window || document && document.body && a === document.body || pb(a.tagName, "canvas") ? !0 : !1 } } )(); var jc = "undefined" !== typeof Float32Array ? Float32Array : Array; function kc(e) { var h = new jc(3); e && (h[0] = e[0], h[1] = e[1], h[2] = e[2]); return h } function lc(e) { var h = new jc(16); e && (h[0] = e[0], h[1] = e[1], h[2] = e[2], h[3] = e[3], h[4] = e[4], h[5] = e[5], h[6] = e[6], h[7] = e[7], h[8] = e[8], h[9] = e[9], h[10] = e[10], h[11] = e[11], h[12] = e[12], h[13] = e[13], h[14] = e[14], h[15] = e[15]); return h } function mc(e, h) { h[0] = e[0]; h[1] = e[1]; h[2] = e[2]; h[3] = e[3]; h[4] = e[4]; h[5] = e[5]; h[6] = e[6]; h[7] = e[7]; h[8] = e[8]; h[9] = e[9]; h[10] = e[10]; h[11] = e[11]; h[12] = e[12]; h[13] = e[13]; h[14] = e[14]; h[15] = e[15] } function nc(e, h) { var b = h[0] , l = h[1]; h = h[2]; e[0] *= b; e[1] *= b; e[2] *= b; e[3] *= b; e[4] *= l; e[5] *= l; e[6] *= l; e[7] *= l; e[8] *= h; e[9] *= h; e[10] *= h; e[11] *= h } function oc(e, h, b, l) { l || (l = lc()); var r, p, m, a, c, f, d, g, w = e[0], k = e[1]; e = e[2]; p = b[0]; m = b[1]; r = b[2]; b = h[1]; f = h[2]; w === h[0] && k === b && e === f ? (e = l, e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = 1, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[10] = 1, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1) : (b = w - h[0], f = k - h[1], d = e - h[2], g = 1 / Math.sqrt(b * b + f * f + d * d), b *= g, f *= g, d *= g, h = m * d - r * f, r = r * b - p * d, p = p * f - m * b, (g = Math.sqrt(h * h + r * r + p * p)) ? (g = 1 / g, h *= g, r *= g, p *= g) : p = r = h = 0, m = f * p - d * r, a = d * h - b * p, c = b * r - f * h, (g = Math.sqrt(m * m + a * a + c * c)) ? (g = 1 / g, m *= g, a *= g, c *= g) : c = a = m = 0, l[0] = h, l[1] = m, l[2] = b, l[3] = 0, l[4] = r, l[5] = a, l[6] = f, l[7] = 0, l[8] = p, l[9] = c, l[10] = d, l[11] = 0, l[12] = -(h * w + r * k + p * e), l[13] = -(m * w + a * k + c * e), l[14] = -(b * w + f * k + d * e), l[15] = 1) } (function() { function e(a, c, f) { this.be = /msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent); this.height = this.width = 0; this.Fa = !!f; this.gk = this.Lh = !1; this.Wl = 0; this.yl = 1; this.qo = 1E3; this.Qy = (this.qo - this.yl) / 32768; this.Ol = kc([0, 0, 100]); this.Hq = kc([0, 0, 0]); this.rs = kc([0, 1, 0]); this.aj = kc([1, 1, 1]); this.Kp = !0; this.Ak = lc(); this.Mc = lc(); this.Pm = lc(); this.Vl = lc(); this.p = a; this.version = 0 === this.p.getParameter(this.p.VERSION).indexOf("WebGL 2") ? 2 : 1; this.kq() } function h(a, c, f) { this.p = a; this.Ii = c; this.name = f; this.Yc = a.getAttribLocation(c, "aPos"); this.Xe = a.getAttribLocation(c, "aTex"); this.Fq = a.getUniformLocation(c, "matP"); this.wk = a.getUniformLocation(c, "matMV"); this.Hg = a.getUniformLocation(c, "opacity"); this.Tm = a.getUniformLocation(c, "colorFill"); this.Gq = a.getUniformLocation(c, "samplerFront"); this.bi = a.getUniformLocation(c, "samplerBack"); this.Jf = a.getUniformLocation(c, "destStart"); this.If = a.getUniformLocation(c, "destEnd"); this.di = a.getUniformLocation(c, "seconds"); this.Vm = a.getUniformLocation(c, "pixelWidth"); this.Um = a.getUniformLocation(c, "pixelHeight"); this.ai = a.getUniformLocation(c, "layerScale"); this.$h = a.getUniformLocation(c, "layerAngle"); this.ei = a.getUniformLocation(c, "viewOrigin"); this.ci = a.getUniformLocation(c, "scrollPos"); this.Pw = !!(this.Vm || this.Um || this.di || this.bi || this.Jf || this.If || this.ai || this.$h || this.ei || this.ci); this.Pq = this.Qq = -999; this.zk = 1; this.Lq = this.Kq = 0; this.Nq = this.Jq = this.Iq = 1; this.Tq = this.Sq = this.Rq = this.Vq = this.Uq = this.Mq = 0; this.Om = []; this.Oq = lc(); this.Hg && a.uniform1f(this.Hg, 1); this.Tm && a.uniform4f(this.Tm, 1, 1, 1, 1); this.Gq && a.uniform1i(this.Gq, 0); this.bi && a.uniform1i(this.bi, 1); this.Jf && a.uniform2f(this.Jf, 0, 0); this.If && a.uniform2f(this.If, 1, 1); this.ai && a.uniform1f(this.ai, 1); this.$h && a.uniform1f(this.$h, 0); this.ei && a.uniform2f(this.ei, 0, 0); this.ci && a.uniform2f(this.ci, 0, 0); this.di && a.uniform1f(this.di, 0); this.xf = !1 } function b(a, c) { return a[0] === c[0] && a[1] === c[1] && a[2] === c[2] && a[3] === c[3] && a[4] === c[4] && a[5] === c[5] && a[6] === c[6] && a[7] === c[7] && a[8] === c[8] && a[9] === c[9] && a[10] === c[10] && a[11] === c[11] && a[12] === c[12] && a[13] === c[13] && a[14] === c[14] && a[15] === c[15] } function l(a, c) { this.type = a; this.q = c; this.p = c.p; this.Dd = this.hc = this.or = 0; this.T = this.ad = null; this.Wr = [] } var r = lc(); e.prototype.kq = function() { var a = this.p, c; this.Aq = 1; this.Ef = this.Ue = null; this.Ej = 1; a.clearColor(0, 0, 0, 0); a.clear(a.COLOR_BUFFER_BIT); a.enable(a.BLEND); a.blendFunc(a.ONE, a.ONE_MINUS_SRC_ALPHA); a.disable(a.CULL_FACE); a.disable(a.STENCIL_TEST); a.disable(a.DITHER); this.Fa ? (a.enable(a.DEPTH_TEST), a.depthFunc(a.LEQUAL)) : a.disable(a.DEPTH_TEST); this.Bq = a.ONE; this.zq = a.ONE_MINUS_SRC_ALPHA; this.wl = new Float32Array(8E3 * (this.Fa ? 3 : 2)); this.jl = new Float32Array(16E3); this.Ar = new Float32Array(32E3); this.un = a.createBuffer(); a.bindBuffer(a.ARRAY_BUFFER, this.un); a.bufferData(a.ARRAY_BUFFER, this.Ar.byteLength, a.DYNAMIC_DRAW); this.$i = Array(4); this.Ri = Array(4); for (c = 0; 4 > c; c++) this.$i[c] = a.createBuffer(), a.bindBuffer(a.ARRAY_BUFFER, this.$i[c]), a.bufferData(a.ARRAY_BUFFER, this.wl.byteLength, a.DYNAMIC_DRAW), this.Ri[c] = a.createBuffer(), a.bindBuffer(a.ARRAY_BUFFER, this.Ri[c]), a.bufferData(a.ARRAY_BUFFER, this.jl.byteLength, a.DYNAMIC_DRAW); this.Sd = 0; this.Tw = a.createBuffer(); a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.Tw); for (var f = new Uint16Array(12E3), d = c = 0; 12E3 > c; ) f[c++] = d, f[c++] = d + 1, f[c++] = d + 2, f[c++] = d, f[c++] = d + 2, f[c++] = d + 3, d += 4; a.bufferData(a.ELEMENT_ARRAY_BUFFER, f, a.STATIC_DRAW); this.vn = this.ah = this.xe = 0; this.Qa = []; c = this.Fa ? "attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}" : "attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}"; f = this.sh({ src: "varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}" }, c, "<default>"); this.Qa.push(f); f = this.sh({ src: "uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}" }, "attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}", "<point>"); this.Qa.push(f); f = this.sh({ src: "varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}" }, c, "<earlyz>"); this.Qa.push(f); f = this.sh({ src: "uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}" }, c, "<fill>"); this.Qa.push(f); for (var g in pc) pc.hasOwnProperty(g) && this.Qa.push(this.sh(pc[g], c, g)); a.activeTexture(a.TEXTURE0); a.bindTexture(a.TEXTURE_2D, null); this.Fe = []; this.Qd = 0; this.Rb = !1; this.Ap = this.Yh = -1; this.kg = null; this.hm = a.createFramebuffer(); this.Ij = this.Vk = null; this.mp = !1; this.Fa && (this.Ij = a.createRenderbuffer()); this.df = kc([0, 0, 0]); this.Wq = a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1]; 2048 < this.Wq && (this.Wq = 2048); this.Lb(0) } ; h.prototype.jo = function(a) { b(this.Oq, a) || (mc(a, this.Oq), this.p.uniformMatrix4fv(this.wk, !1, a)) } ; e.prototype.sh = function(a, c, f) { var d = this.p , g = d.createShader(d.FRAGMENT_SHADER); d.shaderSource(g, a.src); d.compileShader(g); if (!d.getShaderParameter(g, d.COMPILE_STATUS)) return d.deleteShader(g), null; var b = d.createShader(d.VERTEX_SHADER); d.shaderSource(b, c); d.compileShader(b); if (!d.getShaderParameter(b, d.COMPILE_STATUS)) return d.deleteShader(g), d.deleteShader(b), null; c = d.createProgram(); d.attachShader(c, g); d.attachShader(c, b); d.linkProgram(c); if (!d.getProgramParameter(c, d.LINK_STATUS)) return d.deleteShader(g), d.deleteShader(b), d.deleteProgram(c), null; d.useProgram(c); d.deleteShader(g); d.deleteShader(b); f = new h(d,c,f); f.fm = a.fm || 0; f.gm = a.gm || 0; f.zp = !!a.zp; f.md = !!a.md; f.kp = !!a.kp; f.O = a.O || []; a = 0; for (g = f.O.length; a < g; a++) f.O[a][1] = d.getUniformLocation(c, f.O[a][0]), f.Om.push(0), d.uniform1f(f.O[a][1], 0); return f } ; e.prototype.vm = function(a) { var c, f; c = 0; for (f = this.Qa.length; c < f; c++) if (this.Qa[c].name === a) return c; return -1 } ; e.prototype.Dr = function(a, c, f) { var d = this.Mc , g = this.Ak , b = [0, 0, 0, 0, 0, 0, 0, 0]; b[0] = d[0] * a + d[4] * c + d[12]; b[1] = d[1] * a + d[5] * c + d[13]; b[2] = d[2] * a + d[6] * c + d[14]; b[3] = d[3] * a + d[7] * c + d[15]; b[4] = g[0] * b[0] + g[4] * b[1] + g[8] * b[2] + g[12] * b[3]; b[5] = g[1] * b[0] + g[5] * b[1] + g[9] * b[2] + g[13] * b[3]; b[6] = g[2] * b[0] + g[6] * b[1] + g[10] * b[2] + g[14] * b[3]; b[7] = -b[2]; 0 !== b[7] && (b[7] = 1 / b[7], b[4] *= b[7], b[5] *= b[7], b[6] *= b[7], f[0] = (.5 * b[4] + .5) * this.width, f[1] = (.5 * b[5] + .5) * this.height) } ; e.prototype.pe = function(a, c, f) { if (this.width !== a || this.height !== c || f) { this.Oe(); f = this.p; this.width = a; this.height = c; f.viewport(0, 0, a, c); oc(this.Ol, this.Hq, this.rs, this.Mc); if (this.Fa) { var d = -a / 2; a = a / 2; var g = c / 2; c = -c / 2; var b = this.yl , k = this.qo , h = this.Ak; h || (h = lc()); var e = a - d , t = c - g , n = k - b; h[0] = 2 / e; h[1] = 0; h[2] = 0; h[3] = 0; h[4] = 0; h[5] = 2 / t; h[6] = 0; h[7] = 0; h[8] = 0; h[9] = 0; h[10] = -2 / n; h[11] = 0; h[12] = -(d + a) / e; h[13] = -(c + g) / t; h[14] = -(k + b) / n; h[15] = 1; this.aj[0] = 1; this.aj[1] = 1 } else c = a / c, d = this.yl, a = this.qo, h = this.Ak, k = d * Math.tan(45 * Math.PI / 360), c *= k, g = -c, b = -k, h || (h = lc()), e = c - g, t = k - b, n = a - d, h[0] = 2 * d / e, h[1] = 0, h[2] = 0, h[3] = 0, h[4] = 0, h[5] = 2 * d / t, h[6] = 0, h[7] = 0, h[8] = (c + g) / e, h[9] = (k + b) / t, h[10] = -(a + d) / n, h[11] = -1, h[12] = 0, h[13] = 0, h[14] = -(a * d * 2) / n, h[15] = 0, d = [0, 0], a = [0, 0], this.Dr(0, 0, d), this.Dr(1, 1, a), this.aj[0] = 1 / (a[0] - d[0]), this.aj[1] = -1 / (a[1] - d[1]); d = 0; for (a = this.Qa.length; d < a; d++) g = this.Qa[d], g.xf = !1, g.Fq && (f.useProgram(g.Ii), f.uniformMatrix4fv(g.Fq, !1, this.Ak)); f.useProgram(this.Qa[this.Yh].Ii); f.bindTexture(f.TEXTURE_2D, null); f.activeTexture(f.TEXTURE1); f.bindTexture(f.TEXTURE_2D, null); f.activeTexture(f.TEXTURE0); this.Ef = this.Ue = null; this.Ij && (f.bindFramebuffer(f.FRAMEBUFFER, this.hm), f.bindRenderbuffer(f.RENDERBUFFER, this.Ij), f.renderbufferStorage(f.RENDERBUFFER, f.DEPTH_COMPONENT16, this.width, this.height), this.mp || (f.framebufferRenderbuffer(f.FRAMEBUFFER, f.DEPTH_ATTACHMENT, f.RENDERBUFFER, this.Ij), this.mp = !0), f.bindRenderbuffer(f.RENDERBUFFER, null), f.bindFramebuffer(f.FRAMEBUFFER, null), this.Vk = null) } } ; e.prototype.Oc = function() { oc(this.Ol, this.Hq, this.rs, this.Mc); nc(this.Mc, this.aj) } ; e.prototype.translate = function(a, c) { if (0 !== a || 0 !== c) { this.df[0] = a; this.df[1] = c; this.df[2] = 0; var f = this.Mc , d = this.df , g = d[0] , b = d[1] , d = d[2]; f[12] = f[0] * g + f[4] * b + f[8] * d + f[12]; f[13] = f[1] * g + f[5] * b + f[9] * d + f[13]; f[14] = f[2] * g + f[6] * b + f[10] * d + f[14]; f[15] = f[3] * g + f[7] * b + f[11] * d + f[15] } } ; e.prototype.scale = function(a, c) { if (1 !== a || 1 !== c) this.df[0] = a, this.df[1] = c, this.df[2] = 1, nc(this.Mc, this.df) } ; e.prototype.Ci = function(a) { if (0 !== a) { var c = this.Mc, f, d = Math.sin(a); a = Math.cos(a); var g = c[0] , b = c[1] , k = c[2] , h = c[3] , e = c[4] , t = c[5] , n = c[6] , q = c[7]; f ? c !== f && (f[8] = c[8], f[9] = c[9], f[10] = c[10], f[11] = c[11], f[12] = c[12], f[13] = c[13], f[14] = c[14], f[15] = c[15]) : f = c; f[0] = g * a + e * d; f[1] = b * a + t * d; f[2] = k * a + n * d; f[3] = h * a + q * d; f[4] = g * -d + e * a; f[5] = b * -d + t * a; f[6] = k * -d + n * a; f[7] = h * -d + q * a } } ; e.prototype.Ec = function() { if (!b(this.Pm, this.Mc)) { var a = this.Cc(); a.type = 5; a.T ? mc(this.Mc, a.T) : a.T = lc(this.Mc); mc(this.Mc, this.Pm); this.Rb = !1 } } ; e.prototype.al = function(a) { this.Fa && (32760 < a && (a = 32760), this.Wl = this.Ol[2] - this.yl - a * this.Qy) } ; l.prototype.nv = function() { var a = this.p , c = this.q; 0 !== this.hc ? (a.depthMask(!0), a.colorMask(!1, !1, !1, !1), a.disable(a.BLEND), a.bindFramebuffer(a.FRAMEBUFFER, c.hm), a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, null, 0), a.clear(a.DEPTH_BUFFER_BIT), a.bindFramebuffer(a.FRAMEBUFFER, null), c.gk = !0) : (a.depthMask(!1), a.colorMask(!0, !0, !0, !0), a.enable(a.BLEND), c.gk = !1) } ; l.prototype.rv = function() { this.p.bindTexture(this.p.TEXTURE_2D, this.ad) } ; l.prototype.sv = function() { var a = this.p; a.activeTexture(a.TEXTURE1); a.bindTexture(a.TEXTURE_2D, this.ad); a.activeTexture(a.TEXTURE0) } ; l.prototype.ov = function() { var a = this.or , c = this.q; c.Ej = a; c = c.kg; c.Hg && c.zk !== a && (c.zk = a, this.p.uniform1f(c.Hg, a)) } ; l.prototype.iv = function() { this.p.drawElements(this.p.TRIANGLES, this.Dd, this.p.UNSIGNED_SHORT, this.hc) } ; l.prototype.kv = function() { this.p.blendFunc(this.hc, this.Dd) } ; l.prototype.tv = function() { var a, c, f, d = this.q.Qa, g = this.q.Ap; a = 0; for (c = d.length; a < c; a++) f = d[a], a === g && f.wk ? (f.jo(this.T), f.xf = !0) : f.xf = !1; mc(this.T, this.q.Vl) } ; l.prototype.jv = function() { var a = this.p , c = this.q; this.ad ? (c.Ef === this.ad && (a.activeTexture(a.TEXTURE1), a.bindTexture(a.TEXTURE_2D, null), c.Ef = null, a.activeTexture(a.TEXTURE0)), a.bindFramebuffer(a.FRAMEBUFFER, c.hm), c.gk || a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, this.ad, 0)) : (c.Fa || a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, null, 0), a.bindFramebuffer(a.FRAMEBUFFER, null)) } ; l.prototype.dv = function() { var a = this.p , c = this.hc; 0 === c ? (a.clearColor(this.T[0], this.T[1], this.T[2], this.T[3]), a.clear(a.COLOR_BUFFER_BIT)) : 1 === c ? (a.enable(a.SCISSOR_TEST), a.scissor(this.T[0], this.T[1], this.T[2], this.T[3]), a.clearColor(0, 0, 0, 0), a.clear(a.COLOR_BUFFER_BIT), a.disable(a.SCISSOR_TEST)) : a.clear(a.DEPTH_BUFFER_BIT) } ; l.prototype.mv = function() { var a = this.p; 0 !== this.hc ? a.enable(a.DEPTH_TEST) : a.disable(a.DEPTH_TEST) } ; l.prototype.hv = function() { var a = this.p , c = this.q; c.Fa && a.disable(a.DEPTH_TEST); var f = c.Qa[1]; a.useProgram(f.Ii); !f.xf && f.wk && (f.jo(c.Vl), f.xf = !0); a.enableVertexAttribArray(f.Yc); a.bindBuffer(a.ARRAY_BUFFER, c.un); a.vertexAttribPointer(f.Yc, 4, a.FLOAT, !1, 0, 0); a.drawArrays(a.POINTS, this.hc / 4, this.Dd); f = c.kg; a.useProgram(f.Ii); 0 <= f.Yc && (a.enableVertexAttribArray(f.Yc), a.bindBuffer(a.ARRAY_BUFFER, c.$i[c.Sd]), a.vertexAttribPointer(f.Yc, c.Fa ? 3 : 2, a.FLOAT, !1, 0, 0)); 0 <= f.Xe && (a.enableVertexAttribArray(f.Xe), a.bindBuffer(a.ARRAY_BUFFER, c.Ri[c.Sd]), a.vertexAttribPointer(f.Xe, 2, a.FLOAT, !1, 0, 0)); c.Fa && a.enable(a.DEPTH_TEST) } ; l.prototype.pv = function() { var a = this.p , c = this.q , f = c.Qa[this.hc]; c.Ap = this.hc; c.kg = f; a.useProgram(f.Ii); !f.xf && f.wk && (f.jo(c.Vl), f.xf = !0); f.Hg && f.zk !== c.Ej && (f.zk = c.Ej, a.uniform1f(f.Hg, c.Ej)); 0 <= f.Yc && (a.enableVertexAttribArray(f.Yc), a.bindBuffer(a.ARRAY_BUFFER, c.$i[c.Sd]), a.vertexAttribPointer(f.Yc, c.Fa ? 3 : 2, a.FLOAT, !1, 0, 0)); 0 <= f.Xe && (a.enableVertexAttribArray(f.Xe), a.bindBuffer(a.ARRAY_BUFFER, c.Ri[c.Sd]), a.vertexAttribPointer(f.Xe, 2, a.FLOAT, !1, 0, 0)) } ; l.prototype.lv = function() { var a = this.T; this.p.uniform4f(this.q.kg.Tm, a[0], a[1], a[2], a[3]) } ; l.prototype.qv = function() { var a, c, f = this.q.kg, d = this.p; a = this.T; f.bi && this.q.Ef !== this.ad && (d.activeTexture(d.TEXTURE1), d.bindTexture(d.TEXTURE_2D, this.ad), this.q.Ef = this.ad, d.activeTexture(d.TEXTURE0)); var g = a[0]; f.Vm && g !== f.Qq && (f.Qq = g, d.uniform1f(f.Vm, g)); g = a[1]; f.Um && g !== f.Pq && (f.Pq = g, d.uniform1f(f.Um, g)); g = a[2]; c = a[3]; !f.Jf || g === f.Kq && c === f.Lq || (f.Kq = g, f.Lq = c, d.uniform2f(f.Jf, g, c)); g = a[4]; c = a[5]; !f.If || g === f.Iq && c === f.Jq || (f.Iq = g, f.Jq = c, d.uniform2f(f.If, g, c)); g = a[6]; f.ai && g !== f.Nq && (f.Nq = g, d.uniform1f(f.ai, g)); g = a[7]; f.$h && g !== f.Mq && (f.Mq = g, d.uniform1f(f.$h, g)); g = a[8]; c = a[9]; !f.ei || g === f.Uq && c === f.Vq || (f.Uq = g, f.Vq = c, d.uniform2f(f.ei, g, c)); g = a[10]; c = a[11]; !f.ci || g === f.Rq && c === f.Sq || (f.Rq = g, f.Sq = c, d.uniform2f(f.ci, g, c)); g = a[12]; f.di && g !== f.Tq && (f.Tq = g, d.uniform1f(f.di, g)); if (f.O.length) for (a = 0, c = f.O.length; a < c; a++) g = this.Wr[a], g !== f.Om[a] && (f.Om[a] = g, d.uniform1f(f.O[a][1], g)) } ; e.prototype.Cc = function() { this.Qd === this.Fe.length && this.Fe.push(new l(0,this)); return this.Fe[this.Qd++] } ; e.prototype.Oe = function() { if (0 !== this.Qd && !this.p.isContextLost()) { var a = this.p; 0 < this.vn && (a.bindBuffer(a.ARRAY_BUFFER, this.un), a.bufferSubData(a.ARRAY_BUFFER, 0, this.Ar.subarray(0, this.vn)), c && 0 <= c.Yc && "<point>" === c.name && a.vertexAttribPointer(c.Yc, 4, a.FLOAT, !1, 0, 0)); if (0 < this.xe) { var c = this.kg; a.bindBuffer(a.ARRAY_BUFFER, this.$i[this.Sd]); a.bufferSubData(a.ARRAY_BUFFER, 0, this.wl.subarray(0, this.xe)); c && 0 <= c.Yc && "<point>" !== c.name && a.vertexAttribPointer(c.Yc, this.Fa ? 3 : 2, a.FLOAT, !1, 0, 0); a.bindBuffer(a.ARRAY_BUFFER, this.Ri[this.Sd]); a.bufferSubData(a.ARRAY_BUFFER, 0, this.jl.subarray(0, this.ah)); c && 0 <= c.Xe && "<point>" !== c.name && a.vertexAttribPointer(c.Xe, 2, a.FLOAT, !1, 0, 0) } for (var f, a = 0, c = this.Qd; a < c; a++) switch (f = this.Fe[a], f.type) { case 1: f.iv(); break; case 2: f.rv(); break; case 3: f.ov(); break; case 4: f.kv(); break; case 5: f.tv(); break; case 6: f.jv(); break; case 7: f.dv(); break; case 8: f.hv(); break; case 9: f.pv(); break; case 10: f.qv(); break; case 11: f.sv(); break; case 12: f.lv(); break; case 13: f.mv(); break; case 14: f.nv() } this.vn = this.ah = this.xe = this.Qd = 0; this.gk = this.Rb = !1; this.Sd++; 4 <= this.Sd && (this.Sd = 0) } } ; e.prototype.bf = function(a) { if (a !== this.Aq && !this.Lh) { var c = this.Cc(); c.type = 3; this.Aq = c.or = a; this.Rb = !1 } } ; e.prototype.wb = function(a) { if (a !== this.Ue) { var c = this.Cc(); c.type = 2; this.Ue = c.ad = a; this.Rb = !1 } } ; e.prototype.Kd = function(a, c) { if ((a !== this.Bq || c !== this.zq) && !this.Lh) { var f = this.Cc(); f.type = 4; f.hc = a; f.Dd = c; this.Bq = a; this.zq = c; this.Rb = !1 } } ; e.prototype.Mn = function() { this.Kd(this.p.ONE, this.p.ONE_MINUS_SRC_ALPHA) } ; e.prototype.Pf = function(a, c, f, d, g, b, k, h) { 15992 <= this.xe && this.Oe(); var e = this.xe , t = this.ah , n = this.wl , q = this.jl , l = this.Wl; if (this.Rb) this.Fe[this.Qd - 1].Dd += 6; else { var m = this.Cc(); m.type = 1; m.hc = this.Fa ? e : e / 2 * 3; m.Dd = 6; this.Rb = !0 } this.Fa ? (n[e++] = a, n[e++] = c, n[e++] = l, n[e++] = f, n[e++] = d, n[e++] = l, n[e++] = g, n[e++] = b, n[e++] = l, n[e++] = k, n[e++] = h, n[e++] = l) : (n[e++] = a, n[e++] = c, n[e++] = f, n[e++] = d, n[e++] = g, n[e++] = b, n[e++] = k, n[e++] = h); q[t++] = 0; q[t++] = 0; q[t++] = 1; q[t++] = 0; q[t++] = 1; q[t++] = 1; q[t++] = 0; q[t++] = 1; this.xe = e; this.ah = t } ; e.prototype.ne = function(a, c, f, d, g, b, k, h, e) { 15992 <= this.xe && this.Oe(); var t = this.xe , n = this.ah , q = this.wl , l = this.jl , m = this.Wl; if (this.Rb) this.Fe[this.Qd - 1].Dd += 6; else { var r = this.Cc(); r.type = 1; r.hc = this.Fa ? t : t / 2 * 3; r.Dd = 6; this.Rb = !0 } var r = e.left , p = e.top , F = e.right; e = e.bottom; this.Fa ? (q[t++] = a, q[t++] = c, q[t++] = m, q[t++] = f, q[t++] = d, q[t++] = m, q[t++] = g, q[t++] = b, q[t++] = m, q[t++] = k, q[t++] = h, q[t++] = m) : (q[t++] = a, q[t++] = c, q[t++] = f, q[t++] = d, q[t++] = g, q[t++] = b, q[t++] = k, q[t++] = h); l[n++] = r; l[n++] = p; l[n++] = F; l[n++] = p; l[n++] = F; l[n++] = e; l[n++] = r; l[n++] = e; this.xe = t; this.ah = n } ; e.prototype.Lb = function(a) { if (this.Yh !== a) { if (!this.Qa[a]) { if (0 === this.Yh) return; a = 0 } var c = this.Cc(); c.type = 9; this.Yh = c.hc = a; this.Rb = !1 } } ; e.prototype.xi = function(a) { a = this.Qa[a]; return !(!a.Jf && !a.If) } ; e.prototype.zn = function(a) { a = this.Qa[a]; return !!(a.Jf || a.If || a.zp) } ; e.prototype.yn = function(a) { return this.Qa[a].md } ; e.prototype.Vx = function(a) { a = this.Qa[a]; return 0 !== a.fm || 0 !== a.gm } ; e.prototype.xw = function(a) { return this.Qa[a].fm } ; e.prototype.yw = function(a) { return this.Qa[a].gm } ; e.prototype.zw = function(a, c) { return this.Qa[a].O[c][2] } ; e.prototype.Sk = function(a) { return this.Qa[a].kp } ; e.prototype.Uf = function(a, c, f, d, g, b, k, h, e, t, n, q, l, m, r) { var p = this.Qa[this.Yh], F, D; if (p.Pw || r.length) { F = this.Cc(); F.type = 10; F.T ? mc(this.Mc, F.T) : F.T = lc(); D = F.T; D[0] = c; D[1] = f; D[2] = d; D[3] = g; D[4] = b; D[5] = k; D[6] = h; D[7] = e; D[8] = t; D[9] = n; D[10] = q; D[11] = l; D[12] = m; p.bi ? F.ad = a : F.ad = null; if (r.length) for (f = F.Wr, f.length = r.length, a = 0, c = r.length; a < c; a++) f[a] = r[a]; this.Rb = !1 } } ; e.prototype.clear = function(a, c, f, d) { var g = this.Cc(); g.type = 7; g.hc = 0; g.T || (g.T = lc()); g.T[0] = a; g.T[1] = c; g.T[2] = f; g.T[3] = d; this.Rb = !1 } ; e.prototype.clearRect = function(a, c, f, d) { if (!(0 > f || 0 > d)) { var g = this.Cc(); g.type = 7; g.hc = 1; g.T || (g.T = lc()); g.T[0] = a; g.T[1] = c; g.T[2] = f; g.T[3] = d; this.Rb = !1 } } ; e.prototype.Qr = function(a) { if (this.Fa && (a = !!a, this.Lh !== a)) { var c = this.Cc(); c.type = 14; c.hc = a ? 1 : 0; this.Rb = !1; this.Lh = a; this.Vk = null; this.Lh ? this.Lb(2) : this.Lb(0) } } ; e.prototype.Or = function(a) { if (this.Fa) { var c = this.Cc(); c.type = 13; c.hc = a ? 1 : 0; this.Rb = !1 } } ; e.prototype.Up = function() { mc(this.Pm, r); this.Oc(); this.Ec(); var a = this.width / 2 , c = this.height / 2; this.Pf(-a, c, a, c, a, -c, -a, -c); mc(r, this.Mc); this.Ec() } ; e.prototype.Nr = function(a, c, f) { this.Lb(3); var d = this.Cc(); d.type = 12; d.T || (d.T = lc()); d.T[0] = a; d.T[1] = c; d.T[2] = f; d.T[3] = 1; this.Rb = !1 } ; e.prototype.vy = function() { this.Lb(0) } ; e.prototype.cy = function() { this.Lb(2) } ; e.prototype.Ux = function() { this.Oe(); this.p.flush() } ; var p = [] , m = {}; e.prototype.Wu = function() { x(p); m = {} } ; e.prototype.uk = function(a, c, f, d) { c = !!c; f = !!f; var g = a.src + "," + c + "," + f + (c ? ",undefined" : "") , b = null; if ("undefined" !== typeof a.src && m.hasOwnProperty(g)) return b = m[g], b.tj++, b; this.Oe(); var k = this.p , h = la(a.width) && la(a.height) , b = k.createTexture(); k.bindTexture(k.TEXTURE_2D, b); k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0); var e = k.RGBA , t = k.RGBA , n = k.UNSIGNED_BYTE; if (d && !this.be) switch (d) { case 1: t = e = k.RGB; break; case 2: n = k.UNSIGNED_SHORT_4_4_4_4; break; case 3: n = k.UNSIGNED_SHORT_5_5_5_1; break; case 4: t = e = k.RGB, n = k.UNSIGNED_SHORT_5_6_5 } if (1 === this.version && !h && c) { d = document.createElement("canvas"); d.width = ma(a.width); d.height = ma(a.height); var q = d.getContext("2d"); "undefined" !== typeof q.imageSmoothingEnabled ? q.imageSmoothingEnabled = f : (q.webkitImageSmoothingEnabled = f, q.mozImageSmoothingEnabled = f, q.msImageSmoothingEnabled = f); q.drawImage(a, 0, 0, a.width, a.height, 0, 0, d.width, d.height); k.texImage2D(k.TEXTURE_2D, 0, e, t, n, d) } else k.texImage2D(k.TEXTURE_2D, 0, e, t, n, a); c ? (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, k.REPEAT), k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, k.REPEAT)) : (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, k.CLAMP_TO_EDGE), k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, k.CLAMP_TO_EDGE)); f ? (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MAG_FILTER, k.LINEAR), (h || 2 <= this.version) && this.Kp ? (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MIN_FILTER, k.LINEAR_MIPMAP_LINEAR), k.generateMipmap(k.TEXTURE_2D)) : k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MIN_FILTER, k.LINEAR)) : (k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MAG_FILTER, k.NEAREST), k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MIN_FILTER, k.NEAREST)); k.bindTexture(k.TEXTURE_2D, null); this.Ue = null; b.He = a.width; b.Ge = a.height; b.tj = 1; b.qp = g; p.push(b); return m[g] = b } ; e.prototype.$b = function(a, c, f, d) { this.Oe(); var g = this.p; this.be && (d = !1); var b = g.createTexture(); g.bindTexture(g.TEXTURE_2D, b); g.texImage2D(g.TEXTURE_2D, 0, g.RGBA, a, c, 0, g.RGBA, d ? g.UNSIGNED_SHORT_4_4_4_4 : g.UNSIGNED_BYTE, null); g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.CLAMP_TO_EDGE); g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.CLAMP_TO_EDGE); g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MAG_FILTER, f ? g.LINEAR : g.NEAREST); g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, f ? g.LINEAR : g.NEAREST); g.bindTexture(g.TEXTURE_2D, null); this.Ue = null; b.He = a; b.Ge = c; p.push(b); return b } ; e.prototype.My = function(a, c, f) { this.Oe(); var d = this.p; this.be && (f = !1); d.bindTexture(d.TEXTURE_2D, c); d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0); try { d.texImage2D(d.TEXTURE_2D, 0, d.RGBA, d.RGBA, f ? d.UNSIGNED_SHORT_4_4_4_4 : d.UNSIGNED_BYTE, a) } catch (g) { console && console.error && console.error("Error updating WebGL texture: ", g) } d.bindTexture(d.TEXTURE_2D, null); this.Ue = null } ; e.prototype.deleteTexture = function(a) { a && ("undefined" !== typeof a.tj && 1 < a.tj ? a.tj-- : (this.Oe(), a === this.Ue && (this.p.bindTexture(this.p.TEXTURE_2D, null), this.Ue = null), a === this.Ef && (this.p.activeTexture(this.p.TEXTURE1), this.p.bindTexture(this.p.TEXTURE_2D, null), this.p.activeTexture(this.p.TEXTURE0), this.Ef = null), Ea(p, a), "undefined" !== typeof a.qp && delete m[a.qp], this.p.deleteTexture(a))) } ; e.prototype.Kb = function(a) { if (a !== this.Vk) { var c = this.Cc(); c.type = 6; this.Vk = c.ad = a; this.Rb = !1 } } ; rb = e } )(); (function() { function e(a) { if (a && (a.getContext || a.dc) && !a.c2runtime) { a.c2runtime = this; var d = this; this.oc = (this.hk = /crosswalk/i.test(navigator.userAgent) || /xwalk/i.test(navigator.userAgent) || !("undefined" === typeof window.c2isCrosswalk || !window.c2isCrosswalk)) || "undefined" !== typeof window.device && ("undefined" !== typeof window.device.cordova || "undefined" !== typeof window.device.phonegap) || "undefined" !== typeof window.c2iscordova && window.c2iscordova; this.Eb = !!a.dc; this.rq = "undefined" !== typeof window.AppMobi || this.Eb; this.nc = !!window.c2cocoonjs; this.Kc = !!window.c2ejecta; this.nc && (CocoonJS.App.onSuspended.addEventListener(function() { d.setSuspended(!0) }), CocoonJS.App.onActivated.addEventListener(function() { d.setSuspended(!1) })); this.Kc && (document.addEventListener("pagehide", function() { d.setSuspended(!0) }), document.addEventListener("pageshow", function() { d.setSuspended(!1) }), document.addEventListener("resize", function() { d.setSize(window.innerWidth, window.innerHeight) })); this.xa = this.Eb || this.nc || this.Kc; this.Nh = /edge\//i.test(navigator.userAgent); this.be = (/msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent) || /iemobile/i.test(navigator.userAgent)) && !this.Nh; this.uq = /tizen/i.test(navigator.userAgent); this.ek = /android/i.test(navigator.userAgent) && !this.uq && !this.be && !this.Nh; this.xq = (/iphone/i.test(navigator.userAgent) || /ipod/i.test(navigator.userAgent)) && !this.be && !this.Nh; this.hx = /ipad/i.test(navigator.userAgent); this.Bg = this.xq || this.hx || this.Kc; this.Kh = (/chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent)) && !this.be && !this.Nh; this.qq = /amazonwebappplatform/i.test(navigator.userAgent); this.Zw = /firefox/i.test(navigator.userAgent); this.bx = /safari/i.test(navigator.userAgent) && !this.Kh && !this.be && !this.Nh; this.cx = /windows/i.test(navigator.userAgent); this.Bf = "undefined" !== typeof window.c2nodewebkit || "undefined" !== typeof window.c2nwjs || /nodewebkit/i.test(navigator.userAgent) || /nwjs/i.test(navigator.userAgent); this.vq = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8); this.gx = !("undefined" === typeof window.c2isWindows8Capable || !window.c2isWindows8Capable); this.Sh = !("undefined" === typeof window.c2isWindowsPhone8 || !window.c2isWindowsPhone8); this.Mm = !("undefined" === typeof window.c2isWindowsPhone81 || !window.c2isWindowsPhone81); this.Lm = !!window.cr_windows10; this.ik = this.vq || this.gx || this.Mm || this.Lm; this.Xw = !("undefined" === typeof window.c2isBlackberry10 || !window.c2isBlackberry10); this.fk = this.ek && !this.Kh && !this.hk && !this.Zw && !this.qq && !this.xa; this.devicePixelRatio = 1; this.de = this.oc || this.hk || this.rq || this.nc || this.ek || this.Bg || this.Sh || this.Mm || this.Xw || this.uq || this.Kc; this.de || (this.de = /(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent)); this.Rh = !!(this.Bg && this.oc && window.webkit); this.Am = null; this.Rw = ""; this.Rh && (this.Am = cordova && cordova.plugins && cordova.plugins.CorHttpd ? cordova.plugins.CorHttpd : null); "undefined" === typeof cr_is_preview || this.Bf || "?nw" !== window.location.search && !/nodewebkit/i.test(navigator.userAgent) && !/nwjs/i.test(navigator.userAgent) || (this.Bf = !0); this.canvas = a; this.sp = document.getElementById("c2canvasdiv"); this.q = this.p = null; this.wm = "(unavailable)"; this.Fa = !1; this.qf = 0; this.ja = null; this.lm = ""; this.Rj = !1; this.lr = this.mr = 0; this.canvas.oncontextmenu = function(a) { a.preventDefault && a.preventDefault(); return !1 } ; this.canvas.onselectstart = function(a) { a.preventDefault && a.preventDefault(); return !1 } ; this.Eb && (window.c2runtime = this); this.Bf && (window.ondragover = function(a) { a.preventDefault(); return !1 } , window.ondrop = function(a) { a.preventDefault(); return !1 } , window.nwgui && window.nwgui.App.clearCache && window.nwgui.App.clearCache()); this.fk && "undefined" !== typeof jQuery && jQuery("canvas").parents("*").css("overflow", "visible"); this.width = a.width; this.height = a.height; this.F = this.width; this.D = this.height; this.Cj = this.width; this.uh = this.height; this.Eg = window.innerWidth; this.Dg = window.innerHeight; this.ka = !0; this.Ph = !1; Date.now || (Date.now = function() { return +new Date } ); this.plugins = []; this.types = {}; this.r = []; this.Oa = []; this.Rm = {}; this.ld = []; this.em = {}; this.Xd = []; this.hh = []; this.ql = []; this.Iu = []; this.Ju = []; this.nf = {}; this.Im = this.Se = !1; this.Lc = 0; this.Hm = this.Km = !1; this.hd = []; this.Mh = !1; this.sk = this.Jn = ""; this.kb = null; this.ee = ""; this.Ni = this.Zr = !1; this.Qj = []; this.pf = this.Ne = 0; this.$q = 30; this.Ul = this.fi = 0; this.Wf = 1; this.hb = new cb; this.ye = new cb; this.Ck = this.Uj = this.uf = this.bh = this.Gf = this.km = this.mk = 0; this.rh = null; this.Kj = []; this.dm = []; this.Mj = -1; this.Wm = [[]]; this.co = this.xk = 0; this.Tk(null); this.gi = []; this.hi = -1; this.gr = this.ki = 0; this.Qm = !0; this.xh = 0; this.Oi = []; this.$n = this.Bn = -1; this.Vh = !0; this.Hf = 0; this.Oh = !1; this.xy = 0; this.fg = null; this.Ga = this.$j = !1; this.kr = new ea; this.bn = new ea; this.cn = new ea; this.Jr = []; this.rd = new eb([]); this.Wn = new eb([]); this.eg = []; this.Fh = {}; this.Je = {}; this.De = {}; this.gh = {}; this.np = {}; this.Eq = this.rk = this.$a = this.ib = this.Dq = this.qk = this.la = null; this.eh = this.Nm = !1; this.mm = [null, null]; this.vf = 0; this.im = ""; this.he = {}; this.Ki = this.Ve = null; this.as = ""; this.Bk = []; this.by() } } function h(a, d) { return 128 >= d ? a[3] : 256 >= d ? a[2] : 512 >= d ? a[1] : a[0] } function b() { try { return !!window.indexedDB } catch (a) { return !1 } } function l(a) { a.target.result.createObjectStore("saves", { keyPath: "slot" }) } function r(a, d, c, g) { try { var k = indexedDB.open("_C2SaveStates"); k.onupgradeneeded = l; k.onerror = g; k.onsuccess = function(k) { k = k.target.result; k.onerror = g; k.transaction(["saves"], "readwrite").objectStore("saves").put({ slot: a, data: d }).onsuccess = c } } catch (f) { g(f) } } function p(a, d, c) { try { var g = indexedDB.open("_C2SaveStates"); g.onupgradeneeded = l; g.onerror = c; g.onsuccess = function(g) { g = g.target.result; g.onerror = c; var k = g.transaction(["saves"]).objectStore("saves").get(a); k.onsuccess = function() { k.result ? d(k.result.data) : d(null) } } } catch (k) { c(k) } } function m() { ga("Reloading for continuous preview"); window.c2cocoonjs ? CocoonJS.App.reload() : -1 < window.location.search.indexOf("continuous") ? window.location.reload(!0) : window.location = window.location + "?continuous" } function a(a) { var d, c = {}; for (d in a) !a.hasOwnProperty(d) || a[d]instanceof ea || a[d] && "undefined" !== typeof a[d].Zz || "spriteCreatedDestroyCallback" !== d && (c[d] = a[d]); return c } var c = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame; e.prototype.by = function() { var a = this; if (this.Rh) this.Am ? this.Am.startServer({ port: 0, localhost_only: !0 }, function(d) { a.Rw = d; a.Rp(function(d) { a.Gg(JSON.parse(d)) }, function() { alert("Error fetching data.js") }) }, function(a) { alert("error starting local server: " + a) }) : this.Rp(function(d) { a.Gg(JSON.parse(d)) }, function() { alert("Error fetching data.js") }); else { var d; this.Sh ? d = new ActiveXObject("Microsoft.XMLHTTP") : d = new XMLHttpRequest; var c = "data.js"; if (this.vq || this.Sh || this.Mm || this.Lm) c = "data.json"; d.open("GET", c, !0); var g = !1; if (!this.xa && "response"in d && "responseType"in d) try { d.responseType = "json", g = "json" === d.responseType } catch (k) { g = !1 } if (!g && "responseType"in d) try { d.responseType = "text" } catch (f) {} if ("overrideMimeType"in d) try { d.overrideMimeType("application/json; charset=utf-8") } catch (b) {} this.Sh ? d.onreadystatechange = function() { 4 === d.readyState && a.Gg(JSON.parse(d.responseText)) } : (d.onload = function() { if (g) a.Gg(d.response); else if (a.Kc) { var c = d.responseText , c = c.substr(c.indexOf("{")); a.Gg(JSON.parse(c)) } else a.Gg(JSON.parse(d.responseText)) } , d.onerror = function(a) { ha("Error requesting " + c + ":"); ha(a) } ); d.send() } } ; e.prototype.Uw = function() { var a = this, d, c, g, k, f, b, n, h, q; this.Df = (!this.xa || this.Kc || this.oc) && this.Jy && !this.fk; 0 === this.Qb && this.Bg && (this.Df = !1); this.devicePixelRatio = this.Df ? window.devicePixelRatio || window.webkitDevicePixelRatio || window.mozDevicePixelRatio || window.msDevicePixelRatio || 1 : 1; this.Mb(); 0 < this.Qb && this.setSize(window.innerWidth, window.innerHeight, !0); try { this.Bv && (this.nc || this.Kc || !this.xa) && (d = { alpha: !0, depth: !1, antialias: !1, failIfMajorPerformanceCaveat: !0 }, this.p = this.canvas.getContext("webgl2", d) || this.canvas.getContext("webgl", d) || this.canvas.getContext("experimental-webgl", d)) } catch (e) {} if (this.p) { if (d = this.p.getExtension("WEBGL_debug_renderer_info")) this.wm = this.p.getParameter(d.UNMASKED_RENDERER_WEBGL) + " [" + this.p.getParameter(d.UNMASKED_VENDOR_WEBGL) + "]"; this.Fa && (this.wm += " [front-to-back enabled]"); this.xa || (this.Hb = document.createElement("canvas"), jQuery(this.Hb).appendTo(this.canvas.parentNode), this.Hb.oncontextmenu = function() { return !1 } , this.Hb.onselectstart = function() { return !1 } , this.Hb.width = Math.round(this.Cj * this.devicePixelRatio), this.Hb.height = Math.round(this.uh * this.devicePixelRatio), jQuery(this.Hb).css({ width: this.Cj + "px", height: this.uh + "px" }), this.Cr(), this.rn = this.Hb.getContext("2d")); this.q = new rb(this.p,this.de,this.Fa); this.q.pe(this.canvas.width, this.canvas.height); this.q.Kp = 0 !== this.uv; this.ja = null; this.canvas.addEventListener("webglcontextlost", function(d) { d.preventDefault(); a.xx(); ga("[Construct 2] WebGL context lost"); window.cr_setSuspended(!0) }, !1); this.canvas.addEventListener("webglcontextrestored", function() { a.q.kq(); a.q.pe(a.q.width, a.q.height, !0); a.ib = null; a.$a = null; a.mm[0] = null; a.mm[1] = null; a.yx(); a.ka = !0; ga("[Construct 2] WebGL context restored"); window.cr_setSuspended(!1) }, !1); d = 0; for (c = this.r.length; d < c; d++) for (f = this.r[d], g = 0, k = f.K.length; g < k; g++) n = f.K[g], n.Va = this.q.vm(n.id), n.md = this.q.yn(n.Va), this.eh = this.eh || this.q.xi(n.Va); d = 0; for (c = this.ld.length; d < c; d++) { h = this.ld[d]; g = 0; for (k = h.K.length; g < k; g++) n = h.K[g], n.Va = this.q.vm(n.id), n.md = this.q.yn(n.Va); h.td(); g = 0; for (k = h.N.length; g < k; g++) { q = h.N[g]; f = 0; for (b = q.K.length; f < b; f++) n = q.K[f], n.Va = this.q.vm(n.id), n.md = this.q.yn(n.Va), this.eh = this.eh || this.q.xi(n.Va); q.td() } } } else { if (0 < this.Qb && this.Eb) { this.canvas = null; document.oncontextmenu = function() { return !1 } ; document.onselectstart = function() { return !1 } ; this.ja = AppMobi.canvas.getContext("2d"); try { this.ja.samplingMode = this.ya ? "smooth" : "sharp", this.ja.globalScale = 1, this.ja.HTML5CompatibilityMode = !0, this.ja.imageSmoothingEnabled = this.ya } catch (t) {} 0 !== this.width && 0 !== this.height && (this.ja.width = this.width, this.ja.height = this.height) } this.ja || (this.nc ? (d = { antialias: !!this.ya, alpha: !0 }, this.ja = this.canvas.getContext("2d", d)) : (d = { alpha: !0 }, this.ja = this.canvas.getContext("2d", d)), this.$k(this.ja, this.ya)); this.rn = this.Hb = null } this.js = function(d) { a.xb(!1, d) } ; window == window.top || this.xa || this.ik || this.Sh || (document.addEventListener("mousedown", function() { window.focus() }, !0), document.addEventListener("touchstart", function() { window.focus() }, !0)); "undefined" !== typeof cr_is_preview && (this.nc && console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"), -1 < window.location.search.indexOf("continuous") && (ga("Reloading for continuous preview"), this.sk = "__c2_continuouspreview", this.Ni = !0), this.Lx && !this.de && (jQuery(window).focus(function() { a.setSuspended(!1) }), jQuery(window).blur(function() { var d = window.parent; d && d.document.hasFocus() || a.setSuspended(!0) }))); window.addEventListener("blur", function() { a.Of() }); this.xa || (d = function(a) { if (qb(a) && document.activeElement && document.activeElement !== document.getElementsByTagName("body")[0] && document.activeElement.blur) try { document.activeElement.blur() } catch (d) {} } , "undefined" !== typeof PointerEvent ? document.addEventListener("pointerdown", d) : window.navigator.msPointerEnabled ? document.addEventListener("MSPointerDown", d) : document.addEventListener("touchstart", d), document.addEventListener("mousedown", d)); 0 === this.Qb && this.Df && 1 < this.devicePixelRatio && this.setSize(this.mb, this.lb, !0); this.os(); this.Mw(); this.go(); this.wa = {} } ; e.prototype.setSize = function(a, d, c) { var g = 0 , k = 0 , f = 0 , b = 0 , b = 0; if (this.Eg !== a || this.Dg !== d || c) { this.Eg = a; this.Dg = d; var n = this.Qb , h = (document.mozFullScreen || document.webkitIsFullScreen || !!document.msFullscreenElement || document.fullScreen || this.Oh) && !this.oc; if (h || 0 !== this.Qb || c) h && 0 < this.vf && (n = this.vf), c = this.devicePixelRatio, 4 <= n ? (f = this.mb / this.lb, a / d > f ? (f *= d, 5 === n ? (b = f * c / this.mb, 1 < b ? b = Math.floor(b) : 1 > b && (b = 1 / Math.ceil(1 / b)), f = this.mb * b / c, b = this.lb * b / c, g = (a - f) / 2, k = (d - b) / 2, a = f, d = b) : (g = (a - f) / 2, a = f)) : (b = a / f, 5 === n ? (b = b * c / this.lb, 1 < b ? b = Math.floor(b) : 1 > b && (b = 1 / Math.ceil(1 / b)), f = this.mb * b / c, b = this.lb * b / c, g = (a - f) / 2, k = (d - b) / 2, a = f) : k = (d - b) / 2, d = b), h && !this.Bf && (k = g = 0)) : this.Bf && this.Oh && 0 === this.Vp && (g = Math.floor((a - this.mb) / 2), k = Math.floor((d - this.lb) / 2), a = this.mb, d = this.lb), 2 > n && (this.ph = c), this.Cj = Math.round(a), this.uh = Math.round(d), this.width = Math.round(a * c), this.height = Math.round(d * c), this.ka = !0, this.zs ? (this.F = this.width, this.D = this.height, this.Hc = !0) : this.width < this.mb && this.height < this.lb || 1 === n ? (this.F = this.width, this.D = this.height, this.Hc = !0) : (this.F = this.mb, this.D = this.lb, this.Hc = !1, 2 === n ? (f = this.mb / this.lb, n = this.Eg / this.Dg, n < f ? this.F = this.D * n : n > f && (this.D = this.F / n)) : 3 === n && (f = this.mb / this.lb, n = this.Eg / this.Dg, n > f ? this.F = this.D * n : n < f && (this.D = this.F / n))), this.sp && !this.xa && (jQuery(this.sp).css({ width: Math.round(a) + "px", height: Math.round(d) + "px", "margin-left": Math.floor(g) + "px", "margin-top": Math.floor(k) + "px" }), "undefined" !== typeof cr_is_preview && jQuery("#borderwrap").css({ width: Math.round(a) + "px", height: Math.round(d) + "px" })), this.canvas && (this.canvas.width = Math.round(a * c), this.canvas.height = Math.round(d * c), this.Kc ? (this.canvas.style.left = Math.floor(g) + "px", this.canvas.style.top = Math.floor(k) + "px", this.canvas.style.width = Math.round(a) + "px", this.canvas.style.height = Math.round(d) + "px") : this.Df && !this.xa && (this.canvas.style.width = Math.round(a) + "px", this.canvas.style.height = Math.round(d) + "px")), this.Hb && (this.Hb.width = Math.round(a * c), this.Hb.height = Math.round(d * c), this.Hb.style.width = this.Cj + "px", this.Hb.style.height = this.uh + "px"), this.q && this.q.pe(Math.round(a * c), Math.round(d * c)), this.Eb && this.ja && (this.ja.width = Math.round(a), this.ja.height = Math.round(d)), this.ja && this.$k(this.ja, this.ya), this.os(), this.xq && !this.oc && window.scrollTo(0, 0) } } ; e.prototype.os = function() { if (this.Mu && 0 !== this.pn) { var a = "portrait"; 2 === this.pn && (a = "landscape"); try { screen.orientation && screen.orientation.lock ? screen.orientation.lock(a).catch(function() {}) : screen.lockOrientation ? screen.lockOrientation(a) : screen.webkitLockOrientation ? screen.webkitLockOrientation(a) : screen.mozLockOrientation ? screen.mozLockOrientation(a) : screen.msLockOrientation && screen.msLockOrientation(a) } catch (d) { console && console.warn && console.warn("Failed to lock orientation: ", d) } } } ; e.prototype.xx = function() { this.q.Wu(); this.Nm = !0; var a, d, c; a = 0; for (d = this.r.length; a < d; a++) c = this.r[a], c.ln && c.ln() } ; e.prototype.yx = function() { this.Nm = !1; var a, d, c; a = 0; for (d = this.r.length; a < d; a++) c = this.r[a], c.mn && c.mn() } ; e.prototype.Cr = function() { if (!this.xa) { var a = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || document.msFullscreenElement || this.Oh) && !this.oc ? jQuery(this.canvas).offset() : jQuery(this.canvas).position(); a.position = "absolute"; jQuery(this.Hb).css(a) } } ; var f = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame; e.prototype.setSuspended = function(a) { var d; if (a && !this.Ph) for (ga("[Construct 2] Suspending"), this.Ph = !0, -1 !== this.Bn && f && f(this.Bn), -1 !== this.$n && clearTimeout(this.$n), a = 0, d = this.Oi.length; a < d; a++) this.Oi[a](!0); else if (!a && this.Ph) { ga("[Construct 2] Resuming"); this.Ph = !1; this.mk = Za(); this.Gf = Za(); a = this.fi = this.Uj = 0; for (d = this.Oi.length; a < d; a++) this.Oi[a](!1); this.xb(!1) } } ; e.prototype.hp = function(a) { this.Oi.push(a) } ; e.prototype.Ae = function(a) { return this.Bk[a] } ; e.prototype.Gg = function(a) { a && a.project || ha("Project model unavailable"); a = a.project; this.name = a[0]; this.Tp = a[1]; this.Qb = a[12]; this.Vp = a[12]; this.mb = a[10]; this.lb = a[11]; this.wr = this.mb / 2; this.xr = this.lb / 2; this.xa && !this.Kc && (4 <= a[12] || 0 === a[12]) && (ga("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"), this.Vp = this.Qb = 3); this.mo = a[18]; this.We = a[19]; if (0 === this.We) { var d = new Image; d.crossOrigin = "anonymous"; this.Rr(d, "loading-logo.png"); this.Ve = { yk: d } } else if (4 === this.We) { d = new Image; d.src = ""; var c = new Image; c.src = ""; var g = new Image; g.src = ""; var k = new Image; k.src = ""; var f = new Image; f.src = ""; var b = new Image; b.src = ""; var n = new Image; n.src = ""; var h = new Image; h.src = ""; var q = new Image; q.src = ""; var e = new Image; e.src = ""; var t = new Image; t.src = ""; var l = new Image; l.src = ""; this.Ve = { yk: [d, c, g, k], Rx: [f, b, n, h], Py: [q, e, t, l] } } this.ki = a[21]; this.Bk = qc(); this.Ld = new E(this); d = 0; for (c = a[2].length; d < c; d++) n = a[2][d], g = this.Ae(n[0]), sb(n, g.prototype), h = new g(this), h.el = n[1], h.Te = n[2], h.hA = n[5], h.cr = n[9], h.G && h.G(), this.plugins.push(h); this.Bk = qc(); d = 0; for (c = a[3].length; d < c; d++) { n = a[3][d]; f = this.Ae(n[1]); h = null; g = 0; for (k = this.plugins.length; g < k; g++) if (this.plugins[g]instanceof f) { h = this.plugins[g]; break } q = new h.ea(h); q.name = n[0]; q.I = n[2]; q.Gm = n[3].slice(0); q.Ly = n[3].length; q.Nu = n[4]; q.kw = n[5]; q.aa = n[11]; q.I ? (q.Jg = [], q.Yd = this.xh++, q.La = null) : (q.Jg = null, q.Yd = -1, q.La = []); q.Oj = null; q.pg = null; q.Mp = null; q.Sb = !1; q.wc = null; n[6] ? (q.Xn = n[6][0], q.Yn = n[6][1], q.Zn = n[6][2]) : (q.Xn = null, q.Yn = 0, q.Zn = 0); n[7] ? q.vc = n[7] : q.vc = null; q.index = d; q.c = []; q.Gj = []; q.ue = [new tb(q)]; q.yd = 0; q.Tc = null; q.$u = 0; q.Zg = !0; q.rl = ub; q.bq = vb; q.vw = xb; q.M = yb; q.yi = zb; q.Sg = Ab; q.me = Bb; q.Wj = Cb; q.nm = Db; q.qm = Eb; q.ed = Fb; q.rm = Gb; q.yj = new kb(this.mb,this.lb); q.nj = !0; q.oj = !1; q.wa = {}; q.toString = Hb; q.Oa = []; g = 0; for (k = n[8].length; g < k; g++) { e = n[8][g]; t = this.Ae(e[1]); l = null; f = 0; for (b = this.Oa.length; f < b; f++) if (this.Oa[f]instanceof t) { l = this.Oa[f]; break } l || (l = new t(this), l.er = [], l.Lf = new ea, l.G && l.G(), this.Oa.push(l)); -1 === l.er.indexOf(q) && l.er.push(q); f = new l.ea(l,q); f.name = e[0]; f.aa = e[2]; f.G(); q.Oa.push(f) } q.global = n[9]; q.Jm = n[10]; q.K = []; g = 0; for (k = n[12].length; g < k; g++) q.K.push({ id: n[12][g][0], name: n[12][g][1], Va: -1, md: !1, Nb: !0, index: g }); q.AA = n[13]; this.mo && !q.I && !q.Jm && h.Te || q.G(); q.name && (this.types[q.name] = q); this.r.push(q); h.el && (g = new h.S(q), g.uid = this.ki++, g.Fr = this.gr++, g.zf = 0, g.Dh = Ib, g.toString = Jb, g.ca = n[14], g.G(), q.c.push(g), this.he[g.uid.toString()] = g) } d = 0; for (c = a[4].length; d < c; d++) for (f = a[4][d], b = this.r[f[0]], g = 1, k = f.length; g < k; g++) n = this.r[f[g]], n.La.push(b), b.Jg.push(n); d = 0; for (c = a[28].length; d < c; d++) { f = a[28][d]; b = []; g = 0; for (k = f.length; g < k; g++) b.push(this.r[f[g]]); g = 0; for (k = b.length; g < k; g++) b[g].Sb = !0, b[g].wc = b } if (0 < this.xh) for (d = 0, c = this.r.length; d < c; d++) if (n = this.r[d], !n.I && n.La.length) { n.Oj = Array(this.xh); n.pg = Array(this.xh); n.Mp = Array(this.xh); q = []; g = l = t = e = 0; for (k = n.La.length; g < k; g++) for (h = n.La[g], n.Oj[h.Yd] = e, e += h.Ly, n.pg[h.Yd] = t, t += h.Nu, n.Mp[h.Yd] = l, l += h.kw, f = 0, b = h.K.length; f < b; f++) q.push(xa({}, h.K[f])); n.K = q.concat(n.K); g = 0; for (k = n.K.length; g < k; g++) n.K[g].index = g } d = 0; for (c = a[5].length; d < c; d++) n = a[5][d], g = new Kb(this,n), this.Rm[g.name] = g, this.ld.push(g); d = 0; for (c = a[6].length; d < c; d++) n = a[6][d], g = new Lb(this,n), this.em[g.name] = g, this.Xd.push(g); d = 0; for (c = this.Xd.length; d < c; d++) this.Xd[d].Ua(); d = 0; for (c = this.Xd.length; d < c; d++) this.Xd[d].io(); d = 0; for (c = this.ql.length; d < c; d++) this.ql[d].Ua(); x(this.ql); this.Lu = a[7]; this.im = a[8]; this.le = a[9]; this.ph = 1; this.Bv = a[13]; this.ya = a[14]; this.vp = a[15]; this.Jy = a[17]; this.pn = a[20]; this.Mu = 0 < this.pn; this.Lx = a[22]; this.Hc = this.zs = a[23]; this.uv = a[24]; this.Sx = a[25]; this.Fa = a[27] && !this.be; this.fl = Date.now(); x(this.Bk); this.Uw() } ; var d = !1; e.prototype.ys = function(a, c) { a.cocoonLazyLoad = !0; a.onerror = function(c) { d = a.pp = !0; console && console.error && console.error("Error loading image '" + a.src + "': ", c) } ; this.Kc ? a.src = c : a.src || ("undefined" !== typeof XAPKReader ? XAPKReader.get(c, function(d) { a.src = d }, function(g) { d = a.pp = !0; console && console.error && console.error("Error extracting image '" + c + "' from expansion file: ", g) }) : (a.crossOrigin = "anonymous", this.Rr(a, c))); this.hh.push(a) } ; e.prototype.iw = function(a) { var d, c; d = 0; for (c = this.hh.length; d < c; d++) if (this.hh[d].Xu === a) return this.hh[d]; return null } ; var g = 0 , w = !1; e.prototype.Mw = function() { this.fg && (g = this.fg.ry(this.Lu)) } ; e.prototype.lp = function() { var a = g, d = 0, c = 0, k = !0, f, b, c = 0; for (f = this.hh.length; c < f; c++) { b = this.hh[c]; var n = b.yp; if (!n || 0 >= n) n = 5E4; a += n; b.src && (b.complete || b.loaded) && !b.pp ? d += n : k = !1 } k && this.Sx && this.fg && (w || (this.fg.yy(), w = !0), c = this.fg.ww(), d += c, c < g && (k = !1)); this.U = 0 == a ? 1 : d / a; return k } ; var k = !1; e.prototype.go = function() { if (this.ja || this.q) { var a = this.ja || this.rn; this.Hb && this.Cr(); var g = window.innerWidth , f = window.innerHeight; this.Eg === g && this.Dg === f || this.setSize(g, f); this.U = 0; this.Cq = -1; var b = this; if (this.lp() && (4 !== this.We || k)) this.Nw(); else { f = Date.now() - this.fl; if (a) { var n = this.width , q = this.height , g = this.devicePixelRatio; if (3 > this.We && (this.nc || 500 <= f && this.Cq != this.U)) { a.clearRect(0, 0, n, q); var f = n / 2, q = q / 2, n = 0 === this.We && this.Ve.yk.complete, h = 40 * g, e = 0, t = 80 * g, l; if (n) { var m = this.Ve.yk , t = m.width * g; l = m.height * g; h = t / 2; e = l / 2; a.drawImage(m, sa(f - h), sa(q - e), t, l) } 1 >= this.We ? (f = sa(f - h) + .5, q = sa(q + (e + (n ? 12 * g : 0))) + .5, a.fillStyle = d ? "red" : "DodgerBlue", a.fillRect(f, q, Math.floor(t * this.U), 6 * g), a.strokeStyle = "black", a.strokeRect(f, q, t, 6 * g), a.strokeStyle = "white", a.strokeRect(f - 1 * g, q - 1 * g, t + 2 * g, 8 * g)) : 2 === this.We && (a.font = this.Kc ? "12pt ArialMT" : "12pt Arial", a.fillStyle = d ? "#f00" : "#999", a.zA = "middle", g = Math.round(100 * this.U) + "%", n = a.measureText ? a.measureText(g) : null, a.fillText(g, f - (n ? n.width : 0) / 2, q)); this.Cq = this.U } else if (4 === this.We) { this.zv(a); c ? c(function() { b.go() }) : setTimeout(function() { b.go() }, 16); return } } setTimeout(function() { b.go() }, this.nc ? 10 : 100) } } } ; var B = -1 , J = "undefined" === typeof cr_is_preview ? 200 : 0 , t = !0 , n = !1 , q = 0 , Q = 0 , y = "undefined" === typeof cr_is_preview ? 3E3 : 0 , M = null , T = null , F = 0; e.prototype.zv = function(a) { if (!k) { for (var c = Math.ceil(this.width), g = Math.ceil(this.height), f = this.Ve.yk, b = this.Ve.Rx, e = this.Ve.Py, l = 0; 4 > l; ++l) if (!f[l].complete || !b[l].complete || !e[l].complete) return; 0 === F && (B = Date.now()); var l = Date.now(), m = !1, r = a, p, w; t || n ? (a.clearRect(0, 0, c, g), M && M.width === c && M.height === g || (M = document.createElement("canvas"), M.width = c, M.height = g, T = M.getContext("2d")), r = T, m = !0, t && 1 === F && (B = Date.now())) : a.globalAlpha = 1; r.fillStyle = "#333333"; r.fillRect(0, 0, c, g); 256 < this.uh ? (p = Fa(.22 * g, 105, .6 * c), w = .25 * p, r.drawImage(h(b, p), .5 * c - p / 2, .2 * g - w / 2, p, w), w = p = Math.min(.395 * g, .95 * c), r.drawImage(h(f, p), .5 * c - p / 2, .485 * g - w / 2, p, w), p = Fa(.22 * g, 105, .6 * c), w = .25 * p, r.drawImage(h(e, p), .5 * c - p / 2, .868 * g - w / 2, p, w), r.fillStyle = "#3C3C3C", p = c, w = Math.max(.005 * g, 2), r.fillRect(0, .8 * g - w / 2, p, w), r.fillStyle = d ? "red" : "#E0FF65", p = c * this.U, r.fillRect(.5 * c - p / 2, .8 * g - w / 2, p, w)) : (w = p = .55 * g, r.drawImage(h(f, p), .5 * c - p / 2, .45 * g - w / 2, p, w), r.fillStyle = "#3C3C3C", p = c, w = Math.max(.005 * g, 2), r.fillRect(0, .85 * g - w / 2, p, w), r.fillStyle = d ? "red" : "#E0FF65", p = c * this.U, r.fillRect(.5 * c - p / 2, .85 * g - w / 2, p, w)); m && (t ? a.globalAlpha = 0 === F ? 0 : Math.min((l - B) / 300, 1) : n && (a.globalAlpha = Math.max(1 - (l - Q) / 300, 0)), a.drawImage(M, 0, 0, c, g)); t && 300 <= l - B && 2 <= F && (t = !1, q = l); !t && l - q >= y && !n && 1 <= this.U && (n = !0, Q = l); if (n && l - Q >= 300 + J || "undefined" !== typeof cr_is_preview && 1 <= this.U && 500 > Date.now() - B) k = !0, n = t = !1, this.Ve = T = M = null; ++F } } ; e.prototype.Nw = function() { this.Hb && (this.canvas.parentNode.removeChild(this.Hb), this.Hb = this.rn = null); this.fl = Date.now(); this.Gf = Za(); var a, d, c; if (this.mo) for (a = 0, d = this.r.length; a < d; a++) c = this.r[a], c.I || c.Jm || !c.Z.Te || c.G(); else this.Vh = !1; a = 0; for (d = this.ld.length; a < d; a++) this.ld[a].Yu(); 2 <= this.Qb && (a = this.mb / this.lb, d = this.width / this.height, this.ph = 2 !== this.Qb && d > a || 2 === this.Qb && d < a ? this.height / this.lb : this.width / this.mb); this.Tp ? this.Rm[this.Tp].Un() : this.ld[0].Un(); this.mo || (this.Hf = 1, this.trigger(E.prototype.d.zl, null), window.C2_RegisterSW && window.C2_RegisterSW()); navigator.splashscreen && navigator.splashscreen.hide && navigator.splashscreen.hide(); a = 0; for (d = this.r.length; a < d; a++) c = this.r[a], c.nr && c.nr(); document.hidden || document.webkitHidden || document.mozHidden || document.msHidden ? window.cr_setSuspended(!0) : this.xb(!1); this.Eb && AppMobi.webview.execute("onGameReady();") } ; e.prototype.xb = function(a, d, g) { if (this.la) { var k = Za(); if (g || !this.Ph || a) { a || (c ? this.Bn = c(this.js) : this.$n = setTimeout(this.js, this.de ? 1 : 16)); d = d || k; var f = this.Qb; ((g = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement) && !this.oc) || this.Oh) && 0 < this.vf && (f = this.vf); if (0 < f) { var f = window.innerWidth , b = window.innerHeight; this.Eg === f && this.Dg === b || this.setSize(f, b) } this.xa || (g ? (this.Rj || (this.lm = jQuery(this.canvas).css("margin") || "0", this.Rj = !0), this.Kh || this.Bf || jQuery(this.canvas).css({ "margin-left": "" + Math.floor((screen.width - this.width / this.devicePixelRatio) / 2) + "px", "margin-top": "" + Math.floor((screen.height - this.height / this.devicePixelRatio) / 2) + "px" })) : this.Rj ? (this.Kh || this.Bf || jQuery(this.canvas).css("margin", this.lm), this.lm = "", this.Rj = !1, 0 === this.Qb && this.setSize(Math.round(this.mr / this.devicePixelRatio), Math.round(this.lr / this.devicePixelRatio), !0)) : (this.mr = this.width, this.lr = this.height)); this.Vh && (g = this.lp(), this.Hf = this.U, g && (this.Vh = !1, this.U = 1, this.trigger(E.prototype.d.zl, null), window.C2_RegisterSW && window.C2_RegisterSW())); this.ox(d); !this.ka && !this.nc || this.Nm || this.Ni || a || (this.ka = !1, this.q ? this.Ob() : this.jd(), this.Ki && (this.canvas && this.canvas.toDataURL && (this.as = this.canvas.toDataURL(this.Ki[0], this.Ki[1]), window.cr_onSnapshot && window.cr_onSnapshot(this.as), this.trigger(E.prototype.d.Dt, null)), this.Ki = null)); this.eA || (this.bh++, this.uf++, this.Uj++); this.fi += Za() - k } } } ; e.prototype.ox = function(a) { var d, c, g, k, f, b, n, q; 1E3 <= a - this.Gf && (this.Gf += 1E3, 1E3 <= a - this.Gf && (this.Gf = a), this.km = this.Uj, this.Uj = 0, this.Ul = this.fi, this.fi = 0); d = 0; 0 !== this.mk && (d = a - this.mk, 0 > d && (d = 0), this.pf = d /= 1E3, .5 < this.pf ? this.pf = 0 : this.pf > 1 / this.$q && (this.pf = 1 / this.$q)); this.mk = a; this.Ne = this.pf * this.Wf; this.hb.add(this.Ne); this.ye.add(d); a = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement || this.Oh) && !this.oc; 2 <= this.Qb || a && 0 < this.vf ? (d = this.mb / this.lb, c = this.width / this.height, g = this.Qb, a && 0 < this.vf && (g = this.vf), this.ph = 2 !== g && c > d || 2 === g && c < d ? this.height / this.lb : this.width / this.mb, this.la && (this.la.Kn(this.la.scrollX), this.la.Ln(this.la.scrollY))) : this.ph = this.Df ? this.devicePixelRatio : 1; this.Mb(); this.Lc++; this.Ld.gy(); this.Lc--; this.Mb(); this.Lc++; c = this.kr.bd(); a = 0; for (d = c.length; a < d; a++) c[a].tA(); a = 0; for (d = this.r.length; a < d; a++) if (b = this.r[a], !b.I && (b.Oa.length || b.La.length)) for (c = 0, g = b.c.length; c < g; c++) for (n = b.c[c], k = 0, f = n.C.length; k < f; k++) n.C[k].xb(); a = 0; for (d = this.r.length; a < d; a++) if (b = this.r[a], !b.I && (b.Oa.length || b.La.length)) for (c = 0, g = b.c.length; c < g; c++) for (n = b.c[c], k = 0, f = n.C.length; k < f; k++) q = n.C[k], q.Qx && q.Qx(); c = this.bn.bd(); a = 0; for (d = c.length; a < d; a++) c[a].xb(); this.Lc--; this.Ow(); for (a = 0; this.rh && 10 > a++; ) this.Gp(this.rh); a = 0; for (d = this.Xd.length; a < d; a++) this.Xd[a].zm = !1; this.la.sf && this.la.sf.bb(); x(this.Jr); this.Qm = !1; this.Lc++; a = 0; for (d = this.r.length; a < d; a++) if (b = this.r[a], !b.I && (b.Oa.length || b.La.length)) for (c = 0, g = b.c.length; c < g; c++) for (n = b.c[c], k = 0, f = n.C.length; k < f; k++) q = n.C[k], q.Ti && q.Ti(); c = this.cn.bd(); a = 0; for (d = c.length; a < d; a++) c[a].Ti(); this.Lc-- } ; e.prototype.Of = function() { var a, d, c, g, k, f, b, n, q; a = 0; for (d = this.r.length; a < d; a++) if (b = this.r[a], !b.I) for (c = 0, g = b.c.length; c < g; c++) if (n = b.c[c], n.Of && n.Of(), n.C) for (k = 0, f = n.C.length; k < f; k++) q = n.C[k], q.Of && q.Of() } ; e.prototype.Gp = function(a) { var d = this.la; this.la.zy(); var c, g, k; if (this.q) for (c = 0, g = this.r.length; c < g; c++) k = this.r[c], k.I || !k.ho || k.global && 0 !== k.c.length || -1 !== a.Ih.indexOf(k) || k.ho(); d == a && x(this.Ld.uc); x(this.Jr); this.Kr(!0); a.Un(); this.Kr(!1); this.Qm = this.ka = !0; this.Mb() } ; e.prototype.Kr = function(a) { var d, c, g, k, f, b, n, q, h; d = 0; for (c = this.Oa.length; d < c; d++) g = this.Oa[d], a ? g.li && g.li() : g.mi && g.mi(); d = 0; for (c = this.r.length; d < c; d++) if (g = this.r[d], g.global || g.Z.el) for (k = 0, f = g.c.length; k < f; k++) if (b = g.c[k], a ? b.li && b.li() : b.mi && b.mi(), b.C) for (n = 0, q = b.C.length; n < q; n++) h = b.C[n], a ? h.li && h.li() : h.mi && h.mi() } ; e.prototype.ml = function(a) { this.bn.add(a) } ; e.prototype.Cy = function(a) { this.cn.add(a) } ; e.prototype.om = function(a) { return a && -1 !== a.ji ? this.pf * a.ji : this.Ne } ; e.prototype.jd = function() { this.la.jd(this.ja); this.Eb && this.ja.present() } ; e.prototype.Ob = function() { this.Fa && (this.qf = 1, this.la.of(this.q)); this.la.Ob(this.q); this.q.Ux() } ; e.prototype.fp = function(a) { a && this.Kj.push(a) } ; e.prototype.ay = function(a) { Ea(this.Kj, a) } ; e.prototype.Bh = function(a) { a = a.toString(); return this.he.hasOwnProperty(a) ? this.he[a] : null } ; var D = []; e.prototype.ef = function(a) { var d, c; d = a.type.name; var g = null; if (this.nf.hasOwnProperty(d)) { if (g = this.nf[d], g.contains(a)) return } else g = D.length ? D.pop() : new ea, this.nf[d] = g; g.add(a); this.Se = !0; if (a.Sb) for (d = 0, c = a.siblings.length; d < c; d++) this.ef(a.siblings[d]); this.Im && g.fh.push(a); this.Hm || (this.Lc++, this.trigger(Object.getPrototypeOf(a.type.Z).d.Et, a), this.Lc--) } ; e.prototype.Mb = function() { if (this.Se) { var a, d, c, g, k, f; this.Im = !0; c = 0; for (k = this.hd.length; c < k; ++c) for (a = this.hd[c], d = a.type, d.c.push(a), g = 0, f = d.La.length; g < f; ++g) d.La[g].c.push(a), d.La[g].Zg = !0; x(this.hd); this.ot(); Ya(this.nf); this.Se = this.Im = !1 } } ; e.prototype.ot = function() { for (var a in this.nf) this.nf.hasOwnProperty(a) && this.Is(this.nf[a]) } ; e.prototype.Is = function(a) { var d = a.bd(), c = d[0].type, g, k, f, b, n, q; $a(c.c, a); c.Zg = !0; 0 === c.c.length && (c.oj = !1); g = 0; for (k = c.La.length; g < k; ++g) q = c.La[g], $a(q.c, a), q.Zg = !0; g = 0; for (k = this.Ld.uc.length; g < k; ++g) if (n = this.Ld.uc[g], n.gc.hasOwnProperty(c.index) && $a(n.gc[c.index].$d, a), !c.I) for (f = 0, b = c.La.length; f < b; ++f) q = c.La[f], n.gc.hasOwnProperty(q.index) && $a(n.gc[q.index].$d, a); if (n = d[0].j) { if (n.Qc) for (f = n.c, g = 0, k = f.length; g < k; ++g) b = f[g], a.contains(b) && (b.va(), n.Ib.update(b, b.rc, null), b.rc.set(0, 0, -1, -1)); $a(n.c, a); n.Ei(0) } for (g = 0; g < d.length; ++g) this.Hs(d[g], c); a.clear(); D.push(a); this.ka = !0 } ; e.prototype.Hs = function(a, d) { var c, g, k; c = 0; for (g = this.Kj.length; c < g; ++c) this.Kj[c](a); a.Ke && d.yj.update(a, a.Ke, null); (c = a.j) && c.Tg(a, !0); if (a.C) for (c = 0, g = a.C.length; c < g; ++c) k = a.C[c], k.Nf && k.Nf(), k.behavior.Lf.remove(a); this.kr.remove(a); this.bn.remove(a); this.cn.remove(a); a.Nf && a.Nf(); this.he.hasOwnProperty(a.uid.toString()) && delete this.he[a.uid.toString()]; this.Ck--; 100 > d.Gj.length && d.Gj.push(a) } ; e.prototype.Bj = function(a, d, c, g) { if (a.I) { var k = sa(Math.random() * a.Jg.length); return this.Bj(a.Jg[k], d, c, g) } return a.Tc ? this.Le(a.Tc, d, !1, c, g, !1) : null } ; var I = []; e.prototype.Le = function(a, d, c, g, k, f) { var b, n, q, h; if (!a) return null; var e = this.r[a[1]] , t = e.Z.Te; if (this.Vh && t && !e.Jm || t && !this.q && 11 === a[0][11]) return null; var l = d; t || (d = null); var m; e.Gj.length ? (m = e.Gj.pop(), m.od = !0, e.Z.S.call(m, e)) : (m = new e.Z.S(e), m.od = !1); !c || f || this.he.hasOwnProperty(a[2].toString()) ? m.uid = this.ki++ : m.uid = a[2]; this.he[m.uid.toString()] = m; m.Fr = this.gr++; m.zf = e.c.length; b = 0; for (n = this.hd.length; b < n; ++b) this.hd[b].type === e && m.zf++; m.Dh = Ib; m.toString = Jb; q = a[3]; if (m.od) Ya(m.wa); else { m.wa = {}; if ("undefined" !== typeof cr_is_preview) for (m.nq = [], m.nq.length = q.length, b = 0, n = q.length; b < n; b++) m.nq[b] = q[b][1]; m.gb = []; m.gb.length = q.length } b = 0; for (n = q.length; b < n; b++) m.gb[b] = q[b][0]; if (t) { var r = a[0]; m.x = ia(g) ? r[0] : g; m.y = ia(k) ? r[1] : k; m.z = r[2]; m.width = r[3]; m.height = r[4]; m.depth = r[5]; m.g = r[6]; m.opacity = r[7]; m.ac = r[8]; m.cc = r[9]; m.rb = r[10]; b = r[11]; !this.q && e.K.length && (m.rb = b); m.Rd = mb(m.rb); this.p && nb(m, m.rb, this.p); if (m.od) { b = 0; for (n = r[12].length; b < n; b++) for (q = 0, h = r[12][b].length; q < h; q++) m.Ka[b][q] = r[12][b][q]; m.qa.set(0, 0, 0, 0); m.Ke.set(0, 0, -1, -1); m.rc.set(0, 0, -1, -1); m.Xb.Gi(m.qa); x(m.Nl) } else { m.Ka = r[12].slice(0); b = 0; for (n = m.Ka.length; b < n; b++) m.Ka[b] = r[12][b].slice(0); m.Y = []; m.Ce = []; m.Ce.length = e.K.length; m.qa = new va(0,0,0,0); m.Ke = new va(0,0,-1,-1); m.rc = new va(0,0,-1,-1); m.Xb = new wa; m.Nl = []; m.Aa = Mb; m.Wz = Nb; m.Ab = Ob; m.va = Qb; m.Iy = Rb; m.ws = Sb; m.Wc = Tb } m.Ui = !1; m.Fy = 0; m.Ey = 0; m.Dy = null; 14 === r.length && (m.Ui = !0, m.Fy = r[13][0], m.Ey = r[13][1], m.Dy = r[13][2]); b = 0; for (n = e.K.length; b < n; b++) m.Ce[b] = !0; m.re = !0; m.td = Ub; m.td(); m.no = !!m.Y.length; m.Ml = !0; m.Pl = !0; e.nj = !0; m.visible = !0; m.ji = -1; m.j = d; m.ud = d.c.length; m.qf = 0; "undefined" === typeof m.ra && (m.ra = null); this.ka = m.lf = !0 } var p; x(I); b = 0; for (n = e.La.length; b < n; b++) I.push.apply(I, e.La[b].Oa); I.push.apply(I, e.Oa); if (m.od) for (b = 0, n = I.length; b < n; b++) { var B = I[b]; p = m.C[b]; p.od = !0; B.behavior.S.call(p, B, m); r = a[4][b]; q = 0; for (h = r.length; q < h; q++) p.ca[q] = r[q]; p.G(); B.behavior.Lf.add(m) } else for (m.C = [], b = 0, n = I.length; b < n; b++) B = I[b], p = new B.behavior.S(B,m), p.od = !1, p.ca = a[4][b].slice(0), p.G(), m.C.push(p), B.behavior.Lf.add(m); r = a[5]; if (m.od) for (b = 0, n = r.length; b < n; b++) m.ca[b] = r[b]; else m.ca = r.slice(0); this.hd.push(m); this.Se = !0; d && (d.oh(m, !0), 1 !== d.pc || 1 !== d.qc) && (e.oj = !0); this.Ck++; if (e.Sb) { if (m.Sb = !0, m.od ? x(m.siblings) : m.siblings = [], !c && !f) { b = 0; for (n = e.wc.length; b < n; b++) if (e.wc[b] !== e) { if (!e.wc[b].Tc) return null; m.siblings.push(this.Le(e.wc[b].Tc, l, !1, t ? m.x : g, t ? m.y : k, !0)) } b = 0; for (n = m.siblings.length; b < n; b++) for (m.siblings[b].siblings.push(m), q = 0; q < n; q++) b !== q && m.siblings[b].siblings.push(m.siblings[q]) } } else m.Sb = !1, m.siblings = null; m.G(); b = 0; for (n = m.C.length; b < n; b++) m.C[b].Px && m.C[b].Px(); return m } ; e.prototype.rg = function(a) { var d, c; d = 0; for (c = this.la.N.length; d < c; d++) { var g = this.la.N[d]; if (pb(g.name, a)) return g } return null } ; e.prototype.Cd = function(a) { a = sa(a); 0 > a && (a = 0); a >= this.la.N.length && (a = this.la.N.length - 1); return this.la.N[a] } ; e.prototype.cq = function(a) { return ja(a) ? this.Cd(a) : this.rg(a.toString()) } ; e.prototype.Sl = function(a) { var d, c; d = 0; for (c = a.length; d < c; d++) a[d].M().P = !0 } ; e.prototype.yi = function(a) { var d, c; d = 0; for (c = a.length; d < c; d++) a[d].yi() } ; e.prototype.Sg = function(a) { var d, c; d = 0; for (c = a.length; d < c; d++) a[d].Sg() } ; e.prototype.me = function(a) { var d, c; d = 0; for (c = a.length; d < c; d++) a[d].me() } ; e.prototype.us = function(a) { if (a.nj) { var d, c, g = a.c; d = 0; for (c = g.length; d < c; ++d) g[d].ws(); g = this.hd; d = 0; for (c = g.length; d < c; ++d) g[d].type === a && g[d].ws(); a.nj = !1 } } ; e.prototype.pw = function(a, d, c, g) { var b, k, n = a ? 1 !== a.pc || 1 !== a.qc : !1; if (d.I) for (a = 0, b = d.Jg.length; a < b; ++a) k = d.Jg[a], n || k.oj ? Ba(g, k.c) : (this.us(k), k.yj.Uk(c, g)); else n || d.oj ? Ba(g, d.c) : (this.us(d), d.yj.Uk(c, g)) } ; e.prototype.Qi = function(a, d, c) { var g = a.M(), b, k, n, f, q = this.Ta().Xa.Nc, h, e, m; if (g.P) for (g.P = !1, x(g.c), b = 0, f = a.c.length; b < f; b++) n = a.c[b], n.va(), h = n.j.Ca(d, c, !0), e = n.j.Ca(d, c, !1), n.Ab(h, e) ? g.c.push(n) : q && g.L.push(n); else { k = 0; m = q ? g.L : g.c; b = 0; for (f = m.length; b < f; b++) n = m[b], n.va(), h = n.j.Ca(d, c, !0), e = n.j.Ca(d, c, !1), n.Ab(h, e) && (q ? g.c.push(n) : (g.c[k] = g.c[b], k++)); m.length = k } a.ed(); return g.ym() } ; e.prototype.es = function(a, d) { if (!(a && d && a !== d && a.lf && d.lf)) return !1; a.va(); d.va(); var c = a.j, g = d.j, b, k, n, f, q, h, e, m; if (c === g || c.pc === g.pc && g.qc === g.qc && c.scale === g.scale && c.g === g.g && c.Ub === g.Ub) { if (!a.qa.pq(d.qa) || !a.Xb.oq(d.Xb) || a.Ui && d.Ui) return !1; if (a.Ui) return this.gs(a, d); if (d.Ui) return this.gs(d, a); e = a.ra && !a.ra.wg(); b = d.ra && !d.ra.wg(); if (!e && !b) return !0; e ? (a.ra.hg(a.width, a.height, a.g), e = a.ra) : (this.rd.Xg(a.Xb, a.x, a.y, a.width, a.height), e = this.rd); b ? (d.ra.hg(d.width, d.height, d.g), m = d.ra) : (this.rd.Xg(d.Xb, d.x, d.y, d.width, d.height), m = this.rd); return e.Jh(m, d.x - a.x, d.y - a.y) } e = a.ra && !a.ra.wg(); b = d.ra && !d.ra.wg(); e ? (a.ra.hg(a.width, a.height, a.g), this.rd.Ur(a.ra)) : this.rd.Xg(a.Xb, a.x, a.y, a.width, a.height); e = this.rd; b ? (d.ra.hg(d.width, d.height, d.g), this.Wn.Ur(d.ra)) : this.Wn.Xg(d.Xb, d.x, d.y, d.width, d.height); m = this.Wn; b = 0; for (k = e.nd; b < k; b++) n = 2 * b, f = n + 1, q = e.pb[n], h = e.pb[f], e.pb[n] = c.ec(q + a.x, h + a.y, !0), e.pb[f] = c.ec(q + a.x, h + a.y, !1); e.va(); b = 0; for (k = m.nd; b < k; b++) n = 2 * b, f = n + 1, q = m.pb[n], h = m.pb[f], m.pb[n] = g.ec(q + d.x, h + d.y, !0), m.pb[f] = g.ec(q + d.x, h + d.y, !1); m.va(); return e.Jh(m, 0, 0) } ; var z = new wa; new va(0,0,0,0); var V = []; e.prototype.gs = function(a, d) { var c, g, b, k, n = d.qa, f = a.x, q = a.y; a.cA(n, V); var h = d.ra && !d.ra.wg(); c = 0; for (g = V.length; c < g; ++c) if (b = V[c], k = b.wA, n.Vw(k, f, q) && (z.Gi(k), z.offset(f, q), z.oq(d.Xb))) if (h) if (d.ra.hg(d.width, d.height, d.g), b.wn) { if (b.wn.Jh(d.ra, d.x - (f + k.left), d.y - (q + k.top))) return x(V), !0 } else { if (this.rd.Xg(z, 0, 0, k.right - k.left, k.bottom - k.top), this.rd.Jh(d.ra, d.x, d.y)) return x(V), !0 } else if (b.wn) { if (this.rd.Xg(d.Xb, 0, 0, d.width, d.height), b.wn.Jh(this.rd, -(f + k.left), -(q + k.top))) return x(V), !0 } else return x(V), !0; x(V); return !1 } ; e.prototype.ps = function(a, d) { if (!d) return !1; var c, g, b, k, n; c = 0; for (g = a.Oa.length; c < g; c++) if (a.Oa[c].behavior instanceof d) return !0; if (!a.I) for (c = 0, g = a.La.length; c < g; c++) for (n = a.La[c], b = 0, k = n.Oa.length; b < k; b++) if (n.Oa[b].behavior instanceof d) return !0; return !1 } ; e.prototype.eo = function(a) { return this.ps(a, ic.mz) } ; e.prototype.fo = function(a) { return this.ps(a, ic.oz) } ; var G = -1; e.prototype.trigger = function(a, d, c) { if (!this.la) return !1; var g = this.la.sf; if (!g) return !1; var b = !1, k, n, f; G++; var q = g.Yl; n = 0; for (f = q.length; n < f; ++n) k = this.ms(a, d, q[n], c), b = b || k; k = this.ms(a, d, g, c); G--; return b || k } ; e.prototype.ms = function(a, d, c, g) { var b = !1, k, n, f, q; if (d) for (f = this.bo(a, d, d.type.name, c, g), b = b || f, q = d.type.La, k = 0, n = q.length; k < n; ++k) f = this.bo(a, d, q[k].name, c, g), b = b || f; else f = this.bo(a, d, "system", c, g), b = b || f; return b } ; e.prototype.bo = function(a, d, c, g, b) { var k, n = !1, f = !1, f = "undefined" !== typeof b, q = (f ? g.Op : g.ns)[c]; if (!q) return n; var h = null; g = 0; for (k = q.length; g < k; ++g) if (q[g].method == a) { h = q[g].wh; break } if (!h) return n; var e; f ? e = h[b] : e = h; if (!e) return null; g = 0; for (k = e.length; g < k; g++) a = e[g][0], b = e[g][1], f = this.gw(d, c, a, b), n = n || f; return n } ; e.prototype.gw = function(a, d, c, g) { var b, k, n = !1; this.co++; var f = this.Ta().Xa; f && this.yi(f.cf); var q = 1 < this.co; this.yi(c.cf); q && this.Wx(); var h = this.Tk(c); h.Xa = c; a && (b = this.types[d].M(), b.P = !1, x(b.c), b.c[0] = a, this.types[d].ed()); a = !0; if (c.parent) { d = h.ds; for (b = c.parent; b; ) d.push(b), b = b.parent; d.reverse(); b = 0; for (k = d.length; b < k; b++) if (!d[b].iy()) { a = !1; break } } a && (this.uf++, c.Nc ? c.hy(g) : c.bb(), n = n || h.Ff); this.Pk(); q && this.Ox(); this.me(c.cf); f && this.me(f.cf); this.Se && 0 === this.Lc && 0 === G && !this.Km && this.Mb(); this.co--; return n } ; e.prototype.Xj = function() { var a = this.Ta(); return a.Xa.cb[a.Wa] } ; e.prototype.Yw = function() { return 0 === this.Ta().Wa } ; e.prototype.qw = function() { var a = this.Ta(); return a.Xa.Rc[a.mc] } ; e.prototype.Wx = function() { this.xk++; this.xk >= this.Wm.length && this.Wm.push([]) } ; e.prototype.Ox = function() { this.xk-- } ; e.prototype.Yp = function() { return this.Wm[this.xk] } ; e.prototype.Tk = function(a) { this.Mj++; this.Mj >= this.dm.length && this.dm.push(new Vb); var d = this.Ta(); d.reset(a); return d } ; e.prototype.Pk = function() { this.Mj-- } ; e.prototype.Ta = function() { return this.dm[this.Mj] } ; e.prototype.Gr = function(a) { this.hi++; this.hi >= this.gi.length && this.gi.push(ba({ name: a, index: 0, Ra: !1 })); var d = this.Zp(); d.name = a; d.index = 0; d.Ra = !1; return d } ; e.prototype.Br = function() { this.hi-- } ; e.prototype.Zp = function() { return this.gi[this.hi] } ; e.prototype.aq = function(a, d) { for (var c, g, b, k, n, f; d; ) { c = 0; for (g = d.$c.length; c < g; c++) if (f = d.$c[c], f instanceof Wb && pb(a, f.name)) return f; d = d.parent } c = 0; for (g = this.Xd.length; c < g; c++) for (n = this.Xd[c], b = 0, k = n.Pe.length; b < k; b++) if (f = n.Pe[b], f instanceof Wb && pb(a, f.name)) return f; return null } ; e.prototype.dq = function(a) { var d, c; d = 0; for (c = this.ld.length; d < c; d++) if (this.ld[d].aa === a) return this.ld[d]; return null } ; e.prototype.Zj = function(a) { var d, c; d = 0; for (c = this.r.length; d < c; d++) if (this.r[d].aa === a) return this.r[d]; return null } ; e.prototype.rw = function(a) { var d, c; d = 0; for (c = this.eg.length; d < c; d++) if (this.eg[d].aa === a) return this.eg[d]; return null } ; e.prototype.cv = function(a, d) { this.Ki = [a, d]; this.ka = !0 } ; e.prototype.Ow = function() { var a = this , d = this.Jn , c = this.ee , g = this.sk , k = !1; this.Zr && (k = !0, d = "__c2_continuouspreview", this.Zr = !1); if (d.length) { this.Mb(); c = this.my(); if (b() && !this.nc) r(d, c, function() { ga("Saved state to IndexedDB storage (" + c.length + " bytes)"); a.ee = c; a.trigger(E.prototype.d.Al, null); a.ee = ""; k && m() }, function(g) { try { localStorage.setItem("__c2save_" + d, c), ga("Saved state to WebStorage (" + c.length + " bytes)"), a.ee = c, a.trigger(E.prototype.d.Al, null), a.ee = "", k && m() } catch (b) { ga("Failed to save game state: " + g + "; " + b), a.trigger(E.prototype.d.No, null) } }); else try { localStorage.setItem("__c2save_" + d, c), ga("Saved state to WebStorage (" + c.length + " bytes)"), a.ee = c, this.trigger(E.prototype.d.Al, null), a.ee = "", k && m() } catch (n) { ga("Error saving to WebStorage: " + n), a.trigger(E.prototype.d.No, null) } this.sk = this.Jn = ""; this.kb = null } if (g.length) { if (b() && !this.nc) p(g, function(d) { d ? (a.kb = d, ga("Loaded state from IndexedDB storage (" + a.kb.length + " bytes)")) : (a.kb = localStorage.getItem("__c2save_" + g) || "", ga("Loaded state from WebStorage (" + a.kb.length + " bytes)")); a.Ni = !1; a.kb || (a.kb = null, a.trigger(E.prototype.d.fj, null)) }, function() { a.kb = localStorage.getItem("__c2save_" + g) || ""; ga("Loaded state from WebStorage (" + a.kb.length + " bytes)"); a.Ni = !1; a.kb || (a.kb = null, a.trigger(E.prototype.d.fj, null)) }); else { try { this.kb = localStorage.getItem("__c2save_" + g) || "", ga("Loaded state from WebStorage (" + this.kb.length + " bytes)") } catch (f) { this.kb = null } this.Ni = !1; a.kb || (a.kb = null, a.trigger(E.prototype.d.fj, null)) } this.Jn = this.sk = "" } null !== this.kb && (this.Mb(), this.nx(this.kb) ? (this.ee = this.kb, this.trigger(E.prototype.d.Nt, null), this.ee = "") : a.trigger(E.prototype.d.fj, null), this.kb = null) } ; e.prototype.my = function() { var d, c, g, b, k, n, f, q = { c2save: !0, version: 1, rt: { time: this.hb.X, walltime: this.ye.X, timescale: this.Wf, tickcount: this.bh, execcount: this.uf, next_uid: this.ki, running_layout: this.la.aa, start_time_offset: Date.now() - this.fl }, types: {}, layouts: {}, events: { groups: {}, cnds: {}, acts: {}, vars: {} } }; d = 0; for (c = this.r.length; d < c; d++) if (k = this.r[d], !k.I && !this.eo(k)) { n = { instances: [] }; Wa(k.wa) && (n.ex = a(k.wa)); g = 0; for (b = k.c.length; g < b; g++) n.instances.push(this.In(k.c[g])); q.types[k.aa.toString()] = n } d = 0; for (c = this.ld.length; d < c; d++) g = this.ld[d], q.layouts[g.aa.toString()] = g.Jb(); b = q.events.groups; d = 0; for (c = this.eg.length; d < c; d++) g = this.eg[d], b[g.aa.toString()] = this.Fh[g.Eh].tg; c = q.events.cnds; for (f in this.Je) this.Je.hasOwnProperty(f) && (d = this.Je[f], Wa(d.wa) && (c[f] = { ex: a(d.wa) })); c = q.events.acts; for (f in this.De) this.De.hasOwnProperty(f) && (d = this.De[f], Wa(d.wa) && (c[f] = { ex: a(d.wa) })); c = q.events.vars; for (f in this.gh) this.gh.hasOwnProperty(f) && (d = this.gh[f], d.kk || d.parent && !d.Uh || (c[f] = d.data)); q.system = this.Ld.Jb(); return JSON.stringify(q) } ; e.prototype.Ir = function() { var a, d, c, g, b, k; this.he = {}; a = 0; for (d = this.r.length; a < d; a++) if (c = this.r[a], !c.I) for (g = 0, b = c.c.length; g < b; g++) k = c.c[g], this.he[k.uid.toString()] = k } ; e.prototype.nx = function(a) { var d; try { d = JSON.parse(a) } catch (c) { return !1 } if (!d.c2save || 1 < d.version) return !1; this.Mh = !0; a = d.rt; this.hb.reset(); this.hb.X = a.time; this.ye.reset(); this.ye.X = a.walltime || 0; this.Wf = a.timescale; this.bh = a.tickcount; this.uf = a.execcount; this.fl = Date.now() - a.start_time_offset; var g = a.running_layout; if (g !== this.la.aa) if (g = this.dq(g)) this.Gp(g); else return; var b, k, n, f, q, h, e; h = d.types; for (k in h) if (h.hasOwnProperty(k) && (f = this.Zj(parseInt(k, 10))) && !f.I && !this.eo(f)) { h[k].ex ? f.wa = h[k].ex : Ya(f.wa); q = f.c; n = h[k].instances; g = 0; for (b = oa(q.length, n.length); g < b; g++) this.tk(q[g], n[g]); g = n.length; for (b = q.length; g < b; g++) this.ef(q[g]); g = q.length; for (b = n.length; g < b; g++) { q = null; if (f.Z.Te && (q = this.la.Yj(n[g].w.l), !q)) continue; q = this.Le(f.Tc, q, !1, 0, 0, !0); this.tk(q, n[g]) } f.Zg = !0 } this.Mb(); this.Ir(); b = d.layouts; for (k in b) b.hasOwnProperty(k) && (g = this.dq(parseInt(k, 10))) && g.fc(b[k]); b = d.events.groups; for (k in b) b.hasOwnProperty(k) && (g = this.rw(parseInt(k, 10))) && this.Fh[g.Eh] && this.Fh[g.Eh].oy(b[k]); g = d.events.cnds; for (k in this.Je) this.Je.hasOwnProperty(k) && (g.hasOwnProperty(k) ? this.Je[k].wa = g[k].ex : this.Je[k].wa = {}); g = d.events.acts; for (k in this.De) this.De.hasOwnProperty(k) && (g.hasOwnProperty(k) ? this.De[k].wa = g[k].ex : this.De[k].wa = {}); g = d.events.vars; for (k in g) g.hasOwnProperty(k) && this.gh.hasOwnProperty(k) && (this.gh[k].data = g[k]); this.ki = a.next_uid; this.Mh = !1; g = 0; for (b = this.Qj.length; g < b; ++g) q = this.Qj[g], this.trigger(Object.getPrototypeOf(q.type.Z).d.ag, q); x(this.Qj); this.Ld.fc(d.system); g = 0; for (b = this.r.length; g < b; g++) if (f = this.r[g], !f.I && !this.eo(f)) for (d = 0, k = f.c.length; d < k; d++) { q = f.c[d]; if (f.Sb) for (h = q.Dh(), x(q.siblings), a = 0, n = f.wc.length; a < n; a++) e = f.wc[a], f !== e && q.siblings.push(e.c[h]); q.wd && q.wd(); if (q.C) for (a = 0, n = q.C.length; a < n; a++) h = q.C[a], h.wd && h.wd() } return this.ka = !0 } ; e.prototype.In = function(d, c) { var g, b, k, f, n; f = d.type; k = f.Z; var q = {}; c ? q.c2 = !0 : q.uid = d.uid; Wa(d.wa) && (q.ex = a(d.wa)); if (d.gb && d.gb.length) for (q.ivs = {}, g = 0, b = d.gb.length; g < b; g++) q.ivs[d.type.Gm[g].toString()] = d.gb[g]; if (k.Te) { k = { x: d.x, y: d.y, w: d.width, h: d.height, l: d.j.aa, zi: d.Wc() }; 0 !== d.g && (k.a = d.g); 1 !== d.opacity && (k.o = d.opacity); .5 !== d.ac && (k.hX = d.ac); .5 !== d.cc && (k.hY = d.cc); 0 !== d.rb && (k.bm = d.rb); d.visible || (k.v = d.visible); d.lf || (k.ce = d.lf); -1 !== d.ji && (k.mts = d.ji); if (f.K.length) for (k.fx = [], g = 0, b = f.K.length; g < b; g++) n = f.K[g], k.fx.push({ name: n.name, active: d.Ce[n.index], params: d.Ka[n.index] }); q.w = k } if (d.C && d.C.length) for (q.behs = {}, g = 0, b = d.C.length; g < b; g++) f = d.C[g], f.Jb && (q.behs[f.type.aa.toString()] = f.Jb()); d.Jb && (q.data = d.Jb()); return q } ; e.prototype.tw = function(a, d) { var c, g; c = 0; for (g = a.Gm.length; c < g; c++) if (a.Gm[c] === d) return c; return -1 } ; e.prototype.ow = function(a, d) { var c, g; c = 0; for (g = a.C.length; c < g; c++) if (a.C[c].type.aa === d) return c; return -1 } ; e.prototype.tk = function(a, d, c) { var g, k, b, f, n; n = a.type; f = n.Z; if (c) { if (!d.c2) return } else a.uid = d.uid; d.ex ? a.wa = d.ex : Ya(a.wa); if (k = d.ivs) for (g in k) k.hasOwnProperty(g) && (b = this.tw(n, parseInt(g, 10)), 0 > b || b >= a.gb.length || (a.gb[b] = k[g])); if (f.Te) { b = d.w; a.j.aa !== b.l && (k = a.j, a.j = this.la.Yj(b.l), a.j ? (k.Tg(a, !0), a.j.oh(a, !0), a.Aa(), a.j.Ei(0)) : (a.j = k, c || this.ef(a))); a.x = b.x; a.y = b.y; a.width = b.w; a.height = b.h; a.ud = b.zi; a.g = b.hasOwnProperty("a") ? b.a : 0; a.opacity = b.hasOwnProperty("o") ? b.o : 1; a.ac = b.hasOwnProperty("hX") ? b.hX : .5; a.cc = b.hasOwnProperty("hY") ? b.hY : .5; a.visible = b.hasOwnProperty("v") ? b.v : !0; a.lf = b.hasOwnProperty("ce") ? b.ce : !0; a.ji = b.hasOwnProperty("mts") ? b.mts : -1; a.rb = b.hasOwnProperty("bm") ? b.bm : 0; a.Rd = mb(a.rb); this.p && nb(a, a.rb, this.p); a.Aa(); if (b.hasOwnProperty("fx")) for (c = 0, k = b.fx.length; c < k; c++) f = n.qm(b.fx[c].name), 0 > f || (a.Ce[f] = b.fx[c].active, a.Ka[f] = b.fx[c].params); a.td() } if (n = d.behs) for (g in n) n.hasOwnProperty(g) && (c = this.ow(a, parseInt(g, 10)), 0 > c || a.C[c].fc(n[g])); d.data && a.fc(d.data) } ; e.prototype.Pp = function(a, d, c) { window.resolveLocalFileSystemURL(cordova.file.applicationDirectory + "www/" + a, function(a) { a.file(d, c) }, c) } ; e.prototype.Rp = function(a, d) { this.Pp("data.js", function(c) { var g = new FileReader; g.onload = function(d) { a(d.target.result) } ; g.onerror = d; g.readAsText(c) }, d) } ; var Z = [] , S = 0; e.prototype.Ym = function() { if (Z.length && !(8 <= S)) { S++; var a = Z.shift(); this.gv(a.filename, a.By, a.Ev) } } ; e.prototype.Qp = function(a, d, c) { var g = this; Z.push({ filename: a, By: function(a) { S--; g.Ym(); d(a) }, Ev: function(a) { S--; g.Ym(); c(a) } }); this.Ym() } ; e.prototype.gv = function(a, d, c) { this.Pp(a, function(a) { var c = new FileReader; c.onload = function(a) { d(a.target.result) } ; c.readAsArrayBuffer(a) }, c) } ; e.prototype.hw = function(a, d, c) { this.Qp(a, function(a) { a = URL.createObjectURL(new Blob([a])); d(a) }, c) } ; e.prototype.Ww = function(a) { return /^(?:[a-z]+:)?\/\//.test(a) || "data:" === a.substr(0, 5) || "blob:" === a.substr(0, 5) } ; e.prototype.Rr = function(a, d) { this.Rh && !this.Ww(d) ? this.hw(d, function(d) { a.src = d }, function(a) { alert("Failed to load image: " + a) }) : a.src = d } ; e.prototype.$k = function(a, d) { "undefined" !== typeof a.imageSmoothingEnabled ? a.imageSmoothingEnabled = d : (a.webkitImageSmoothingEnabled = d, a.mozImageSmoothingEnabled = d, a.msImageSmoothingEnabled = d) } ; Xb = function(a) { return new e(document.getElementById(a)) } ; Yb = function(a, d) { return new e({ dc: !0, width: a, height: d }) } ; window.cr_createRuntime = Xb; window.cr_createDCRuntime = Yb; window.createCocoonJSRuntime = function() { window.c2cocoonjs = !0; var a = document.createElement("screencanvas") || document.createElement("canvas"); a.jf = !0; document.body.appendChild(a); a = new e(a); window.c2runtime = a; window.addEventListener("orientationchange", function() { window.c2runtime.setSize(window.innerWidth, window.innerHeight) }); window.c2runtime.setSize(window.innerWidth, window.innerHeight); return a } ; window.createEjectaRuntime = function() { var a = new e(document.getElementById("canvas")); window.c2runtime = a; window.c2runtime.setSize(window.innerWidth, window.innerHeight); return a } } )(); window.cr_getC2Runtime = function() { var e = document.getElementById("c2canvas"); return e ? e.c2runtime : window.c2runtime ? window.c2runtime : null } ; window.cr_getSnapshot = function(e, h) { var b = window.cr_getC2Runtime(); b && b.cv(e, h) } ; window.cr_sizeCanvas = function(e, h) { if (0 !== e && 0 !== h) { var b = window.cr_getC2Runtime(); b && b.setSize(e, h) } } ; window.cr_setSuspended = function(e) { var h = window.cr_getC2Runtime(); h && h.setSuspended(e) } ; (function() { function e(a, c) { this.b = a; this.sf = null; this.scrollX = this.b.mb / 2; this.scrollY = this.b.lb / 2; this.scale = 1; this.g = 0; this.qg = !0; this.name = c[0]; this.Kx = c[1]; this.Jx = c[2]; this.width = c[1]; this.height = c[2]; this.qs = c[3]; this.Xr = c[4]; this.aa = c[5]; var b = c[6], k, f; this.N = []; this.Ih = []; k = 0; for (f = b.length; k < f; k++) { var h = new Zb(this,b[k]); h.ir = k; this.N.push(h) } b = c[7]; this.Af = []; k = 0; for (f = b.length; k < f; k++) { var h = b[k] , e = this.b.r[h[1]]; e.Tc || (e.Tc = h); this.Af.push(h); -1 === this.Ih.indexOf(e) && this.Ih.push(e) } this.K = []; this.Y = []; this.re = !0; this.Ka = []; k = 0; for (f = c[8].length; k < f; k++) this.K.push({ id: c[8][k][0], name: c[8][k][1], Va: -1, md: !1, Nb: !0, index: k }), this.Ka.push(c[8][k][2].slice(0)); this.td(); this.Ai = new va(0,0,1,1); this.Cn = new va(0,0,1,1); this.$e = {} } function h(a, c) { return a.ud - c.ud } function b(a, c) { this.jb = a; this.b = a.b; this.c = []; this.scale = 1; this.g = 0; this.Vd = !1; this.ve = new va(0,0,0,0); this.ks = new wa; this.Ha = this.za = this.Ja = this.Ba = 0; this.Yf = !1; this.ze = -1; this.Tl = 0; this.name = c[0]; this.index = c[1]; this.aa = c[2]; this.visible = c[3]; this.fd = c[4]; this.sd = c[5]; this.pc = c[6]; this.qc = c[7]; this.opacity = c[8]; this.Tj = c[9]; this.Qc = c[10]; this.Ub = c[11]; this.rb = c[12]; this.Av = c[13]; this.Rd = "source-over"; this.eb = this.qb = 0; this.Ib = null; this.fe = l(); this.qd = !0; this.Fg = new va(0,0,-1,-1); this.Bb = new va(0,0,-1,-1); this.Qc && (this.Ib = new lb(this.b.mb,this.b.lb)); this.Jd = !1; var b = c[14], k, f; this.bs = []; this.Jc = []; this.th = []; k = 0; for (f = b.length; k < f; k++) { var h = b[k] , e = this.b.r[h[1]]; e.Tc || (e.Tc = h, e.$u = this.index); this.Jc.push(h); -1 === this.jb.Ih.indexOf(e) && this.jb.Ih.push(e) } Aa(this.bs, this.Jc); this.K = []; this.Y = []; this.re = !0; this.Ka = []; k = 0; for (f = c[15].length; k < f; k++) this.K.push({ id: c[15][k][0], name: c[15][k][1], Va: -1, md: !1, Nb: !0, index: k }), this.Ka.push(c[15][k][2].slice(0)); this.td(); this.Ai = new va(0,0,1,1); this.Cn = new va(0,0,1,1) } function l() { return a.length ? a.pop() : [] } function r(d) { x(d); a.push(d) } e.prototype.ly = function(a) { var c = a.type.aa.toString(); this.$e.hasOwnProperty(c) || (this.$e[c] = []); this.$e[c].push(this.b.In(a)) } ; e.prototype.gq = function() { var a = this.N[0]; return !a.sd && 1 === a.opacity && !a.Tj && a.visible } ; e.prototype.td = function() { x(this.Y); this.re = !0; var a, c, b; a = 0; for (c = this.K.length; a < c; a++) b = this.K[a], b.Nb && (this.Y.push(b), b.md || (this.re = !1)) } ; e.prototype.pm = function(a) { var c, b, k; c = 0; for (b = this.K.length; c < b; c++) if (k = this.K[c], k.name === a) return k; return null } ; var p = [] , m = !0; e.prototype.Un = function() { this.Xr && (this.sf = this.b.em[this.Xr], this.sf.io()); this.b.la = this; this.width = this.Kx; this.height = this.Jx; this.scrollX = this.b.mb / 2; this.scrollY = this.b.lb / 2; var a, c, b, k, f, e, t; a = 0; for (b = this.b.r.length; a < b; a++) if (c = this.b.r[a], !c.I) for (f = c.c, c = 0, k = f.length; c < k; c++) if (e = f[c], e.j) { var n = e.j.ir; n >= this.N.length && (n = this.N.length - 1); e.j = this.N[n]; -1 === e.j.c.indexOf(e) && e.j.c.push(e); e.j.Yf = !0 } if (!m) for (a = 0, b = this.N.length; a < b; ++a) this.N[a].c.sort(h); x(p); this.Ou(); a = 0; for (b = this.N.length; a < b; a++) e = this.N[a], e.Zu(), e.tl(); f = !1; if (!this.qg) { for (t in this.$e) if (this.$e.hasOwnProperty(t) && (c = this.b.Zj(parseInt(t, 10))) && !c.I && this.b.fo(c)) { k = this.$e[t]; a = 0; for (b = k.length; a < b; a++) { e = null; if (c.Z.Te && (e = this.Yj(k[a].w.l), !e)) continue; e = this.b.Le(c.Tc, e, !1, 0, 0, !0); this.b.tk(e, k[a]); f = !0; p.push(e) } x(k) } a = 0; for (b = this.N.length; a < b; a++) this.N[a].c.sort(h), this.N[a].Yf = !0 } f && (this.b.Mb(), this.b.Ir()); for (a = 0; a < p.length; a++) if (e = p[a], e.type.Sb) for (b = e.Dh(), c = 0, k = e.type.wc.length; c < k; c++) t = e.type.wc[c], e.type !== t && (t.c.length > b ? e.siblings.push(t.c[b]) : t.Tc && (f = this.b.Le(t.Tc, e.j, !0, e.x, e.y, !0), this.b.Mb(), t.rl(), e.siblings.push(f), p.push(f))); a = 0; for (b = this.Af.length; a < b; a++) this.b.Le(this.Af[a], null, !0); this.b.rh = null; this.b.Mb(); if (this.b.ja && !this.b.xa) for (a = 0, b = this.b.r.length; a < b; a++) t = this.b.r[a], !t.I && t.c.length && t.xn && t.xn(this.b.ja); if (this.b.Mh) Aa(this.b.Qj, p); else for (a = 0, b = p.length; a < b; a++) e = p[a], this.b.trigger(Object.getPrototypeOf(e.type.Z).d.ag, e); x(p); this.b.Mh || this.b.trigger(E.prototype.d.Ho, null); this.qg = !1 } ; e.prototype.Yu = function() { var a, c, b, k, f; c = a = 0; for (b = this.Af.length; a < b; a++) k = this.Af[a], f = this.b.r[k[1]], f.global ? f.Sb || this.b.Le(k, null, !0) : (this.Af[c] = k, c++); za(this.Af, c) } ; e.prototype.zy = function() { this.b.Mh || this.b.trigger(E.prototype.d.Mt, null); this.b.Hm = !0; x(this.b.Ld.uc); var a, c, b, k, f, e; if (!this.qg) for (a = 0, c = this.N.length; a < c; a++) for (this.N[a].lo(), f = this.N[a].c, b = 0, k = f.length; b < k; b++) e = f[b], e.type.global || this.b.fo(e.type) && this.ly(e); a = 0; for (c = this.N.length; a < c; a++) { f = this.N[a].c; b = 0; for (k = f.length; b < k; b++) e = f[b], e.type.global || this.b.ef(e); this.b.Mb(); x(f); this.N[a].Yf = !0 } a = 0; for (c = this.b.r.length; a < c; a++) if (f = this.b.r[a], !(f.global || f.Z.Te || f.Z.el || f.I)) { b = 0; for (k = f.c.length; b < k; b++) this.b.ef(f.c[b]); this.b.Mb() } m = !1; this.b.Hm = !1 } ; new va(0,0,0,0); e.prototype.jd = function(a) { var c, b = a, k = !1, f = !this.b.Hc; f && (this.b.rk || (this.b.rk = document.createElement("canvas"), c = this.b.rk, c.width = this.b.F, c.height = this.b.D, this.b.Eq = c.getContext("2d"), k = !0), c = this.b.rk, b = this.b.Eq, c.width !== this.b.F && (c.width = this.b.F, k = !0), c.height !== this.b.D && (c.height = this.b.D, k = !0), k && this.b.$k(b, this.b.ya)); b.globalAlpha = 1; b.globalCompositeOperation = "source-over"; this.b.vp && !this.gq() && b.clearRect(0, 0, this.b.F, this.b.D); var e, h, k = 0; for (e = this.N.length; k < e; k++) h = this.N[k], h.visible && 0 < h.opacity && 11 !== h.rb && (h.c.length || !h.sd) ? h.jd(b) : h.tl(); f && a.drawImage(c, 0, 0, this.b.width, this.b.height) } ; e.prototype.of = function(a) { a.Qr(!0); this.b.$a || (this.b.$a = a.$b(this.b.F, this.b.D, this.b.ya)); if (this.b.$a.He !== this.b.F || this.b.$a.Ge !== this.b.D) a.deleteTexture(this.b.$a), this.b.$a = a.$b(this.b.F, this.b.D, this.b.ya); a.Kb(this.b.$a); this.b.Hc || a.pe(this.b.F, this.b.D); var c, b; for (c = this.N.length - 1; 0 <= c; --c) b = this.N[c], b.visible && 1 === b.opacity && b.re && 0 === b.rb && (b.c.length || !b.sd) ? b.of(a) : b.tl(); a.Qr(!1) } ; e.prototype.Ob = function(a) { var c = 0 < this.Y.length || this.b.eh || !this.b.Hc || this.b.Fa; if (c) { this.b.$a || (this.b.$a = a.$b(this.b.F, this.b.D, this.b.ya)); if (this.b.$a.He !== this.b.F || this.b.$a.Ge !== this.b.D) a.deleteTexture(this.b.$a), this.b.$a = a.$b(this.b.F, this.b.D, this.b.ya); a.Kb(this.b.$a); this.b.Hc || a.pe(this.b.F, this.b.D) } else this.b.$a && (a.Kb(null), a.deleteTexture(this.b.$a), this.b.$a = null); this.b.vp && !this.gq() && a.clear(0, 0, 0, 0); var b, k, f; b = 0; for (k = this.N.length; b < k; b++) f = this.N[b], f.visible && 0 < f.opacity && (f.c.length || !f.sd) ? f.Ob(a) : f.tl(); c && (0 === this.Y.length || 1 === this.Y.length && this.b.Hc ? (1 === this.Y.length ? (c = this.Y[0].index, a.Lb(this.Y[0].Va), a.Uf(null, 1 / this.b.F, 1 / this.b.D, 0, 0, 1, 1, this.scale, this.g, 0, 0, this.b.F / 2, this.b.D / 2, this.b.hb.X, this.Ka[c]), a.Sk(this.Y[0].Va) && (this.b.ka = !0)) : a.Lb(0), this.b.Hc || a.pe(this.b.width, this.b.height), a.Kb(null), a.Or(!1), a.bf(1), a.wb(this.b.$a), a.Mn(), a.Oc(), a.Ec(), c = this.b.width / 2, b = this.b.height / 2, a.Pf(-c, b, c, b, c, -b, -c, -b), a.wb(null), a.Or(!0)) : this.Dn(a, null, null, null)) } ; e.prototype.Ch = function() { return 0 < this.Y.length || this.b.eh || !this.b.Hc || this.b.Fa ? this.b.$a : null } ; e.prototype.fq = function() { var a = this.N[0].Vc(), c, b, k; c = 1; for (b = this.N.length; c < b; c++) k = this.N[c], (0 !== k.pc || 0 !== k.qc) && k.Vc() < a && (a = k.Vc()); return a } ; e.prototype.Kn = function(a) { if (!this.qs) { var c = 1 / this.fq() * this.b.F / 2; a > this.width - c && (a = this.width - c); a < c && (a = c) } this.scrollX !== a && (this.scrollX = a, this.b.ka = !0) } ; e.prototype.Ln = function(a) { if (!this.qs) { var c = 1 / this.fq() * this.b.D / 2; a > this.height - c && (a = this.height - c); a < c && (a = c) } this.scrollY !== a && (this.scrollY = a, this.b.ka = !0) } ; e.prototype.Ou = function() { this.Kn(this.scrollX); this.Ln(this.scrollY) } ; e.prototype.Dn = function(a, c, b, k) { var f = b ? b.Y : c ? c.Y : this.Y , e = 1 , h = 0 , n = 0 , q = 0 , m = this.b.F , l = this.b.D; b ? (e = b.j.Vc(), h = b.j.Db(), n = b.j.Ba, q = b.j.za, m = b.j.Ja, l = b.j.Ha) : c && (e = c.Vc(), h = c.Db(), n = c.Ba, q = c.za, m = c.Ja, l = c.Ha); var r = this.b.mm, p, F, D, I, z = 0, V = 1, G, Z, S = this.b.F, u = this.b.D, aa = S / 2, v = u / 2, N = c ? c.Ai : this.Ai, C = c ? c.Cn : this.Cn, O = 0, W = 0, L = 0, H = 0, P = S, pa = S, R = u, Ga = u, qa = D = 0; I = b ? b.j.Db() : 0; if (b) { p = 0; for (F = f.length; p < F; p++) D += a.xw(f[p].Va), qa += a.yw(f[p].Va); H = b.qa; O = c.ec(H.left, H.top, !0, !0); L = c.ec(H.left, H.top, !1, !0); P = c.ec(H.right, H.bottom, !0, !0); R = c.ec(H.right, H.bottom, !1, !0); 0 !== I && (p = c.ec(H.right, H.top, !0, !0), F = c.ec(H.right, H.top, !1, !0), W = c.ec(H.left, H.bottom, !0, !0), H = c.ec(H.left, H.bottom, !1, !0), I = Math.min(O, P, p, W), P = Math.max(O, P, p, W), O = I, I = Math.min(L, R, F, H), R = Math.max(L, R, F, H), L = I); O -= D; L -= qa; P += D; R += qa; C.left = O / S; C.top = 1 - L / u; C.right = P / S; C.bottom = 1 - R / u; W = O = sa(O); H = L = sa(L); pa = P = ta(P); Ga = R = ta(R); W -= D; H -= qa; pa += D; Ga += qa; 0 > O && (O = 0); 0 > L && (L = 0); P > S && (P = S); R > u && (R = u); 0 > W && (W = 0); 0 > H && (H = 0); pa > S && (pa = S); Ga > u && (Ga = u); N.left = O / S; N.top = 1 - L / u; N.right = P / S; N.bottom = 1 - R / u } else N.left = C.left = 0, N.top = C.top = 0, N.right = C.right = 1, N.bottom = C.bottom = 1; qa = b && (a.xi(f[0].Va) || 0 !== D || 0 !== qa || 1 !== b.opacity || b.type.Z.cr) || c && !b && 1 !== c.opacity; a.Mn(); if (qa) { r[z] || (r[z] = a.$b(S, u, this.b.ya)); if (r[z].He !== S || r[z].Ge !== u) a.deleteTexture(r[z]), r[z] = a.$b(S, u, this.b.ya); a.Lb(0); a.Kb(r[z]); Z = Ga - H; a.clearRect(W, u - H - Z, pa - W, Z); b ? b.Ob(a) : (a.wb(this.b.ib), a.bf(c.opacity), a.Oc(), a.translate(-aa, -v), a.Ec(), a.ne(O, R, P, R, P, L, O, L, N)); C.left = C.top = 0; C.right = C.bottom = 1; b && (I = N.top, N.top = N.bottom, N.bottom = I); z = 1; V = 0 } a.bf(1); D = f.length - 1; var Oa = a.zn(f[D].Va) || !c && !b && !this.b.Hc; p = I = 0; for (F = f.length; p < F; p++) { r[z] || (r[z] = a.$b(S, u, this.b.ya)); if (r[z].He !== S || r[z].Ge !== u) a.deleteTexture(r[z]), r[z] = a.$b(S, u, this.b.ya); a.Lb(f[p].Va); I = f[p].index; a.Sk(f[p].Va) && (this.b.ka = !0); 0 != p || qa ? (a.Uf(k, 1 / S, 1 / u, C.left, C.top, C.right, C.bottom, e, h, n, q, (n + m) / 2, (q + l) / 2, this.b.hb.X, b ? b.Ka[I] : c ? c.Ka[I] : this.Ka[I]), a.wb(null), p !== D || Oa ? (a.Kb(r[z]), Z = Ga - H, G = u - H - Z, a.clearRect(W, G, pa - W, Z)) : (b ? a.Kd(b.qb, b.eb) : c && a.Kd(c.qb, c.eb), a.Kb(k)), a.wb(r[V]), a.Oc(), a.translate(-aa, -v), a.Ec(), a.ne(O, R, P, R, P, L, O, L, N), p !== D || Oa || a.wb(null)) : (a.Kb(r[z]), Z = Ga - H, G = u - H - Z, a.clearRect(W, G, pa - W, Z), b ? (b.Da && b.Da.R ? (G = b.Da.R, V = 1 / G.width, G = 1 / G.height) : (V = 1 / b.width, G = 1 / b.height), a.Uf(k, V, G, C.left, C.top, C.right, C.bottom, e, h, n, q, (n + m) / 2, (q + l) / 2, this.b.hb.X, b.Ka[I]), b.Ob(a)) : (a.Uf(k, 1 / S, 1 / u, 0, 0, 1, 1, e, h, n, q, (n + m) / 2, (q + l) / 2, this.b.hb.X, c ? c.Ka[I] : this.Ka[I]), a.wb(c ? this.b.ib : this.b.$a), a.Oc(), a.translate(-aa, -v), a.Ec(), a.ne(O, R, P, R, P, L, O, L, N)), C.left = C.top = 0, C.right = C.bottom = 1, b && !Oa && (I = R, R = L, L = I)); z = 0 === z ? 1 : 0; V = 0 === z ? 1 : 0 } Oa && (a.Lb(0), b ? a.Kd(b.qb, b.eb) : c ? a.Kd(c.qb, c.eb) : this.b.Hc || (a.pe(this.b.width, this.b.height), aa = this.b.width / 2, v = this.b.height / 2, L = O = 0, P = this.b.width, R = this.b.height), a.Kb(k), a.wb(r[V]), a.Oc(), a.translate(-aa, -v), a.Ec(), b && 1 === f.length && !qa ? a.ne(O, L, P, L, P, R, O, R, N) : a.ne(O, R, P, R, P, L, O, L, N), a.wb(null)) } ; e.prototype.Yj = function(a) { var c, b; c = 0; for (b = this.N.length; c < b; c++) if (this.N[c].aa === a) return this.N[c]; return null } ; e.prototype.Jb = function() { var a, c, b, k = { sx: this.scrollX, sy: this.scrollY, s: this.scale, a: this.g, w: this.width, h: this.height, fv: this.qg, persist: this.$e, fx: [], layers: {} }; a = 0; for (c = this.K.length; a < c; a++) b = this.K[a], k.fx.push({ name: b.name, active: b.Nb, params: this.Ka[b.index] }); a = 0; for (c = this.N.length; a < c; a++) b = this.N[a], k.layers[b.aa.toString()] = b.Jb(); return k } ; e.prototype.fc = function(a) { var c, b, k, f; this.scrollX = a.sx; this.scrollY = a.sy; this.scale = a.s; this.g = a.a; this.width = a.w; this.height = a.h; this.$e = a.persist; "undefined" !== typeof a.fv && (this.qg = a.fv); var e = a.fx; c = 0; for (b = e.length; c < b; c++) if (k = this.pm(e[c].name)) k.Nb = e[c].active, this.Ka[k.index] = e[c].params; this.td(); c = a.layers; for (f in c) c.hasOwnProperty(f) && (a = this.Yj(parseInt(f, 10))) && a.fc(c[f]) } ; Kb = e; b.prototype.td = function() { x(this.Y); this.re = !0; var a, c, b; a = 0; for (c = this.K.length; a < c; a++) b = this.K[a], b.Nb && (this.Y.push(b), b.md || (this.re = !1)) } ; b.prototype.pm = function(a) { var c, b, k; c = 0; for (b = this.K.length; c < b; c++) if (k = this.K[c], k.name === a) return k; return null } ; b.prototype.Zu = function() { var a, c, b, k, f, e; c = a = 0; for (b = this.Jc.length; a < b; a++) { k = this.Jc[a]; f = this.b.r[k[1]]; e = this.b.fo(f); f = !0; if (!e || this.jb.qg) { k = this.b.Le(k, this, !0); if (!k) continue; p.push(k); k.type.global && (f = !1, this.th.push(k.uid)) } f && (this.Jc[c] = this.Jc[a], c++) } this.Jc.length = c; this.b.Mb(); !this.b.q && this.K.length && (this.rb = this.Av); this.Rd = mb(this.rb); this.b.p && nb(this, this.rb, this.b.p); this.qd = !0 } ; b.prototype.Tg = function(a, c) { var b = Da(this.c, a); 0 > b || (c && this.Qc && a.rc && a.rc.right >= a.rc.left && (a.va(), this.Ib.update(a, a.rc, null), a.rc.set(0, 0, -1, -1)), b === this.c.length - 1 ? this.c.pop() : (ya(this.c, b), this.Ei(b)), this.qd = !0) } ; b.prototype.oh = function(a, c) { a.ud = this.c.length; this.c.push(a); c && this.Qc && a.rc && a.Aa(); this.qd = !0 } ; b.prototype.Tx = function(a) { this.c.unshift(a); this.Ei(0) } ; b.prototype.vx = function(a, c, b) { var k = a.Wc(); c = c.Wc(); ya(this.c, k); k < c && c--; b && c++; c === this.c.length ? this.c.push(a) : this.c.splice(c, 0, a); this.Ei(k < c ? k : c) } ; b.prototype.Ei = function(a) { -1 === this.ze ? this.ze = a : a < this.ze && (this.ze = a); this.qd = this.Yf = !0 } ; b.prototype.lo = function() { if (this.Yf) { -1 === this.ze && (this.ze = 0); var a, c, b; if (this.Qc) for (a = this.ze, c = this.c.length; a < c; ++a) b = this.c[a], b.ud = a, this.Ib.rx(b.rc); else for (a = this.ze, c = this.c.length; a < c; ++a) this.c[a].ud = a; this.Yf = !1; this.ze = -1 } } ; b.prototype.Vc = function(a) { return this.uw() * (this.b.Hc || a ? this.b.ph : 1) } ; b.prototype.uw = function() { return (this.scale * this.jb.scale - 1) * this.Ub + 1 } ; b.prototype.Db = function() { return this.Vd ? 0 : Ja(this.jb.g + this.g) } ; var a = [] , c = [] , f = []; b.prototype.um = function() { this.lo(); this.Ib.Uk(this.Ba, this.za, this.Ja, this.Ha, f); if (!f.length) return l(); if (1 === f.length) { var a = l(); Aa(a, f[0]); x(f); return a } for (var b = !0; 1 < f.length; ) { for (var a = f, e = void 0, k = void 0, h = void 0, m = void 0, t = void 0, e = 0, k = a.length; e < k - 1; e += 2) { var h = a[e] , m = a[e + 1] , t = l() , n = h , q = m , p = t , y = 0 , M = 0 , T = 0 , F = n.length , D = q.length , I = void 0 , z = void 0; for (p.length = F + D; y < F && M < D; ++T) I = n[y], z = q[M], I.ud < z.ud ? (p[T] = I, ++y) : (p[T] = z, ++M); for (; y < F; ++y, ++T) p[T] = n[y]; for (; M < D; ++M, ++T) p[T] = q[M]; b || (r(h), r(m)); c.push(t) } 1 === k % 2 && (b ? (h = l(), Aa(h, a[k - 1]), c.push(h)) : c.push(a[k - 1])); Aa(a, c); x(c); b = !1 } a = f[0]; x(f); return a } ; b.prototype.jd = function(a) { this.Jd = this.Tj || 1 !== this.opacity || 0 !== this.rb; var c = this.b.canvas , b = a , k = !1; this.Jd && (this.b.qk || (this.b.qk = document.createElement("canvas"), c = this.b.qk, c.width = this.b.F, c.height = this.b.D, this.b.Dq = c.getContext("2d"), k = !0), c = this.b.qk, b = this.b.Dq, c.width !== this.b.F && (c.width = this.b.F, k = !0), c.height !== this.b.D && (c.height = this.b.D, k = !0), k && this.b.$k(b, this.b.ya), this.sd && b.clearRect(0, 0, this.b.F, this.b.D)); b.globalAlpha = 1; b.globalCompositeOperation = "source-over"; this.sd || (b.fillStyle = "rgb(" + this.fd[0] + "," + this.fd[1] + "," + this.fd[2] + ")", b.fillRect(0, 0, this.b.F, this.b.D)); b.save(); this.Vd = !0; var k = this.Ca(0, 0, !0, !0) , f = this.Ca(0, 0, !1, !0); this.Vd = !1; this.b.le && (k = Math.round(k), f = Math.round(f)); this.Wk(k, f, b); var e = this.Vc(); b.scale(e, e); b.translate(-k, -f); this.Qc ? (this.Bb.left = this.Ib.kc(this.Ba), this.Bb.top = this.Ib.lc(this.za), this.Bb.right = this.Ib.kc(this.Ja), this.Bb.bottom = this.Ib.lc(this.Ha), this.qd || !this.Bb.vh(this.Fg) ? (r(this.fe), k = this.um(), this.qd = !1, this.Fg.ig(this.Bb)) : k = this.fe) : k = this.c; for (var h, n = null, f = 0, e = k.length; f < e; ++f) h = k[f], h !== n && (this.vv(h, b), n = h); this.Qc && (this.fe = k); b.restore(); this.Jd && (a.globalCompositeOperation = this.Rd, a.globalAlpha = this.opacity, a.drawImage(c, 0, 0)) } ; b.prototype.vv = function(a, c) { if (a.visible && 0 !== a.width && 0 !== a.height) { a.va(); var b = a.qa; b.right < this.Ba || b.bottom < this.za || b.left > this.Ja || b.top > this.Ha || (c.globalCompositeOperation = a.Rd, a.jd(c)) } } ; b.prototype.tl = function() { this.Vd = !0; var a = this.Ca(0, 0, !0, !0) , c = this.Ca(0, 0, !1, !0); this.Vd = !1; this.b.le && (a = Math.round(a), c = Math.round(c)); this.Wk(a, c, null) } ; b.prototype.Wk = function(a, c, b) { var k = this.Vc(); this.Ba = a; this.za = c; this.Ja = a + 1 / k * this.b.F; this.Ha = c + 1 / k * this.b.D; this.Ba > this.Ja && (a = this.Ba, this.Ba = this.Ja, this.Ja = a); this.za > this.Ha && (a = this.za, this.za = this.Ha, this.Ha = a); a = this.Db(); 0 !== a && (b && (b.translate(this.b.F / 2, this.b.D / 2), b.rotate(-a), b.translate(this.b.F / -2, this.b.D / -2)), this.ve.set(this.Ba, this.za, this.Ja, this.Ha), this.ve.offset((this.Ba + this.Ja) / -2, (this.za + this.Ha) / -2), this.ks.Vr(this.ve, a), this.ks.op(this.ve), this.ve.offset((this.Ba + this.Ja) / 2, (this.za + this.Ha) / 2), this.Ba = this.ve.left, this.za = this.ve.top, this.Ja = this.ve.right, this.Ha = this.ve.bottom) } ; b.prototype.of = function(a) { if (this.Jd = this.Tj) { this.b.ib || (this.b.ib = a.$b(this.b.F, this.b.D, this.b.ya)); if (this.b.ib.He !== this.b.F || this.b.ib.Ge !== this.b.D) a.deleteTexture(this.b.ib), this.b.ib = a.$b(this.b.F, this.b.D, this.b.ya); a.Kb(this.b.ib) } this.Vd = !0; var c = this.Ca(0, 0, !0, !0) , b = this.Ca(0, 0, !1, !0); this.Vd = !1; this.b.le && (c = Math.round(c), b = Math.round(b)); this.Wk(c, b, null); c = this.Vc(); a.Oc(); a.scale(c, c); a.Ci(-this.Db()); a.translate((this.Ba + this.Ja) / -2, (this.za + this.Ha) / -2); a.Ec(); this.Qc ? (this.Bb.left = this.Ib.kc(this.Ba), this.Bb.top = this.Ib.lc(this.za), this.Bb.right = this.Ib.kc(this.Ja), this.Bb.bottom = this.Ib.lc(this.Ha), this.qd || !this.Bb.vh(this.Fg) ? (r(this.fe), c = this.um(), this.qd = !1, this.Fg.ig(this.Bb)) : c = this.fe) : c = this.c; for (var k, f = null, b = c.length - 1; 0 <= b; --b) k = c[b], k !== f && (this.xv(c[b], a), f = k); this.Qc && (this.fe = c); this.sd || (this.Tl = this.b.qf++, a.al(this.Tl), a.Nr(1, 1, 1), a.Up(), a.cy()) } ; b.prototype.Ob = function(a) { var c = 0 , b = 0; if (this.Jd = this.Tj || 1 !== this.opacity || 0 < this.Y.length || 0 !== this.rb) { this.b.ib || (this.b.ib = a.$b(this.b.F, this.b.D, this.b.ya)); if (this.b.ib.He !== this.b.F || this.b.ib.Ge !== this.b.D) a.deleteTexture(this.b.ib), this.b.ib = a.$b(this.b.F, this.b.D, this.b.ya); a.Kb(this.b.ib); this.sd && a.clear(0, 0, 0, 0) } this.sd || (this.b.Fa ? (a.al(this.Tl), a.Nr(this.fd[0] / 255, this.fd[1] / 255, this.fd[2] / 255), a.Up(), a.vy()) : a.clear(this.fd[0] / 255, this.fd[1] / 255, this.fd[2] / 255, 1)); this.Vd = !0; var f = this.Ca(0, 0, !0, !0) , c = this.Ca(0, 0, !1, !0); this.Vd = !1; this.b.le && (f = Math.round(f), c = Math.round(c)); this.Wk(f, c, null); f = this.Vc(); a.Oc(); a.scale(f, f); a.Ci(-this.Db()); a.translate((this.Ba + this.Ja) / -2, (this.za + this.Ha) / -2); a.Ec(); this.Qc ? (this.Bb.left = this.Ib.kc(this.Ba), this.Bb.top = this.Ib.lc(this.za), this.Bb.right = this.Ib.kc(this.Ja), this.Bb.bottom = this.Ib.lc(this.Ha), this.qd || !this.Bb.vh(this.Fg) ? (r(this.fe), c = this.um(), this.qd = !1, this.Fg.ig(this.Bb)) : c = this.fe) : c = this.c; var e, h, m = null, b = 0; for (e = c.length; b < e; ++b) h = c[b], h !== m && (this.wv(c[b], a), m = h); this.Qc && (this.fe = c); this.Jd && (c = this.Y.length ? this.Y[0].Va : 0, b = this.Y.length ? this.Y[0].index : 0, 0 === this.Y.length || 1 === this.Y.length && !a.zn(c) && 1 === this.opacity ? (1 === this.Y.length ? (a.Lb(c), a.Uf(this.jb.Ch(), 1 / this.b.F, 1 / this.b.D, 0, 0, 1, 1, f, this.Db(), this.Ba, this.za, (this.Ba + this.Ja) / 2, (this.za + this.Ha) / 2, this.b.hb.X, this.Ka[b]), a.Sk(c) && (this.b.ka = !0)) : a.Lb(0), a.Kb(this.jb.Ch()), a.bf(this.opacity), a.wb(this.b.ib), a.Kd(this.qb, this.eb), a.Oc(), a.Ec(), f = this.b.F / 2, c = this.b.D / 2, a.Pf(-f, c, f, c, f, -c, -f, -c), a.wb(null)) : this.jb.Dn(a, this, null, this.jb.Ch())) } ; b.prototype.wv = function(a, c) { if (a.visible && 0 !== a.width && 0 !== a.height) { a.va(); var b = a.qa; b.right < this.Ba || b.bottom < this.za || b.left > this.Ja || b.top > this.Ha || (c.al(a.qf), a.no ? this.yv(a, c) : (c.Lb(0), c.Kd(a.qb, a.eb), a.Ob(c))) } } ; b.prototype.xv = function(a, c) { if (a.visible && 0 !== a.width && 0 !== a.height) { a.va(); var b = a.qa; b.right < this.Ba || b.bottom < this.za || b.left > this.Ja || b.top > this.Ha || (a.qf = this.b.qf++, 0 === a.rb && 1 === a.opacity && a.re && a.of && (c.al(a.qf), a.of(c))) } } ; b.prototype.yv = function(a, c) { var b = a.Y[0].Va , f = a.Y[0].index , e = this.Vc(); if (1 !== a.Y.length || c.zn(b) || c.Vx(b) || (a.g || a.j.Db()) && c.xi(b) || 1 !== a.opacity || a.type.Z.cr) this.jb.Dn(c, this, a, this.Jd ? this.b.ib : this.jb.Ch()), c.Oc(), c.scale(e, e), c.Ci(-this.Db()), c.translate((this.Ba + this.Ja) / -2, (this.za + this.Ha) / -2), c.Ec(); else { c.Lb(b); c.Kd(a.qb, a.eb); c.Sk(b) && (this.b.ka = !0); var h = 0 , m = 0 , n = 0 , q = 0; c.xi(b) && (q = a.qa, h = this.ec(q.left, q.top, !0, !0), m = this.ec(q.left, q.top, !1, !0), n = this.ec(q.right, q.bottom, !0, !0), q = this.ec(q.right, q.bottom, !1, !0), h = h / windowWidth, m = 1 - m / windowHeight, n = n / windowWidth, q = 1 - q / windowHeight); var l; a.Da && a.Da.R ? (l = a.Da.R, b = 1 / l.width, l = 1 / l.height) : (b = 1 / a.width, l = 1 / a.height); c.Uf(this.Jd ? this.b.ib : this.jb.Ch(), b, l, h, m, n, q, e, this.Db(), this.Ba, this.za, (this.Ba + this.Ja) / 2, (this.za + this.Ha) / 2, this.b.hb.X, a.Ka[f]); a.Ob(c) } } ; b.prototype.Ca = function(a, c, b, f) { var e = this.b.devicePixelRatio; this.b.Df && (a *= e, c *= e); var e = this.b.wr , h = this.b.xr , e = (this.jb.scrollX - e) * this.pc + e , h = (this.jb.scrollY - h) * this.qc + h , m = e , n = h , q = 1 / this.Vc(!f); f ? (m -= this.b.F * q / 2, n -= this.b.D * q / 2) : (m -= this.b.width * q / 2, n -= this.b.height * q / 2); m += a * q; n += c * q; c = this.Db(); 0 !== c && (m -= e, n -= h, a = Math.cos(c), c = Math.sin(c), f = m * a - n * c, n = n * a + m * c, m = f + e, n += h); return b ? m : n } ; b.prototype.ec = function(a, c, b, f) { var e = this.b.wr , h = this.b.xr , m = (this.jb.scrollX - e) * this.pc + e , n = (this.jb.scrollY - h) * this.qc + h , h = m , e = n , q = this.Db(); if (0 !== q) { a -= m; c -= n; var l = Math.cos(-q) , q = Math.sin(-q) , r = a * l - c * q; c = c * l + a * q; a = r + m; c += n } m = 1 / this.Vc(!f); f ? (h -= this.b.F * m / 2, e -= this.b.D * m / 2) : (h -= this.b.width * m / 2, e -= this.b.height * m / 2); h = (a - h) / m; e = (c - e) / m; a = this.b.devicePixelRatio; this.b.Df && !f && (h /= a, e /= a); return b ? h : e } ; b.prototype.Jb = function() { var a, c, b, f = { s: this.scale, a: this.g, vl: this.Ba, vt: this.za, vr: this.Ja, vb: this.Ha, v: this.visible, bc: this.fd, t: this.sd, px: this.pc, py: this.qc, o: this.opacity, zr: this.Ub, fx: [], cg: this.th, instances: [] }; a = 0; for (c = this.K.length; a < c; a++) b = this.K[a], f.fx.push({ name: b.name, active: b.Nb, params: this.Ka[b.index] }); return f } ; b.prototype.fc = function(a) { var c, b, f; this.scale = a.s; this.g = a.a; this.Ba = a.vl; this.za = a.vt; this.Ja = a.vr; this.Ha = a.vb; this.visible = a.v; this.fd = a.bc; this.sd = a.t; this.pc = a.px; this.qc = a.py; this.opacity = a.o; this.Ub = a.zr; this.th = a.cg || []; Aa(this.Jc, this.bs); var e = new ea; c = 0; for (f = this.th.length; c < f; ++c) e.add(this.th[c]); b = c = 0; for (f = this.Jc.length; c < f; ++c) e.contains(this.Jc[c][2]) || (this.Jc[b] = this.Jc[c], ++b); za(this.Jc, b); b = a.fx; c = 0; for (f = b.length; c < f; c++) if (a = this.pm(b[c].name)) a.Nb = b[c].active, this.Ka[a.index] = b[c].params; this.td(); this.c.sort(h); this.Yf = !0 } ; Zb = b } )(); (function() { function e(a, c) { var b, d = a.length; switch (d) { case 0: return !0; case 1: return a[0] === c[0]; case 2: return a[0] === c[0] && a[1] === c[1]; default: for (b = 0; b < d; b++) if (a[b] !== c[b]) return !1; return !0 } } function h(a, c) { return a.index - c.index } function b(a) { var c, b, d, f; 2 === a.length ? a[0].index > a[1].index && (c = a[0], a[0] = a[1], a[1] = c) : 2 < a.length && a.sort(h); a.length >= B.length && (B.length = a.length + 1); B[a.length] || (B[a.length] = []); f = B[a.length]; c = 0; for (b = f.length; c < b; c++) if (d = f[c], e(a, d)) return d; f.push(a); return a } function l(a, c) { this.b = a; this.ns = {}; this.Op = {}; this.zm = !1; this.jq = new ea; this.Yl = []; this.Jl = []; this.name = c[0]; var b = c[1]; this.Pe = []; var d, f; d = 0; for (f = b.length; d < f; d++) this.lq(b[d], null, this.Pe) } function r(a) { this.type = a; this.c = []; this.L = []; this.P = !0 } function p(a, c, b) { this.sheet = a; this.parent = c; this.b = a.b; this.ma = []; this.cf = []; this.hq = this.nl = this.ao = this.Em = this.group = this.Tn = !1; this.cb = []; this.Rc = []; this.$c = []; this.Eh = ""; this.tg = this.Em = this.group = !1; this.zj = null; b[1] && (this.Eh = b[1][1].toLowerCase(), this.group = !0, this.Em = !!b[1][0], this.zj = [], this.tg = this.Em, this.b.eg.push(this), this.b.Fh[this.Eh] = this); this.Nc = b[2]; this.aa = b[4]; this.group || (this.b.np[this.aa.toString()] = this); var d = b[5]; a = 0; for (c = d.length; a < c; a++) { var f = new $b(this,d[a]); f.index = a; this.cb.push(f); this.gp(f.type) } d = b[6]; a = 0; for (c = d.length; a < c; a++) f = new ac(this,d[a]), f.index = a, this.Rc.push(f); if (8 === b.length) for (b = b[7], a = 0, c = b.length; a < c; a++) this.sheet.lq(b[a], this, this.$c); this.lk = !1; this.cb.length && (this.lk = null == this.cb[0].type && this.cb[0].Cb == E.prototype.d.to) } function m(a, c) { var b, d, f; if (a && (-1 === c.indexOf(a) && c.push(a), a.Sb)) for (b = 0, d = a.wc.length; b < d; b++) f = a.wc[b], a !== f && -1 === c.indexOf(f) && c.push(f) } function a(a, c) { this.Fc = a; this.sheet = a.sheet; this.b = a.b; this.O = []; this.Pa = []; this.wa = {}; this.index = -1; this.mh = !1; this.Cb = this.b.Ae(c[1]); this.trigger = 0 < c[3]; this.Np = 2 === c[3]; this.Fd = c[4]; this.dk = c[5]; this.ix = c[6]; this.aa = c[7]; this.b.Je[this.aa.toString()] = this; -1 === c[0] ? (this.type = null, this.bb = this.Hn, this.kf = null, this.gd = -1) : (this.type = this.b.r[c[0]], this.bb = this.ix ? this.jy : this.Gn, c[2] ? (this.kf = this.type.Wj(c[2]), this.gd = this.type.nm(c[2])) : (this.kf = null, this.gd = -1), this.Fc.parent && this.Fc.parent.bl()); this.Np && (this.bb = this.ky); if (10 === c.length) { var b, d, f = c[9]; b = 0; for (d = f.length; b < d; b++) { var k = new bc(this,f[b]); this.O.push(k) } this.Pa.length = f.length } } function c(a, c) { this.Fc = a; this.sheet = a.sheet; this.b = a.b; this.O = []; this.Pa = []; this.wa = {}; this.index = -1; this.mh = !1; this.Cb = this.b.Ae(c[1]); -1 === c[0] ? (this.type = null, this.bb = this.Hn, this.kf = null, this.gd = -1) : (this.type = this.b.r[c[0]], this.bb = this.Gn, c[2] ? (this.kf = this.type.Wj(c[2]), this.gd = this.type.nm(c[2])) : (this.kf = null, this.gd = -1)); this.aa = c[3]; this.b.De[this.aa.toString()] = this; if (6 === c.length) { var b, d, f = c[5]; b = 0; for (d = f.length; b < d; b++) { var k = new bc(this,f[b]); this.O.push(k) } this.Pa.length = f.length } } function f() { t++; J.length === t && J.push(new cc); return J[t] } function d(a, c) { this.Zc = a; this.Fc = a.Fc; this.sheet = a.sheet; this.b = a.b; this.type = c[0]; this.Ad = null; this.te = 0; this.get = null; this.wp = 0; this.jb = null; this.key = 0; this.object = null; this.index = 0; this.Xi = this.Vf = this.Xi = this.Vf = this.Sp = this.tf = this.Yi = null; this.cd = !1; var b, d, f; switch (c[0]) { case 0: case 7: this.Ad = new dc(this,c[1]); this.te = 0; this.get = this.Dw; break; case 1: this.Ad = new dc(this,c[1]); this.te = 0; this.get = this.Ew; break; case 5: this.Ad = new dc(this,c[1]); this.te = 0; this.get = this.Iw; break; case 3: case 8: this.wp = c[1]; this.get = this.Bw; break; case 6: this.jb = this.b.Rm[c[1]]; this.get = this.Jw; break; case 9: this.key = c[1]; this.get = this.Hw; break; case 4: this.object = this.b.r[c[1]]; this.get = this.Kw; this.Fc.gp(this.object); this.Zc instanceof ac ? this.Fc.bl() : this.Fc.parent && this.Fc.parent.bl(); break; case 10: this.index = c[1]; a.type && a.type.I ? (this.get = this.Fw, this.cd = !0) : this.get = this.Gw; break; case 11: this.Yi = c[1]; this.tf = null; this.get = this.Cw; break; case 2: case 12: this.Sp = c[1]; this.get = this.Aw; break; case 13: for (this.get = this.Lw, this.Vf = [], this.Xi = [], b = 1, d = c.length; b < d; b++) f = new bc(this.Zc,c[b]), this.Vf.push(f), this.Xi.push(0) } } function g(a, c, b) { this.sheet = a; this.parent = c; this.b = a.b; this.ma = []; this.name = b[1]; this.Zi = b[2]; this.Dm = b[3]; this.Uh = !!b[4]; this.kk = !!b[5]; this.aa = b[6]; this.b.gh[this.aa.toString()] = this; this.data = this.Dm; this.parent ? (this.Kf = this.Uh || this.kk ? -1 : this.b.xy++, this.b.Ju.push(this)) : (this.Kf = -1, this.b.Iu.push(this)) } function w(a, c, b) { this.sheet = a; this.parent = c; this.b = a.b; this.ma = []; this.Hh = null; this.Sw = b[1]; this.Nb = !0 } function k() { this.ds = []; this.reset(null) } var B = []; l.prototype.toString = function() { return this.name } ; l.prototype.lq = function(a, c, b) { switch (a[0]) { case 0: a = new ec(this,c,a); if (a.Nc) for (b.push(a), b = 0, c = a.cb.length; b < c; b++) a.cb[b].trigger && this.mq(a, b); else a.wq() ? this.mq(a, 0) : b.push(a); break; case 1: a = new Wb(this,c,a); b.push(a); break; case 2: a = new fc(this,c,a), b.push(a) } } ; l.prototype.Ua = function() { var a, c; a = 0; for (c = this.Pe.length; a < c; a++) this.Pe[a].Ua(a < c - 1 && this.Pe[a + 1].lk) } ; l.prototype.io = function() { x(this.Yl); x(this.Jl); this.ep(this); x(this.Jl) } ; l.prototype.ep = function(a) { var c, b, d, f, k = a.Yl, g = a.Jl, e = this.jq.bd(); c = 0; for (b = e.length; c < b; ++c) d = e[c], f = d.Hh, !d.Nb || a === f || -1 < g.indexOf(f) || (g.push(f), f.ep(a), k.push(f)) } ; l.prototype.bb = function(a) { this.b.xA || (this.zm = !0, a || (this.b.Km = !0)); var c, b; c = 0; for (b = this.Pe.length; c < b; c++) { var d = this.Pe[c]; d.bb(); this.b.Sl(d.ma); this.b.Se && this.b.Mb() } a || (this.b.Km = !1) } ; l.prototype.mq = function(a, c) { a.Nc || this.b.ql.push(a); var b, d, f = a.cb[c], k; f.type ? k = f.type.name : k = "system"; var g = (b = f.Np) ? this.Op : this.ns; g[k] || (g[k] = []); k = g[k]; g = f.Cb; if (b) { if (f.O.length && (f = f.O[0], 1 === f.type && 2 === f.Ad.type)) { f = f.Ad.value.toLowerCase(); b = 0; for (d = k.length; b < d; b++) if (k[b].method == g) { b = k[b].wh; b[f] ? b[f].push([a, c]) : b[f] = [[a, c]]; return } b = {}; b[f] = [[a, c]]; k.push({ method: g, wh: b }) } } else { b = 0; for (d = k.length; b < d; b++) if (k[b].method == g) { k[b].wh.push([a, c]); return } K && g === K.prototype.d.bg ? k.unshift({ method: g, wh: [[a, c]] }) : k.push({ method: g, wh: [[a, c]] }) } } ; Lb = l; r.prototype.ym = function() { return this.P ? this.type.c.length : this.c.length } ; r.prototype.xc = function() { return this.P ? this.type.c : this.c } ; r.prototype.vi = function(a) { a && (a.b.Ta().Xa.Nc ? (this.P && (x(this.c), Aa(this.L, a.type.c), this.P = !1), a = this.L.indexOf(a), -1 !== a && (this.c.push(this.L[a]), this.L.splice(a, 1))) : (this.P = !1, x(this.c), this.c[0] = a)) } ; tb = r; window._c2hh_ = "9B8E65E8653E4C80672958512A488E29C3DF5E90"; p.prototype.Ua = function(a) { var c, d = this.parent; if (this.group) for (this.nl = !0; d; ) { if (!d.group) { this.nl = !1; break } d = d.parent } this.ao = !this.wq() && (!this.parent || this.parent.group && this.parent.nl); this.hq = !!a; this.cf = this.ma.slice(0); for (d = this.parent; d; ) { a = 0; for (c = d.ma.length; a < c; a++) this.Hu(d.ma[a]); d = d.parent } this.ma = b(this.ma); this.cf = b(this.cf); a = 0; for (c = this.cb.length; a < c; a++) this.cb[a].Ua(); a = 0; for (c = this.Rc.length; a < c; a++) this.Rc[a].Ua(); a = 0; for (c = this.$c.length; a < c; a++) this.$c[a].Ua(a < c - 1 && this.$c[a + 1].lk) } ; p.prototype.oy = function(a) { if (this.tg !== !!a) { this.tg = !!a; var c; a = 0; for (c = this.zj.length; a < c; ++a) this.zj[a].ts(); 0 < c && this.b.la.sf && this.b.la.sf.io() } } ; p.prototype.gp = function(a) { m(a, this.ma) } ; p.prototype.Hu = function(a) { m(a, this.cf) } ; p.prototype.bl = function() { this.Tn = !0; this.parent && this.parent.bl() } ; p.prototype.wq = function() { return this.cb.length ? this.cb[0].trigger : !1 } ; p.prototype.bb = function() { var a, c, b = !1, d = this.b, f = this.b.Ta(); f.Xa = this; var k = this.cb; this.lk || (f.cm = !1); if (this.Nc) { 0 === k.length && (b = !0); f.Wa = 0; for (a = k.length; f.Wa < a; f.Wa++) c = k[f.Wa], c.trigger || (c = c.bb()) && (b = !0); (f.Ff = b) && this.Xk() } else { f.Wa = 0; for (a = k.length; f.Wa < a; f.Wa++) if (c = k[f.Wa].bb(), !c) { f.Ff = !1; this.ao && d.Se && d.Mb(); return } f.Ff = !0; this.Xk() } this.Cv(f) } ; p.prototype.Cv = function(a) { a.Ff && this.hq && (a.cm = !0); this.ao && this.b.Se && this.b.Mb() } ; p.prototype.hy = function(a) { this.b.Ta().Xa = this; this.cb[a].bb() && (this.Xk(), this.b.Ta().Ff = !0) } ; p.prototype.Xk = function() { var a = this.b.Ta(), c; a.mc = 0; for (c = this.Rc.length; a.mc < c; a.mc++) if (this.Rc[a.mc].bb()) return; this.Lr() } ; p.prototype.ey = function() { var a = this.b.Ta(), c; for (c = this.Rc.length; a.mc < c; a.mc++) if (this.Rc[a.mc].bb()) return; this.Lr() } ; p.prototype.Lr = function() { if (this.$c.length) { var a, c, b, d, f = this.$c.length - 1; this.b.Tk(this); if (this.Tn) for (a = 0, c = this.$c.length; a < c; a++) b = this.$c[a], (d = !this.nl || !this.group && a < f) && this.b.Sg(b.ma), b.bb(), d ? this.b.me(b.ma) : this.b.Sl(b.ma); else for (a = 0, c = this.$c.length; a < c; a++) this.$c[a].bb(); this.b.Pk() } } ; p.prototype.iy = function() { var a = this.b.Ta(); a.Xa = this; var c = !1, b; a.Wa = 0; for (b = this.cb.length; a.Wa < b; a.Wa++) if (this.cb[a.Wa].bb()) c = !0; else if (!this.Nc) return !1; return this.Nc ? c : !0 } ; p.prototype.Ug = function() { this.b.uf++; var a = this.b.Ta().Wa , c = this.b.Tk(this); if (!this.Nc) for (c.Wa = a + 1, a = this.cb.length; c.Wa < a; c.Wa++) if (!this.cb[c.Wa].bb()) { this.b.Pk(); return } this.Xk(); this.b.Pk() } ; p.prototype.$w = function(a) { var c = a.index; if (0 === c) return !0; for (--c; 0 <= c; --c) if (this.cb[c].type === a.type) return !1; return !0 } ; ec = p; a.prototype.Ua = function() { var a, c, b; a = 0; for (c = this.O.length; a < c; a++) b = this.O[a], b.Ua(), b.cd && (this.mh = !0) } ; a.prototype.ky = function() { return !0 } ; a.prototype.Hn = function() { var a, c; a = 0; for (c = this.O.length; a < c; a++) this.Pa[a] = this.O[a].get(); return Ua(this.Cb.apply(this.b.Ld, this.Pa), this.dk) } ; a.prototype.jy = function() { var a, c; a = 0; for (c = this.O.length; a < c; a++) this.Pa[a] = this.O[a].get(); a = this.Cb.apply(this.kf ? this.kf : this.type, this.Pa); this.type.ed(); return a } ; a.prototype.Gn = function() { var a, c, b, d, f, k, g, e, h = this.type, m = h.M(), l = this.Fc.Nc && !this.trigger; c = 0; var r = h.Sb, p = h.I, t = h.Yd, B = this.gd, J = -1 < B, w = this.mh, N = this.O, C = this.Pa, O = this.dk, W = this.Cb, L; if (w) for (c = 0, f = N.length; c < f; ++c) k = N[c], k.cd || (C[c] = k.get(0)); else for (c = 0, f = N.length; c < f; ++c) C[c] = N[c].get(0); if (m.P) { x(m.c); x(m.L); L = h.c; a = 0; for (d = L.length; a < d; ++a) { e = L[a]; if (w) for (c = 0, f = N.length; c < f; ++c) k = N[c], k.cd && (C[c] = k.get(a)); J ? (c = 0, p && (c = e.type.pg[t]), c = W.apply(e.C[B + c], C)) : c = W.apply(e, C); (g = Ua(c, O)) ? m.c.push(e) : l && m.L.push(e) } h.finish && h.finish(!0); m.P = !1; h.ed(); return m.ym() } b = 0; L = (g = l && !this.Fc.$w(this)) ? m.L : m.c; var H = !1; a = 0; for (d = L.length; a < d; ++a) { e = L[a]; if (w) for (c = 0, f = N.length; c < f; ++c) k = N[c], k.cd && (C[c] = k.get(a)); J ? (c = 0, p && (c = e.type.pg[t]), c = W.apply(e.C[B + c], C)) : c = W.apply(e, C); if (Ua(c, O)) if (H = !0, g) { if (m.c.push(e), r) for (c = 0, f = e.siblings.length; c < f; c++) k = e.siblings[c], k.type.M().c.push(k) } else { L[b] = e; if (r) for (c = 0, f = e.siblings.length; c < f; c++) k = e.siblings[c], k.type.M().c[b] = k; b++ } else if (g) { L[b] = e; if (r) for (c = 0, f = e.siblings.length; c < f; c++) k = e.siblings[c], k.type.M().L[b] = k; b++ } else if (l && (m.L.push(e), r)) for (c = 0, f = e.siblings.length; c < f; c++) k = e.siblings[c], k.type.M().L.push(k) } za(L, b); if (r) for (p = h.wc, a = 0, d = p.length; a < d; a++) e = p[a].M(), g ? za(e.L, b) : za(e.c, b); b = H; if (g && !H) for (a = 0, d = m.c.length; a < d; a++) { e = m.c[a]; if (w) for (c = 0, f = N.length; c < f; c++) k = N[c], k.cd && (C[c] = k.get(a)); c = J ? W.apply(e.C[B], C) : W.apply(e, C); if (Ua(c, O)) { H = !0; break } } h.finish && h.finish(b || l); return l ? H : m.ym() } ; $b = a; c.prototype.Ua = function() { var a, c, b; a = 0; for (c = this.O.length; a < c; a++) b = this.O[a], b.Ua(), b.cd && (this.mh = !0) } ; c.prototype.Hn = function() { var a = this.b, c, b, d = this.O, f = this.Pa; c = 0; for (b = d.length; c < b; ++c) f[c] = d[c].get(); return this.Cb.apply(a.Ld, f) } ; c.prototype.Gn = function() { var a = this.type, c = this.gd, b = a.Yd, d = this.mh, f = this.O, k = this.Pa, g = this.Cb, e = a.M().xc(), a = a.I, h = -1 < c, m, l, r, p, t, B; if (d) for (l = 0, p = f.length; l < p; ++l) t = f[l], t.cd || (k[l] = t.get(0)); else for (l = 0, p = f.length; l < p; ++l) k[l] = f[l].get(0); m = 0; for (r = e.length; m < r; ++m) { B = e[m]; if (d) for (l = 0, p = f.length; l < p; ++l) t = f[l], t.cd && (k[l] = t.get(m)); h ? (l = 0, a && (l = B.type.pg[b]), g.apply(B.C[c + l], k)) : g.apply(B, k) } return !1 } ; ac = c; var J = [] , t = -1; d.prototype.Ua = function() { var a, c; if (11 === this.type) this.tf = this.b.aq(this.Yi, this.Fc.parent); else if (13 === this.type) for (a = 0, c = this.Vf.length; a < c; a++) this.Vf[a].Ua(); this.Ad && this.Ad.Ua() } ; d.prototype.ux = function(a) { this.cd || !a || a.Z.el || (this.cd = !0) } ; d.prototype.Tr = function() { this.cd = !0 } ; d.prototype.Dw = function(a) { this.te = a || 0; a = f(); this.Ad.get(a); t--; return a.data } ; d.prototype.Ew = function(a) { this.te = a || 0; a = f(); this.Ad.get(a); t--; return ka(a.data) ? a.data : "" } ; d.prototype.Kw = function() { return this.object } ; d.prototype.Bw = function() { return this.wp } ; d.prototype.Iw = function(a) { this.te = a || 0; a = f(); this.Ad.get(a); t--; return a.sb() ? this.b.Cd(a.data) : this.b.rg(a.data) } ; d.prototype.Jw = function() { return this.jb } ; d.prototype.Hw = function() { return this.key } ; d.prototype.Gw = function() { return this.index } ; d.prototype.Fw = function(a) { a = a || 0; var c = this.Zc.type , b = null , b = c.M() , d = b.xc(); if (d.length) b = d[a % d.length].type; else if (b.L.length) b = b.L[a % b.L.length].type; else if (c.c.length) b = c.c[a % c.c.length].type; else return 0; return this.index + b.Oj[c.Yd] } ; d.prototype.Cw = function() { return this.tf } ; d.prototype.Aw = function() { return this.Sp } ; d.prototype.Lw = function() { var a, c; a = 0; for (c = this.Vf.length; a < c; a++) this.Xi[a] = this.Vf[a].get(); return this.Xi } ; bc = d; g.prototype.Ua = function() { this.ma = b(this.ma) } ; g.prototype.qe = function(a) { var c = this.b.Yp(); this.parent && !this.Uh && c ? (this.Kf >= c.length && (c.length = this.Kf + 1), c[this.Kf] = a) : this.data = a } ; g.prototype.wf = function() { var a = this.b.Yp(); return !this.parent || this.Uh || !a || this.kk ? this.data : this.Kf >= a.length || "undefined" === typeof a[this.Kf] ? this.Dm : a[this.Kf] } ; g.prototype.bb = function() { !this.parent || this.Uh || this.kk || this.qe(this.Dm) } ; Wb = g; w.prototype.toString = function() { return "include:" + this.Hh.toString() } ; w.prototype.Ua = function() { this.Hh = this.b.em[this.Sw]; this.sheet.jq.add(this); this.ma = b(this.ma); for (var a = this.parent; a; ) a.group && a.zj.push(this), a = a.parent; this.ts() } ; w.prototype.bb = function() { this.parent && this.b.yi(this.b.r); this.Hh.zm || this.Hh.bb(!0); this.parent && this.b.me(this.b.r) } ; w.prototype.ts = function() { for (var a = this.parent; a; ) { if (a.group && !a.tg) { this.Nb = !1; return } a = a.parent } this.Nb = !0 } ; fc = w; k.prototype.reset = function(a) { this.Xa = a; this.mc = this.Wa = 0; x(this.ds); this.cm = this.Ff = !1 } ; k.prototype.tq = function() { return this.Xa.Tn ? !0 : this.Wa < this.Xa.cb.length - 1 ? !!this.Xa.ma.length : !1 } ; Vb = k } )(); (function() { function e(b, a) { this.Zc = b; this.b = b.b; this.type = a[0]; this.get = [this.Uv, this.Qv, this.cw, this.fw, this.Fv, this.dw, this.Yv, this.Nv, this.Xv, this.bw, this.Gv, this.aw, this.Ov, this.Zv, this.Vv, this.Wv, this.Rv, this.Sv, this.Mv, this.ew, this.$v, this.Tv, this.Lv, this.Pv][this.type]; var c = null; this.ge = this.O = this.Pa = this.Cb = this.ll = this.second = this.first = this.value = null; this.gd = -1; this.kd = null; this.xs = -1; this.tf = this.Yi = null; this.Vg = !1; switch (this.type) { case 0: case 1: case 2: this.value = a[1]; break; case 3: this.first = new dc(b,a[1]); break; case 18: this.first = new dc(b,a[1]); this.second = new dc(b,a[2]); this.ll = new dc(b,a[3]); break; case 19: this.Cb = this.b.Ae(a[1]); this.Cb !== E.prototype.A.random && this.Cb !== E.prototype.A.Su || this.Zc.Tr(); this.Pa = []; this.O = []; 3 === a.length ? (c = a[2], this.Pa.length = c.length + 1) : this.Pa.length = 1; break; case 20: this.ge = this.b.r[a[1]]; this.gd = -1; this.Cb = this.b.Ae(a[2]); this.Vg = a[3]; rc && this.Cb === rc.prototype.A.ro && this.Zc.Tr(); a[4] ? this.kd = new dc(b,a[4]) : this.kd = null; this.Pa = []; this.O = []; 6 === a.length ? (c = a[5], this.Pa.length = c.length + 1) : this.Pa.length = 1; break; case 21: this.ge = this.b.r[a[1]]; this.Vg = a[2]; a[3] ? this.kd = new dc(b,a[3]) : this.kd = null; this.xs = a[4]; break; case 22: this.ge = this.b.r[a[1]]; this.ge.Wj(a[2]); this.gd = this.ge.nm(a[2]); this.Cb = this.b.Ae(a[3]); this.Vg = a[4]; a[5] ? this.kd = new dc(b,a[5]) : this.kd = null; this.Pa = []; this.O = []; 7 === a.length ? (c = a[6], this.Pa.length = c.length + 1) : this.Pa.length = 1; break; case 23: this.Yi = a[1], this.tf = null } this.Zc.ux(this.ge); 4 <= this.type && 17 >= this.type && (this.first = new dc(b,a[1]), this.second = new dc(b,a[2])); if (c) { var f, d; f = 0; for (d = c.length; f < d; f++) this.O.push(new dc(b,c[f])) } } function h() { ++p; r.length === p && r.push(new cc); return r[p] } function b(b, a, c) { var f, d; f = 0; for (d = b.length; f < d; ++f) b[f].get(c), a[f + 1] = c.data } function l(b, a) { this.type = b || gc.$f; this.data = a || 0; this.Mf = null; this.type == gc.$f && (this.data = Math.floor(this.data)) } e.prototype.Ua = function() { 23 === this.type && (this.tf = this.Zc.b.aq(this.Yi, this.Zc.Fc.parent)); this.first && this.first.Ua(); this.second && this.second.Ua(); this.ll && this.ll.Ua(); this.kd && this.kd.Ua(); if (this.O) { var b, a; b = 0; for (a = this.O.length; b < a; b++) this.O[b].Ua() } } ; var r = [] , p = -1; e.prototype.ew = function(e) { var a = this.O , c = this.Pa; c[0] = e; e = h(); b(a, c, e); --p; this.Cb.apply(this.b.Ld, c) } ; e.prototype.$v = function(e) { var a = this.ge , c = this.Pa , f = this.O , d = this.kd , g = this.Cb , l = this.Zc.te , k = a.M() , r = k.xc(); if (!r.length) if (k.L.length) r = k.L; else { this.Vg ? e.Tb("") : e.V(0); return } c[0] = e; e.Mf = a; e = h(); b(f, c, e); d && (d.get(e), e.sb() && (l = e.data, r = a.c)); --p; a = r.length; if (l >= a || l <= -a) l %= a; 0 > l && (l += a); g.apply(r[l], c) } ; e.prototype.Lv = function(e) { var a = this.ge , c = this.Pa , f = this.O , d = this.kd , g = this.gd , l = this.Cb , k = this.Zc.te , r = a.M() , J = r.xc(); if (!J.length) if (r.L.length) J = r.L; else { this.Vg ? e.Tb("") : e.V(0); return } c[0] = e; e.Mf = a; e = h(); b(f, c, e); d && (d.get(e), e.sb() && (k = e.data, J = a.c)); --p; f = J.length; if (k >= f || k <= -f) k %= f; 0 > k && (k += f); k = J[k]; J = 0; a.I && (J = k.type.pg[a.Yd]); l.apply(k.C[g + J], c) } ; e.prototype.Tv = function(b) { var a = this.kd , c = this.ge , f = this.xs , d = this.Zc.te , g = c.M() , e = g.xc(); if (!e.length) if (g.L.length) e = g.L; else { this.Vg ? b.Tb("") : b.V(0); return } if (a) { g = h(); a.get(g); if (g.sb()) { d = g.data; e = c.c; 0 !== e.length && (d %= e.length, 0 > d && (d += e.length)); d = c.rm(d); c = d.gb[f]; ka(c) ? b.Tb(c) : b.n(c); --p; return } --p } a = e.length; if (d >= a || d <= -a) d %= a; 0 > d && (d += a); d = e[d]; e = 0; c.I && (e = d.type.Oj[c.Yd]); c = d.gb[f + e]; ka(c) ? b.Tb(c) : b.n(c) } ; e.prototype.Uv = function(b) { b.type = gc.$f; b.data = this.value } ; e.prototype.Qv = function(b) { b.type = gc.Zf; b.data = this.value } ; e.prototype.cw = function(b) { b.type = gc.String; b.data = this.value } ; e.prototype.fw = function(b) { this.first.get(b); b.sb() && (b.data = -b.data) } ; e.prototype.Fv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.sb() && a.sb() && (b.data += a.data, a.xg() && b.Ig()); --p } ; e.prototype.dw = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.sb() && a.sb() && (b.data -= a.data, a.xg() && b.Ig()); --p } ; e.prototype.Yv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.sb() && a.sb() && (b.data *= a.data, a.xg() && b.Ig()); --p } ; e.prototype.Nv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.sb() && a.sb() && (b.data /= a.data, b.Ig()); --p } ; e.prototype.Xv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.sb() && a.sb() && (b.data %= a.data, a.xg() && b.Ig()); --p } ; e.prototype.bw = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.sb() && a.sb() && (b.data = Math.pow(b.data, a.data), a.xg() && b.Ig()); --p } ; e.prototype.Gv = function(b) { this.first.get(b); var a = h(); this.second.get(a); a.Ag() || b.Ag() ? this.Iv(b, a) : this.Hv(b, a); --p } ; e.prototype.Iv = function(b, a) { b.Ag() && a.Ag() ? this.Kv(b, a) : this.Jv(b, a) } ; e.prototype.Kv = function(b, a) { b.data += a.data } ; e.prototype.Jv = function(b, a) { b.Ag() ? b.data += (Math.round(1E10 * a.data) / 1E10).toString() : b.Tb(b.data.toString() + a.data) } ; e.prototype.Hv = function(b, a) { b.V(b.data && a.data ? 1 : 0) } ; e.prototype.aw = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.sb() && a.sb() && (b.data || a.data ? b.V(1) : b.V(0)); --p } ; e.prototype.Mv = function(b) { this.first.get(b); b.data ? this.second.get(b) : this.ll.get(b) } ; e.prototype.Ov = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.V(b.data === a.data ? 1 : 0); --p } ; e.prototype.Zv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.V(b.data !== a.data ? 1 : 0); --p } ; e.prototype.Vv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.V(b.data < a.data ? 1 : 0); --p } ; e.prototype.Wv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.V(b.data <= a.data ? 1 : 0); --p } ; e.prototype.Rv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.V(b.data > a.data ? 1 : 0); --p } ; e.prototype.Sv = function(b) { this.first.get(b); var a = h(); this.second.get(a); b.V(b.data >= a.data ? 1 : 0); --p } ; e.prototype.Pv = function(b) { var a = this.tf.wf(); ja(a) ? b.n(a) : b.Tb(a) } ; dc = e; l.prototype.xg = function() { return this.type === gc.Zf } ; l.prototype.sb = function() { return this.type === gc.$f || this.type === gc.Zf } ; l.prototype.Ag = function() { return this.type === gc.String } ; l.prototype.Ig = function() { this.xg() || (this.Ag() && (this.data = parseFloat(this.data)), this.type = gc.Zf) } ; l.prototype.V = function(b) { this.type = gc.$f; this.data = Math.floor(b) } ; l.prototype.n = function(b) { this.type = gc.Zf; this.data = b } ; l.prototype.Tb = function(b) { this.type = gc.String; this.data = b } ; l.prototype.Fi = function(b) { ja(b) ? (this.type = gc.Zf, this.data = b) : ka(b) ? (this.type = gc.String, this.data = b.toString()) : (this.type = gc.$f, this.data = 0) } ; cc = l; gc = { $f: 0, Zf: 1, String: 2 } } )(); function E(e) { this.b = e; this.uc = [] } E.prototype.Jb = function() { var e = {}, h, b, l, r, p, m, a, c; e.waits = []; var f = e.waits, d; h = 0; for (b = this.uc.length; h < b; h++) { m = this.uc[h]; d = { t: m.time, st: m.$r, s: m.Sn, ev: m.ng.aa, sm: [], sols: {} }; m.ng.Rc[m.mc] && (d.act = m.ng.Rc[m.mc].aa); l = 0; for (r = m.ma.length; l < r; l++) d.sm.push(m.ma[l].aa); for (p in m.gc) if (m.gc.hasOwnProperty(p)) { a = this.b.r[parseInt(p, 10)]; c = { sa: m.gc[p].Yk, insts: [] }; l = 0; for (r = m.gc[p].$d.length; l < r; l++) c.insts.push(m.gc[p].$d[l].uid); d.sols[a.aa.toString()] = c } f.push(d) } return e } ; E.prototype.fc = function(e) { e = e.waits; var h, b, l, r, p, m, a, c, f, d, g; x(this.uc); h = 0; for (b = e.length; h < b; h++) if (m = e[h], c = this.b.np[m.ev.toString()]) { f = -1; l = 0; for (r = c.Rc.length; l < r; l++) if (c.Rc[l].aa === m.act) { f = l; break } if (-1 !== f) { a = { gc: {}, ma: [], Zl: !1 }; a.time = m.t; a.$r = m.st || ""; a.Sn = !!m.s; a.ng = c; a.mc = f; l = 0; for (r = m.sm.length; l < r; l++) (c = this.b.Zj(m.sm[l])) && a.ma.push(c); for (p in m.sols) if (m.sols.hasOwnProperty(p) && (c = this.b.Zj(parseInt(p, 10)))) { f = m.sols[p]; d = { Yk: f.sa, $d: [] }; l = 0; for (r = f.insts.length; l < r; l++) (g = this.b.Bh(f.insts[l])) && d.$d.push(g); a.gc[c.index.toString()] = d } this.uc.push(a) } } } ; (function() { function e() {} function h() {} function b() {} var l = E.prototype; e.prototype.Vs = function() { return !0 } ; e.prototype.Ho = function() { return !0 } ; e.prototype.Mt = function() { return !0 } ; e.prototype.Js = function(a, b, d) { return hc(a, b, d) } ; e.prototype.pt = function(a) { return a ? a.visible : !1 } ; e.prototype.Ws = function(a, b, d) { var g = this.b.Ta() , e = g.Xa , g = g.tq(); a = this.b.Gr(a); if (d < b) if (g) for (; b >= d && !a.Ra; --b) this.b.Sg(e.ma), a.index = b, e.Ug(), this.b.me(e.ma); else for (; b >= d && !a.Ra; --b) a.index = b, e.Ug(); else if (g) for (; b <= d && !a.Ra; ++b) this.b.Sg(e.ma), a.index = b, e.Ug(), this.b.me(e.ma); else for (; b <= d && !a.Ra; ++b) a.index = b, e.Ug(); this.b.Br(); return !1 } ; var r = [] , p = -1; e.prototype.Xs = function(a) { var b = a.M(); p++; r.length === p && r.push([]); var d = r[p]; Aa(d, b.xc()); var g = this.b.Ta(), e = g.Xa, k = g.tq(), g = this.b.Gr(), h, l, m, n, q, Q, y = a.Sb; if (k) for (k = 0, h = d.length; k < h && !g.Ra; k++) { this.b.Sg(e.ma); n = d[k]; b = a.M(); b.P = !1; x(b.c); b.c[0] = n; if (y) for (l = 0, m = n.siblings.length; l < m; l++) q = n.siblings[l], Q = q.type.M(), Q.P = !1, x(Q.c), Q.c[0] = q; g.index = k; e.Ug(); this.b.me(e.ma) } else for (b.P = !1, x(b.c), k = 0, h = d.length; k < h && !g.Ra; k++) { n = d[k]; b.c[0] = n; if (y) for (l = 0, m = n.siblings.length; l < m; l++) q = n.siblings[l], Q = q.type.M(), Q.P = !1, x(Q.c), Q.c[0] = q; g.index = k; e.Ug() } x(d); this.b.Br(); p--; return !1 } ; e.prototype.bu = function(a, b, d, g) { var e, k, h, l; if (a) { p++; r.length === p && r.push([]); var m = r[p] , n = a.M(); Aa(m, n.xc()); n.P && x(n.L); var q = this.b.Xj(); h = e = 0; for (k = m.length; e < k; e++) l = m[e], m[h] = l, b = q.O[1].get(e), g = q.O[3].get(e), hc(b, d, g) ? h++ : n.L.push(l); za(m, h); n.P = !1; Aa(n.c, m); x(m); p--; a.ed(); return !!n.c.length } } ; e.prototype.zu = function() { var a = this.b.Xj().wa; "undefined" === typeof a.TriggerOnce_lastTick && (a.TriggerOnce_lastTick = -1); var b = a.TriggerOnce_lastTick , d = this.b.bh; a.TriggerOnce_lastTick = d; return this.b.Qm || b !== d - 1 } ; e.prototype.Ps = function(a, b, d) { return hc(a.wf(), b, d) } ; e.prototype.it = function(a) { return (a = this.b.Fh[a.toLowerCase()]) && a.tg } ; e.prototype.au = function(a) { if (!a || !a.c.length) return !1; a.M().P = !0; a.ed(); return !0 } ; e.prototype.Ks = function(a, b, d) { return a >= b && a <= d } ; e.prototype.to = function() { var a = this.b.Ta(); return a.cm ? !1 : !a.Ff } ; e.prototype.zl = function() { return !0 } ; e.prototype.Dt = function() { return !0 } ; e.prototype.Al = function() { return !0 } ; e.prototype.No = function() { return !0 } ; e.prototype.Nt = function() { return !0 } ; e.prototype.fj = function() { return !0 } ; e.prototype.Cs = function(a, b, d) { return Pa(A(a), A(d)) <= A(b) } ; e.prototype.gt = function(a, b) { return Ra(A(a), A(b)) } ; e.prototype.et = function(a, b, d) { a = Ma(a); b = Ma(b); d = Ma(d); return Ra(d, b) ? Ra(a, b) && !Ra(a, d) : !(!Ra(a, b) && Ra(a, d)) } ; l.d = new e; h.prototype.Zs = function(a) { this.b.Vh || this.b.rh || (this.b.rh = a) } ; h.prototype.Ts = function(a, b, d, g) { if (b && a && (b = this.b.Bj(a, b, d, g))) { this.b.Lc++; var e; this.b.trigger(Object.getPrototypeOf(a.Z).d.ag, b); if (b.Sb) for (d = 0, g = b.siblings.length; d < g; d++) e = b.siblings[d], this.b.trigger(Object.getPrototypeOf(e.type.Z).d.ag, e); this.b.Lc--; a = a.M(); a.P = !1; x(a.c); a.c[0] = b; if (b.Sb) for (d = 0, g = b.siblings.length; d < g; d++) e = b.siblings[d], a = e.type.M(), a.P = !1, x(a.c), a.c[0] = e } } ; h.prototype.lu = function(a, b) { a && a.visible !== b && (a.visible = b, this.b.ka = !0) } ; h.prototype.qu = function(a, b) { 0 === a.Zi ? ja(b) ? a.qe(b) : a.qe(parseFloat(b)) : 1 === a.Zi && a.qe(b.toString()) } ; h.prototype.As = function(a, b) { 0 === a.Zi ? ja(b) ? a.qe(a.wf() + b) : a.qe(a.wf() + parseFloat(b)) : 1 === a.Zi && a.qe(a.wf() + b.toString()) } ; h.prototype.yu = function(a, b) { 0 === a.Zi && (ja(b) ? a.qe(a.wf() - b) : a.qe(a.wf() - parseFloat(b))) } ; var m = [] , a = []; h.prototype.Au = function(c) { if (!(0 > c)) { var b, d, g, e = this.b.Ta(), k; m.length ? k = m.pop() : k = { gc: {}, ma: [] }; k.Zl = !1; k.time = this.b.hb.X + c; k.$r = ""; k.Sn = !1; k.ng = e.Xa; k.mc = e.mc + 1; c = 0; for (b = this.b.r.length; c < b; c++) g = this.b.r[c], d = g.M(), d.P && -1 === e.Xa.ma.indexOf(g) || (k.ma.push(g), g = void 0, a.length ? g = a.pop() : g = { $d: [] }, g.Yk = !1, g.Yk = d.P, Aa(g.$d, d.c), k.gc[c.toString()] = g); this.uc.push(k); return !0 } } ; l.k = new h; b.prototype["int"] = function(a, b) { ka(b) ? (a.V(parseInt(b, 10)), isNaN(a.data) && (a.data = 0)) : a.V(b) } ; b.prototype["float"] = function(a, b) { ka(b) ? (a.n(parseFloat(b)), isNaN(a.data) && (a.data = 0)) : a.n(b) } ; b.prototype.random = function(a, b, d) { void 0 === d ? a.n(Math.random() * b) : a.n(Math.random() * (d - b) + b) } ; b.prototype.sqrt = function(a, b) { a.n(Math.sqrt(b)) } ; b.prototype.abs = function(a, b) { a.n(Math.abs(b)) } ; b.prototype.round = function(a, b) { a.V(Math.round(b)) } ; b.prototype.floor = function(a, b) { a.V(Math.floor(b)) } ; b.prototype.ceil = function(a, b) { a.V(Math.ceil(b)) } ; b.prototype.sin = function(a, b) { a.n(Math.sin(A(b))) } ; b.prototype.cos = function(a, b) { a.n(Math.cos(A(b))) } ; b.prototype.tan = function(a, b) { a.n(Math.tan(A(b))) } ; b.prototype.asin = function(a, b) { a.n(Ha(Math.asin(b))) } ; b.prototype.acos = function(a, b) { a.n(Ha(Math.acos(b))) } ; b.prototype.atan = function(a, b) { a.n(Ha(Math.atan(b))) } ; b.prototype.exp = function(a, b) { a.n(Math.exp(b)) } ; b.prototype.log10 = function(a, b) { a.n(Math.log(b) / Math.LN10) } ; b.prototype.max = function(a) { var b = arguments[1]; "number" !== typeof b && (b = 0); var d, g, e; d = 2; for (g = arguments.length; d < g; d++) e = arguments[d], "number" === typeof e && b < e && (b = e); a.n(b) } ; b.prototype.min = function(a) { var b = arguments[1]; "number" !== typeof b && (b = 0); var d, g, e; d = 2; for (g = arguments.length; d < g; d++) e = arguments[d], "number" === typeof e && b > e && (b = e); a.n(b) } ; b.prototype.Ne = function(a) { a.n(this.b.Ne) } ; b.prototype.Wf = function(a) { a.n(this.b.Wf) } ; b.prototype.time = function(a) { a.n(this.b.hb.X) } ; b.prototype.bh = function(a) { a.V(this.b.bh) } ; b.prototype.Ck = function(a) { a.V(this.b.Ck) } ; b.prototype.km = function(a) { a.V(this.b.km) } ; b.prototype.qx = function(a, b) { var d, g; if (this.b.gi.length) if (b) { for (g = this.b.hi; 0 <= g; --g) if (d = this.b.gi[g], d.name === b) { a.V(d.index); return } a.V(0) } else d = this.b.Zp(), a.V(d ? d.index : -1); else a.V(0) } ; b.prototype.bv = function(a, b, d, g, e) { a.n(Ta(b, d, g, e)) } ; b.prototype.g = function(a, b, d, g, e) { a.n(Ha(Na(b, d, g, e))) } ; b.prototype.mx = function(a, b, d, g) { a.n(Va(b, d, g)) } ; b.prototype.lx = function(a) { a.V(this.b.la.width) } ; b.prototype.jx = function(a) { a.V(this.b.la.height) } ; b.prototype.left = function(a, b, d) { a.Tb(ka(b) ? b.substr(0, d) : "") } ; b.prototype.right = function(a, b, d) { a.Tb(ka(b) ? b.substr(b.length - d) : "") } ; b.prototype.replace = function(a, b, d, g) { ka(b) && ka(d) && ka(g) ? a.Tb(b.replace(new RegExp(db(d),"gi"), g)) : a.Tb(ka(b) ? b : "") } ; b.prototype.trim = function(a, b) { a.Tb(ka(b) ? b.trim() : "") } ; b.prototype.kx = function(a) { this.b.la ? a.Tb(this.b.la.name) : a.Tb("") } ; b.prototype.Su = function(a) { var b = sa(Math.random() * (arguments.length - 1)); a.Fi(arguments[b + 1]) } ; b.prototype.Ul = function(a) { a.n(this.b.Ul / 1E3) } ; b.prototype.Oy = function(a, b) { var d = this.b.cq(b); a.n(d ? d.za : 0) } ; b.prototype.Ny = function(a, b) { var d = this.b.cq(b); a.n(d ? d.Ha : 0) } ; b.prototype.Hf = function(a) { a.n(this.b.Hf) } ; l.A = new b; l.gy = function() { var c, b, d, g, e, k, h = this.b.Ta(); c = 0; for (d = this.uc.length; c < d; c++) { g = this.uc[c]; if (-1 === g.time) { if (!g.Sn) continue } else if (g.time > this.b.hb.X) continue; h.Xa = g.ng; h.mc = g.mc; h.Wa = 0; for (b in g.gc) g.gc.hasOwnProperty(b) && (e = this.b.r[parseInt(b, 10)].M(), k = g.gc[b], e.P = k.Yk, Aa(e.c, k.$d), e = k, x(e.$d), a.push(e)); g.ng.ey(); this.b.Sl(g.ma); g.Zl = !0 } b = c = 0; for (d = this.uc.length; c < d; c++) g = this.uc[c], this.uc[b] = g, g.Zl ? (Ya(g.gc), x(g.ma), m.push(g)) : b++; za(this.uc, b) } } )(); (function() { sb = function(e, b) { var l = e[1] , r = e[3] , p = e[4] , m = e[5] , a = e[6] , c = e[7] , f = e[8]; b.d || (b.d = {}); b.k || (b.k = {}); b.A || (b.A = {}); var d = b.d , g = b.k , w = b.A; r && (d.Qs = function(a, b) { return hc(this.x, a, b) } , d.Rs = function(a, b) { return hc(this.y, a, b) } , d.kt = function() { var a = this.j; this.va(); var b = this.qa; return !(b.right < a.Ba || b.bottom < a.za || b.left > a.Ja || b.top > a.Ha) } , d.dz = function() { this.va(); var a = this.qa , b = this.b.la; return 0 > a.right || 0 > a.bottom || a.left > b.width || a.top > b.height } , d.pz = function(a, b, c) { var d = this.M() , f = d.xc(); if (!f.length) return !1; var g = f[0], e = g, h = Ta(g.x, g.y, b, c), l, r, m; l = 1; for (r = f.length; l < r; l++) if (g = f[l], m = Ta(g.x, g.y, b, c), 0 === a && m < h || 1 === a && m > h) h = m, e = g; d.vi(e); return !0 } , g.tu = function(a) { this.x !== a && (this.x = a, this.Aa()) } , g.uu = function(a) { this.y !== a && (this.y = a, this.Aa()) } , g.mu = function(a, b) { if (this.x !== a || this.y !== b) this.x = a, this.y = b, this.Aa() } , g.Kz = function(a, b) { var c = a.vw(this); if (c) { var d; c.Ah ? (d = c.Ah(b, !0), c = c.Ah(b, !1)) : (d = c.x, c = c.y); if (this.x !== d || this.y !== c) this.x = d, this.y = c, this.Aa() } } , g.jz = function(a) { 0 !== a && (this.x += Math.cos(this.g) * a, this.y += Math.sin(this.g) * a, this.Aa()) } , g.iz = function(a, b) { 0 !== b && (this.x += Math.cos(A(a)) * b, this.y += Math.sin(A(a)) * b, this.Aa()) } , w.Fl = function(a) { a.n(this.x) } , w.hj = function(a) { a.n(this.y) } , w.Ne = function(a) { a.n(this.b.om(this)) } ); p && (d.$y = function(a, b) { return hc(this.width, a, b) } , d.Yy = function(a, b) { return hc(this.height, a, b) } , g.su = function(a) { this.width !== a && (this.width = a, this.Aa()) } , g.Hz = function(a) { this.height !== a && (this.height = a, this.Aa()) } , g.Vo = function(a, b) { if (this.width !== a || this.height !== b) this.width = a, this.height = b, this.Aa() } , w.Bu = function(a) { a.n(this.width) } , w.ct = function(a) { a.n(this.height) } , w.Vy = function(a) { this.va(); a.n(this.qa.left) } , w.Xy = function(a) { this.va(); a.n(this.qa.top) } , w.Wy = function(a) { this.va(); a.n(this.qa.right) } , w.Uy = function(a) { this.va(); a.n(this.qa.bottom) } ); m && (d.Cs = function(a, b) { return Pa(this.g, A(b)) <= A(a) } , d.gt = function(a) { return Ra(this.g, A(a)) } , d.et = function(a, b) { var c = Ma(a) , d = Ma(b) , f = Ja(this.g); return Ra(d, c) ? Ra(f, c) && !Ra(f, d) : !(!Ra(f, c) && Ra(f, d)) } , g.Bz = function(a) { a = A(Ia(a)); isNaN(a) || this.g === a || (this.g = a, this.Aa()) } , g.xz = function(a) { 0 === a || isNaN(a) || (this.g += A(a), this.g = Ja(this.g), this.Aa()) } , g.yz = function(a) { 0 === a || isNaN(a) || (this.g -= A(a), this.g = Ja(this.g), this.Aa()) } , g.zz = function(a, b) { var c = Qa(this.g, A(b), A(a)); isNaN(c) || this.g === c || (this.g = c, this.Aa()) } , g.Az = function(a, b, c) { a = Qa(this.g, Math.atan2(c - this.y, b - this.x), A(a)); isNaN(a) || this.g === a || (this.g = a, this.Aa()) } , g.Lz = function(a, b) { var c = Math.atan2(b - this.y, a - this.x); isNaN(c) || this.g === c || (this.g = c, this.Aa()) } , w.Ty = function(a) { a.n(La(this.g)) } ); l || (d.Ms = function(a, b, c) { return hc(this.gb[a], b, c) } , d.ft = function(a) { return this.gb[a] } , d.qz = function(a, b) { var c = this.M() , d = c.xc(); if (!d.length) return !1; var f = d[0], g = f, e = f.gb[b], h, l, r; h = 1; for (l = d.length; h < l; h++) if (f = d[h], r = f.gb[b], 0 === a && r < e || 1 === a && r > e) e = r, g = f; c.vi(g); return !0 } , d.To = function(a) { var b, c, d, f, g; if (this.b.Xj().dk) { g = this.M(); if (g.P) for (g.P = !1, x(g.c), x(g.L), d = this.c, b = 0, c = d.length; b < c; b++) f = d[b], f.uid === a ? g.L.push(f) : g.c.push(f); else { d = b = 0; for (c = g.c.length; b < c; b++) f = g.c[b], g.c[d] = f, f.uid === a ? g.L.push(f) : d++; za(g.c, d) } this.ed(); return !!g.c.length } f = this.b.Bh(a); if (!f) return !1; g = this.M(); if (!g.P && -1 === g.c.indexOf(f)) return !1; if (this.I) for (a = f.type.La, b = 0, c = a.length; b < c; b++) { if (a[b] === this) return g.vi(f), this.ed(), !0 } else if (f.type === this) return g.vi(f), this.ed(), !0; return !1 } , d.ag = function() { return !0 } , d.Et = function() { return !0 } , g.ju = function(a, b) { var c = this.gb; ja(c[a]) ? c[a] = ja(b) ? b : parseFloat(b) : ka(c[a]) && (c[a] = ka(b) ? b : b.toString()) } , g.Sy = function(a, b) { var c = this.gb; ja(c[a]) ? c[a] = ja(b) ? c[a] + b : c[a] + parseFloat(b) : ka(c[a]) && (c[a] = ka(b) ? c[a] + b : c[a] + b.toString()) } , g.xu = function(a, b) { var c = this.gb; ja(c[a]) && (c[a] = ja(b) ? c[a] - b : c[a] - parseFloat(b)) } , g.hu = function(a, b) { this.gb[a] = b ? 1 : 0 } , g.Qz = function(a) { this.gb[a] = 1 - this.gb[a] } , g.so = function() { this.b.ef(this) } , g.tt || (g.tt = function(a) { var b, c; try { b = JSON.parse(a) } catch (d) { return } this.b.tk(this, b, !0); this.wd && this.wd(); if (this.C) for (a = 0, b = this.C.length; a < b; ++a) c = this.C[a], c.wd && c.wd() } ), w.az = function(a) { var b = a.Mf.c.length, c, d, f; c = 0; for (d = this.b.hd.length; c < d; c++) f = this.b.hd[c], a.Mf.I ? 0 <= f.type.La.indexOf(a.Mf) && b++ : f.type === a.Mf && b++; a.V(b) } , w.cu = function(a) { a.V(a.Mf.M().xc().length) } , w.Xo = function(a) { a.V(this.uid) } , w.bz = function(a) { a.V(this.Dh()) } , w.Fs || (w.Fs = function(a) { a.Tb(JSON.stringify(this.b.In(this, !0))) } )); a && (d.fz = function() { return this.visible } , g.ru = function(a) { !a !== !this.visible && (this.visible = !!a, this.b.ka = !0) } , d.Ns = function(a, b) { return hc(ob(100 * this.opacity), a, b) } , g.Uo = function(a) { a = a / 100; 0 > a ? a = 0 : 1 < a && (a = 1); a !== this.opacity && (this.opacity = a, this.b.ka = !0) } , w.Opacity = function(a) { a.n(ob(100 * this.opacity)) } ); c && (d.cz = function(a) { return a ? this.j === a : !1 } , d.rz = function(a) { var b = this.M() , c = b.xc(); if (!c.length) return !1; var d = c[0], f = d, g, e; g = 1; for (e = c.length; g < e; g++) if (d = c[g], 0 === a) { if (d.j.index > f.j.index || d.j.index === f.j.index && d.Wc() > f.Wc()) f = d } else if (d.j.index < f.j.index || d.j.index === f.j.index && d.Wc() < f.Wc()) f = d; b.vi(f); return !0 } , g.wo = function() { var a = this.j , b = a.c; b.length && b[b.length - 1] === this || (a.Tg(this, !1), a.oh(this, !1), this.b.ka = !0) } , g.kz = function() { var a = this.j , b = a.c; b.length && b[0] === this || (a.Tg(this, !1), a.Tx(this), this.b.ka = !0) } , g.lz = function(a) { a && a != this.j && (this.j.Tg(this, !0), this.j = a, a.oh(this, !0), this.b.ka = !0) } , g.Uz = function(a, b) { var c = 0 === a; if (b) { var d = b.bq(this); d && d.uid !== this.uid && (this.j.index !== d.j.index && (this.j.Tg(this, !0), this.j = d.j, d.j.oh(this, !0)), this.j.vx(this, d, c), this.b.ka = !0) } } , w.hz = function(a) { a.V(this.j.ir) } , w.gz = function(a) { a.Tb(this.j.name) } , w.Tz = function(a) { a.V(this.Wc()) } ); f && (g.Ez = function(a, b) { if (this.b.q) { var c = this.type.qm(b); if (!(0 > c)) { var d = 1 === a; this.Ce[c] !== d && (this.Ce[c] = d, this.td(), this.b.ka = !0) } } } , g.Fz = function(a, b, c) { if (this.b.q) { var d = this.type.qm(a); 0 > d || (a = this.type.K[d], d = this.Ka[d], b = Math.floor(b), 0 > b || b >= d.length || (1 === this.b.q.zw(a.Va, b) && (c /= 100), d[b] !== c && (d[b] = c, a.Nb && (this.b.ka = !0)))) } } ) } ; Mb = function() { this.Pl = this.Ml = !0; this.type.nj = !0; this.b.ka = !0; var e, b, l = this.Nl; e = 0; for (b = l.length; e < b; ++e) l[e](this); this.j.Qc && this.va() } ; Nb = function(e) { e && this.Nl.push(e) } ; Qb = function() { if (this.Ml) { var e = this.qa , b = this.Xb; e.set(this.x, this.y, this.x + this.width, this.y + this.height); e.offset(-this.ac * this.width, -this.cc * this.height); this.g ? (e.offset(-this.x, -this.y), b.Vr(e, this.g), b.offset(this.x, this.y), b.op(e)) : b.Gi(e); e.normalize(); this.Ml = !1; this.Iy() } } ; var e = new va(0,0,0,0); Rb = function() { if (this.j.Qc) { var h = this.j.Ib , b = this.qa; e.set(h.kc(b.left), h.lc(b.top), h.kc(b.right), h.lc(b.bottom)); this.rc.vh(e) || (this.rc.right < this.rc.left ? h.update(this, null, e) : h.update(this, this.rc, e), this.rc.ig(e), this.j.qd = !0) } } ; Sb = function() { if (this.Pl && this.lf) { this.va(); var h = this.type.yj , b = this.qa; e.set(h.kc(b.left), h.lc(b.top), h.kc(b.right), h.lc(b.bottom)); this.Ke.vh(e) || (this.Ke.right < this.Ke.left ? h.update(this, null, e) : h.update(this, this.Ke, e), this.Ke.ig(e), this.Pl = !1) } } ; Ob = function(e, b) { return this.qa.Ab(e, b) && this.Xb.Ab(e, b) ? this.ra && !this.ra.wg() ? (this.ra.hg(this.width, this.height, this.g), this.ra.Ab(e - this.x, b - this.y)) : !0 : !1 } ; Ib = function() { this.type.rl(); return this.zf } ; Tb = function() { this.j.lo(); return this.ud } ; Ub = function() { x(this.Y); var e, b, l, r = !0; e = 0; for (b = this.Ce.length; e < b; e++) this.Ce[e] && (l = this.type.K[e], this.Y.push(l), l.md || (r = !1)); this.no = !!this.Y.length; this.re = r } ; Jb = function() { return "Inst" + this.Fr } ; vb = function(e) { if (e && e.Sb && e.type != this) { var b, l, r; b = 0; for (l = e.siblings.length; b < l; b++) if (r = e.siblings[b], r.type == this) return r } e = this.M().xc(); return e.length ? e[0] : null } ; xb = function(e) { var b = this.M().xc(); return b.length ? b[e.Dh() % b.length] : null } ; ub = function() { if (this.Zg && !this.I) { var e, b; e = 0; for (b = this.c.length; e < b; e++) this.c[e].zf = e; var l = e , r = this.b.hd; e = 0; for (b = r.length; e < b; ++e) r[e].type === this && (r[e].zf = l++); this.Zg = !1 } } ; Gb = function(e) { if (e < this.c.length) return this.c[e]; e -= this.c.length; var b = this.b.hd, l, r; l = 0; for (r = b.length; l < r; ++l) if (b[l].type === this) { if (0 === e) return b[l]; --e } return null } ; yb = function() { return this.ue[this.yd] } ; zb = function() { this.yd++; this.yd === this.ue.length ? this.ue.push(new tb(this)) : (this.ue[this.yd].P = !0, x(this.ue[this.yd].L)) } ; Ab = function() { this.yd++; this.yd === this.ue.length && this.ue.push(new tb(this)); var e = this.ue[this.yd] , b = this.ue[this.yd - 1]; b.P ? (e.P = !0, x(e.L)) : (e.P = !1, Aa(e.c, b.c), Aa(e.L, b.L)) } ; Bb = function() { this.yd-- } ; Cb = function(e) { var b, l, r, p, m, a = 0; if (!this.I) for (b = 0, l = this.La.length; b < l; b++) for (m = this.La[b], r = 0, p = m.Oa.length; r < p; r++) { if (e === m.Oa[r].name) return this.wa.lastBehIndex = a, m.Oa[r]; a++ } b = 0; for (l = this.Oa.length; b < l; b++) { if (e === this.Oa[b].name) return this.wa.lastBehIndex = a, this.Oa[b]; a++ } return null } ; Db = function(e) { return this.Wj(e) ? this.wa.lastBehIndex : -1 } ; Eb = function(e) { var b, l; b = 0; for (l = this.K.length; b < l; b++) if (this.K[b].name === e) return b; return -1 } ; Fb = function() { if (this.Sb && !this.I) { var e, b, l, r, p, m, a; this.rl(); m = this.M(); var c = m.P , f = (e = this.b.Ta()) && e.Xa && e.Xa.Nc; e = 0; for (b = this.wc.length; e < b; e++) if (p = this.wc[e], p !== this && (p.rl(), a = p.M(), a.P = c, !c)) { x(a.c); l = 0; for (r = m.c.length; l < r; ++l) a.c[l] = p.rm(m.c[l].zf); if (f) for (x(a.L), l = 0, r = m.L.length; l < r; ++l) a.L[l] = p.rm(m.L[l].zf) } } } ; Hb = function() { return "Type" + this.aa } ; hc = function(e, b, l) { if ("undefined" === typeof e || "undefined" === typeof l) return !1; switch (b) { case 0: return e === l; case 1: return e !== l; case 2: return e < l; case 3: return e <= l; case 4: return e > l; case 5: return e >= l; default: return !1 } } } )(); var pc = {}; function sc(e) { this.b = e } (function() { function e(a) { 0 > a && (a = 0); 1 < a && (a = 1); return Math.log(a) / Math.log(10) * 20 } function h(a) { a = a.toLowerCase(); return da.hasOwnProperty(a) && da[a].length ? da[a][0].Ic() : v.destination } function b() { return v.createGain ? v.createGain() : v.createGainNode() } function l(a) { return v.createDelay ? v.createDelay(a) : v.createDelayNode(a) } function r(a, b) { a.start ? a.start(b || 0) : a.noteOn(b || 0) } function p(a, b, c, d) { a.start ? a.start(d || 0, b) : a.noteGrainOn(d || 0, b, c - b) } function m(a) { try { a.stop ? a.stop(0) : a.noteOff(0) } catch (b) {} } function a(a, c, d, f, e, g) { this.type = "filter"; this.nb = [a, c, d, f, e, g]; this.ba = b(); this.J = b(); this.J.gain.value = g; this.H = b(); this.H.gain.value = 1 - g; this.Ya = v.createBiquadFilter(); this.Ya.type = "number" === typeof this.Ya.type ? a : bd[a]; this.Ya.frequency.value = c; this.Ya.detune && (this.Ya.detune.value = d); this.Ya.Q.value = f; this.Ya.gain.value = e; this.ba.connect(this.Ya); this.ba.connect(this.H); this.Ya.connect(this.J) } function c(a, c, d) { this.type = "delay"; this.nb = [a, c, d]; this.ba = b(); this.J = b(); this.J.gain.value = d; this.H = b(); this.H.gain.value = 1 - d; this.ii = b(); this.Uc = l(a); this.Uc.delayTime.value = a; this.Hj = b(); this.Hj.gain.value = c; this.ba.connect(this.ii); this.ba.connect(this.H); this.ii.connect(this.J); this.ii.connect(this.Uc); this.Uc.connect(this.Hj); this.Hj.connect(this.ii) } function f(a, c, d, f) { this.type = "convolve"; this.nb = [c, d, f]; this.ba = b(); this.J = b(); this.J.gain.value = d; this.H = b(); this.H.gain.value = 1 - d; this.mf = v.createConvolver(); a && (this.mf.normalize = c, this.mf.buffer = a); this.ba.connect(this.mf); this.ba.connect(this.H); this.mf.connect(this.J) } function d(a, c, d, f, e) { this.type = "flanger"; this.nb = [a, c, d, f, e]; this.ba = b(); this.H = b(); this.H.gain.value = 1 - e / 2; this.J = b(); this.J.gain.value = e / 2; this.Pj = b(); this.Pj.gain.value = f; this.Uc = l(a + c); this.Uc.delayTime.value = a; this.ub = v.createOscillator(); this.ub.frequency.value = d; this.Bc = b(); this.Bc.gain.value = c; this.ba.connect(this.Uc); this.ba.connect(this.H); this.Uc.connect(this.J); this.Uc.connect(this.Pj); this.Pj.connect(this.Uc); this.ub.connect(this.Bc); this.Bc.connect(this.Uc.delayTime); r(this.ub) } function g(a, c, d, f, e, g) { this.type = "phaser"; this.nb = [a, c, d, f, e, g]; this.ba = b(); this.H = b(); this.H.gain.value = 1 - g / 2; this.J = b(); this.J.gain.value = g / 2; this.Ya = v.createBiquadFilter(); this.Ya.type = "number" === typeof this.Ya.type ? 7 : "allpass"; this.Ya.frequency.value = a; this.Ya.detune && (this.Ya.detune.value = c); this.Ya.Q.value = d; this.ub = v.createOscillator(); this.ub.frequency.value = e; this.Bc = b(); this.Bc.gain.value = f; this.ba.connect(this.Ya); this.ba.connect(this.H); this.Ya.connect(this.J); this.ub.connect(this.Bc); this.Bc.connect(this.Ya.frequency); r(this.ub) } function w(a) { this.type = "gain"; this.nb = [a]; this.ga = b(); this.ga.gain.value = a } function k(a, c) { this.type = "tremolo"; this.nb = [a, c]; this.ga = b(); this.ga.gain.value = 1 - c / 2; this.ub = v.createOscillator(); this.ub.frequency.value = a; this.Bc = b(); this.Bc.gain.value = c / 2; this.ub.connect(this.Bc); this.Bc.connect(this.ga.gain); r(this.ub) } function B(a, c) { this.type = "ringmod"; this.nb = [a, c]; this.ba = b(); this.J = b(); this.J.gain.value = c; this.H = b(); this.H.gain.value = 1 - c; this.Bi = b(); this.Bi.gain.value = 0; this.ub = v.createOscillator(); this.ub.frequency.value = a; this.ub.connect(this.Bi.gain); r(this.ub); this.ba.connect(this.Bi); this.ba.connect(this.H); this.Bi.connect(this.J) } function J(a, c, d, f, e) { this.type = "distortion"; this.nb = [a, c, d, f, e]; this.ba = b(); this.Rk = b(); this.Qk = b(); this.ny(d, Math.pow(10, f / 20)); this.J = b(); this.J.gain.value = e; this.H = b(); this.H.gain.value = 1 - e; this.xl = v.createWaveShaper(); this.Fj = new Float32Array(65536); this.lw(a, c); this.xl.Fj = this.Fj; this.ba.connect(this.Rk); this.ba.connect(this.H); this.Rk.connect(this.xl); this.xl.connect(this.Qk); this.Qk.connect(this.J) } function t(a, b, c, d, f) { this.type = "compressor"; this.nb = [a, b, c, d, f]; this.ga = v.createDynamicsCompressor(); try { this.ga.threshold.value = a, this.ga.knee.value = b, this.ga.ratio.value = c, this.ga.attack.value = d, this.ga.release.value = f } catch (e) {} } function n(a, b) { this.type = "analyser"; this.nb = [a, b]; this.ga = v.createAnalyser(); this.ga.fftSize = a; this.ga.smoothingTimeConstant = b; this.jw = new Float32Array(this.ga.frequencyBinCount); this.Yr = new Uint8Array(a); this.ti = 0 } function q() { this.ta = null; this.vk = 0 } function Q(a, c) { this.src = a; this.W = aa; this.Xc = c; this.mj = !1; var d = this; this.Zm = this.qn = null; this.Qg = []; this.Zk = 0; this.po = this.Nj = this.cs = this.Lk = !1; 1 === aa && c && !fb && (this.W = 0, this.qn = b()); this.Pd = this.ha = null; var f; switch (this.W) { case 0: this.ha = new Audio; this.ha.crossOrigin = "anonymous"; this.ha.addEventListener("canplaythrough", function() { d.po = !0 }); 1 === aa && v.createMediaElementSource && !/wiiu/i.test(navigator.userAgent) && (this.cs = !0, this.ha.addEventListener("canplay", function() { d.Zm || (d.Zm = v.createMediaElementSource(d.ha), d.Zm.connect(d.qn)) })); this.ha.autoplay = !1; this.ha.sA = "auto"; this.ha.src = a; break; case 1: G.Rh ? G.Qp(a, function(a) { d.Pd = a; d.Cp() }, function() { d.Nj = !0 }) : (f = new XMLHttpRequest, f.open("GET", a, !0), f.responseType = "arraybuffer", f.onload = function() { d.Pd = f.response; d.Cp() } , f.onerror = function() { d.Nj = !0 } , f.send()); break; case 2: this.ha = !0; break; case 3: this.ha = !0 } } function y(a, c) { var d = this; this.tag = c; this.Ra = this.Bd = !0; this.src = a.src; this.buffer = a; this.W = aa; this.Xc = a.Xc; this.playbackRate = 1; this.ug = !0; this.yc = this.Pc = !1; this.sc = 0; this.Th = this.yg = this.Fd = !1; this.volume = 1; this.nn = function(a) { if (!d.yc && !d.Pc) { var b = this; b || (b = a.target); b === d.lj && (d.ug = !0, d.Ra = !0, S = d.tag, G.trigger(sc.prototype.d.cj, Z)) } } ; this.lj = null; this.vg = 1 === L && !this.Xc || 2 === L; this.Kg = 1; this.startTime = this.vg ? G.hb.X : G.ye.X; this.ab = this.fb = null; this.Gd = !1; this.Gb = null; this.sr = this.rr = this.qr = this.pr = this.ur = this.tr = 0; this.i = null; var f = !1; 1 !== this.W || 0 !== this.buffer.W || this.buffer.cs || (this.W = 0); switch (this.W) { case 0: this.Xc ? (this.i = a.ha, f = !a.mj, a.mj = !0) : (this.i = new Audio, this.i.crossOrigin = "anonymous", this.i.autoplay = !1, this.i.src = a.ha.src, f = !0); f && this.i.addEventListener("ended", function() { S = d.tag; d.Ra = !0; G.trigger(sc.prototype.d.cj, Z) }); break; case 1: this.fb = b(); this.fb.connect(h(c)); 1 === this.buffer.W ? a.ha && (this.i = v.createBufferSource(), this.i.buffer = a.ha, this.i.connect(this.fb)) : (this.i = this.buffer.ha, this.buffer.qn.connect(this.fb), this.buffer.mj || (this.buffer.mj = !0, this.buffer.ha.addEventListener("ended", function() { S = d.tag; d.Ra = !0; G.trigger(sc.prototype.d.cj, Z) }))); break; case 2: this.i = new window.Media(u + this.src,null,null,function(a) { a === window.Media.MEDIA_STOPPED && (d.ug = !0, d.Ra = !0, S = d.tag, G.trigger(sc.prototype.d.cj, Z)) } ); break; case 3: this.i = !0 } } function M(a, b) { var c = a.Cf() ? 1 : 0 , d = b.Cf() ? 1 : 0; return c === d ? 0 : c < d ? 1 : -1 } function T(a, b) { x(Ka); if (a.length) { var c, d, f; c = 0; for (d = C.length; c < d; c++) f = C[c], pb(a, f.tag) && Ka.push(f); b && Ka.sort(M) } else O && !O.yf() && (x(Ka), Ka[0] = O) } function F(a, b) { da.hasOwnProperty(a) ? da[a].push(b) : da[a] = [b]; var c, d, f, e, g = v.destination; if (da.hasOwnProperty(a) && (f = da[a], f.length)) for (g = f[0].Ic(), c = 0, d = f.length; c < d; c++) e = f[c], c + 1 === d ? e.Sc(v.destination) : e.Sc(f[c + 1].Ic()); T(a); c = 0; for (d = Ka.length; c < d; c++) Ka[c].Yx(g); Xa && Pb === a && (Xa.disconnect(), Xa.connect(g)) } function D() {} function I() {} function z() {} var V = sc.prototype; V.ea = function(a) { this.Z = a; this.b = a.b } ; V.ea.prototype.G = function() {} ; var G = null , Z = null , S = "" , u = "" , aa = 0 , v = null , N = [] , C = [] , O = null , W = !1 , L = 0 , H = !1 , P = 1 , pa = 0 , R = 0 , Ga = !1 , qa = 1 , Oa = 1 , Pc = 10 , Qc = 1E4 , Rc = 1 , Xa = null , Pb = "" , gb = !1 , hb = [] , fb = !1 , da = {} , bd = "lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" "); a.prototype.Sc = function(a) { this.J.disconnect(); this.J.connect(a); this.H.disconnect(); this.H.connect(a) } ; a.prototype.remove = function() { this.ba.disconnect(); this.Ya.disconnect(); this.J.disconnect(); this.H.disconnect() } ; a.prototype.Ic = function() { return this.ba } ; c.prototype.Sc = function(a) { this.J.disconnect(); this.J.connect(a); this.H.disconnect(); this.H.connect(a) } ; c.prototype.remove = function() { this.ba.disconnect(); this.ii.disconnect(); this.Uc.disconnect(); this.Hj.disconnect(); this.J.disconnect(); this.H.disconnect() } ; c.prototype.Ic = function() { return this.ba } ; f.prototype.Sc = function(a) { this.J.disconnect(); this.J.connect(a); this.H.disconnect(); this.H.connect(a) } ; f.prototype.remove = function() { this.ba.disconnect(); this.mf.disconnect(); this.J.disconnect(); this.H.disconnect() } ; f.prototype.Ic = function() { return this.ba } ; d.prototype.Sc = function(a) { this.H.disconnect(); this.H.connect(a); this.J.disconnect(); this.J.connect(a) } ; d.prototype.remove = function() { this.ba.disconnect(); this.Uc.disconnect(); this.ub.disconnect(); this.Bc.disconnect(); this.H.disconnect(); this.J.disconnect(); this.Pj.disconnect() } ; d.prototype.Ic = function() { return this.ba } ; g.prototype.Sc = function(a) { this.H.disconnect(); this.H.connect(a); this.J.disconnect(); this.J.connect(a) } ; g.prototype.remove = function() { this.ba.disconnect(); this.Ya.disconnect(); this.ub.disconnect(); this.Bc.disconnect(); this.H.disconnect(); this.J.disconnect() } ; g.prototype.Ic = function() { return this.ba } ; w.prototype.Sc = function(a) { this.ga.disconnect(); this.ga.connect(a) } ; w.prototype.remove = function() { this.ga.disconnect() } ; w.prototype.Ic = function() { return this.ga } ; k.prototype.Sc = function(a) { this.ga.disconnect(); this.ga.connect(a) } ; k.prototype.remove = function() { this.ub.disconnect(); this.Bc.disconnect(); this.ga.disconnect() } ; k.prototype.Ic = function() { return this.ga } ; B.prototype.Sc = function(a) { this.J.disconnect(); this.J.connect(a); this.H.disconnect(); this.H.connect(a) } ; B.prototype.remove = function() { this.ub.disconnect(); this.Bi.disconnect(); this.ba.disconnect(); this.J.disconnect(); this.H.disconnect() } ; B.prototype.Ic = function() { return this.ba } ; J.prototype.ny = function(a, b) { .01 > a && (a = .01); this.Rk.gain.value = a; this.Qk.gain.value = Math.pow(1 / a, .6) * b } ; J.prototype.shape = function(a, b, c) { var d = 1.05 * c * b - b; c = 0 > a ? -1 : 1; a = 0 > a ? -a : a; b = a < b ? a : b + d * (1 - Math.exp(-(1 / d) * (a - b))); return b * c } ; J.prototype.lw = function(a, b) { for (var c = Math.pow(10, a / 20), d = Math.pow(10, b / 20), f = 0, e = 0; 32768 > e; ++e) f = e / 32768, f = this.shape(f, c, d), this.Fj[32768 + e] = f, this.Fj[32768 - e - 1] = -f } ; J.prototype.Sc = function(a) { this.J.disconnect(); this.J.connect(a); this.H.disconnect(); this.H.connect(a) } ; J.prototype.remove = function() { this.ba.disconnect(); this.Rk.disconnect(); this.xl.disconnect(); this.Qk.disconnect(); this.J.disconnect(); this.H.disconnect() } ; J.prototype.Ic = function() { return this.ba } ; t.prototype.Sc = function(a) { this.ga.disconnect(); this.ga.connect(a) } ; t.prototype.remove = function() { this.ga.disconnect() } ; t.prototype.Ic = function() { return this.ga } ; n.prototype.xb = function() { this.ga.getFloatFrequencyData(this.jw); this.ga.getByteTimeDomainData(this.Yr); for (var a = this.ga.fftSize, b = 0, c = this.ti = 0, d = 0; b < a; b++) d = (this.Yr[b] - 128) / 128, 0 > d && (d = -d), this.ti < d && (this.ti = d), c += d * d; this.ti = e(this.ti); e(Math.sqrt(c / a)) } ; n.prototype.Sc = function(a) { this.ga.disconnect(); this.ga.connect(a) } ; n.prototype.remove = function() { this.ga.disconnect() } ; n.prototype.Ic = function() { return this.ga } ; q.prototype.Di = function(a) { this.ta = a } ; q.prototype.bk = function() { return !!this.ta } ; q.prototype.xb = function() {} ; var wb = !1; Q.prototype.Zx = function() { var a, b, c, d; c = a = 0; for (b = C.length; a < b; ++a) d = C[a], C[c] = d, d.buffer === this ? d.stop() : ++c; C.length = c; this.Pd = this.ha = null } ; Q.prototype.Cp = function() { if (!this.ha && this.Pd) { var a = this; if (v.decodeAudioData) v.decodeAudioData(this.Pd, function(b) { a.ha = b; a.Pd = null; var c, d, f; if (ia(a.Nk) || H) ia(a.Aj) || (c = a.Aj.mf, c.normalize = a.hr, c.buffer = b); else if (a.Qg.length) { c = 0; for (d = a.Qg.length; c < d; c++) { b = a.Qg[c]; f = new y(a,b.hs); f.On(!0); if ("undefined" !== typeof b.jr && (b.ta = G.Bh(b.jr), !b.ta)) continue; if (b.ta) { var e = Sa(b.ta.x, b.ta.y, -b.ta.j.Db(), pa, R, !0) , g = Sa(b.ta.x, b.ta.y, -b.ta.j.Db(), pa, R, !1); f.Nn(e, g, Ha(b.ta.g - b.ta.j.Db()), b.Bm, b.an, b.dn); f.Di(b.ta) } else f.Nn(b.x, b.y, b.dg, b.Bm, b.an, b.dn); f.play(a.Xm, a.oo, a.Zk); a.Lk && f.pause(); C.push(f) } x(a.Qg) } else f = new y(a,a.Nk || ""), f.play(a.Xm, a.oo, a.Zk), a.Lk && f.pause(), C.push(f) }, function() { a.Nj = !0 }); else if (this.ha = v.createBuffer(this.Pd, !1), this.Pd = null, ia(this.Nk) || H) ia(this.Aj) || (b = this.Aj.mf, b.normalize = this.hr, b.buffer = this.ha); else { var b = new y(this,this.Nk); b.play(this.Xm, this.oo, this.Zk); this.Lk && b.pause(); C.push(b) } } } ; Q.prototype.sq = function() { switch (this.W) { case 0: var a = 4 <= this.ha.readyState; a && (this.po = !0); return a || this.po; case 1: return !!this.Pd || !!this.ha; case 2: return !0; case 3: return !0 } return !1 } ; Q.prototype.ax = function() { switch (this.W) { case 0: return this.sq(); case 1: return !!this.ha; case 2: return !0; case 3: return !0 } return !1 } ; Q.prototype.Qw = function() { switch (this.W) { case 0: return !!this.ha.error; case 1: return this.Nj } return !1 } ; y.prototype.yf = function() { switch (this.W) { case 0: return this.i.ended; case 1: return 1 === this.buffer.W ? !this.Bd && !this.Ra && this.i.loop || this.yc ? !1 : this.ug : this.i.ended; case 2: return this.ug; case 3: !0 } return !0 } ; y.prototype.Ru = function() { return this.Bd || this.Ra ? !0 : this.yf() } ; y.prototype.On = function(a) { 1 === aa && (!this.Gd && a ? this.fb && (this.ab || (this.ab = v.createPanner(), this.ab.panningModel = "number" === typeof this.ab.panningModel ? qa : ["equalpower", "HRTF", "soundfield"][qa], this.ab.distanceModel = "number" === typeof this.ab.distanceModel ? Oa : ["linear", "inverse", "exponential"][Oa], this.ab.refDistance = Pc, this.ab.maxDistance = Qc, this.ab.rolloffFactor = Rc), this.fb.disconnect(), this.fb.connect(this.ab), this.ab.connect(h(this.tag)), this.Gd = !0) : this.Gd && !a && this.fb && (this.ab.disconnect(), this.fb.disconnect(), this.fb.connect(h(this.tag)), this.Gd = !1)) } ; y.prototype.Nn = function(a, b, c, d, f, e) { this.Gd && 1 === aa && (this.ab.setPosition(a, b, 0), this.ab.setOrientation(Math.cos(A(c)), Math.sin(A(c)), 0), this.ab.coneInnerAngle = d, this.ab.coneOuterAngle = f, this.ab.coneOuterGain = e, this.tr = a, this.ur = b, this.pr = c, this.qr = d, this.rr = f, this.sr = e) } ; y.prototype.Di = function(a) { this.Gd && 1 === aa && (this.Gb || (this.Gb = new q), this.Gb.Di(a)) } ; y.prototype.xb = function(a) { if (this.Gd && 1 === aa && this.Gb && this.Gb.bk() && this.Cf()) { this.Gb.xb(a); a = this.Gb.ta; var b = Sa(a.x, a.y, -a.j.Db(), pa, R, !0) , c = Sa(a.x, a.y, -a.j.Db(), pa, R, !1); this.ab.setPosition(b, c, 0); b = 0; "undefined" !== typeof this.Gb.ta.g && (b = a.g - a.j.Db(), this.ab.setOrientation(Math.cos(b), Math.sin(b), 0)) } } ; y.prototype.play = function(a, b, c, d) { var f = this.i; this.Fd = a; this.volume = b; c = c || 0; d = d || 0; switch (this.W) { case 0: 1 !== f.playbackRate && (f.playbackRate = 1); f.volume !== b * P && (f.volume = b * P); f.loop !== a && (f.loop = a); f.muted && (f.muted = !1); if (f.currentTime !== c) try { f.currentTime = c } catch (e) {} if (this.Xc && gb && !G.Ga) hb.push(this); else try { this.i.play() } catch (g) { console && console.log && console.log("[C2] WARNING: exception trying to play audio '" + this.buffer.src + "': ", g) } break; case 1: this.muted = !1; this.Kg = 1; if (1 === this.buffer.W) this.fb.gain.value = b * P, this.Bd || (this.i = v.createBufferSource(), this.i.buffer = this.buffer.ha, this.i.connect(this.fb)), this.i.onended = this.nn, this.lj = this.i, this.i.loop = a, this.ug = !1, 0 === c ? r(this.i, d) : p(this.i, c, this.Re(), d); else { 1 !== f.playbackRate && (f.playbackRate = 1); f.loop !== a && (f.loop = a); f.volume = b * P; if (f.currentTime !== c) try { f.currentTime = c } catch (k) {} this.Xc && gb && !G.Ga ? hb.push(this) : f.play() } break; case 2: (!this.Bd && this.Ra || 0 !== c) && f.seekTo(c); f.play(); this.ug = !1; break; case 3: G.Eb ? AppMobi.context.playSound(this.src, a) : AppMobi.player.playSound(this.src, a) } this.playbackRate = 1; this.startTime = (this.vg ? G.hb.X : G.ye.X) - c; this.yc = this.Ra = this.Bd = !1 } ; y.prototype.stop = function() { switch (this.W) { case 0: this.i.paused || this.i.pause(); break; case 1: 1 === this.buffer.W ? m(this.i) : this.i.paused || this.i.pause(); break; case 2: this.i.stop(); break; case 3: G.Eb && AppMobi.context.stopSound(this.src) } this.Ra = !0; this.yc = !1 } ; y.prototype.pause = function() { if (!(this.Bd || this.Ra || this.yf() || this.yc)) { switch (this.W) { case 0: this.i.paused || this.i.pause(); break; case 1: 1 === this.buffer.W ? (this.sc = this.tm(!0), this.Fd && (this.sc = this.sc % this.Re()), this.yc = !0, m(this.i)) : this.i.paused || this.i.pause(); break; case 2: this.i.pause(); break; case 3: G.Eb && AppMobi.context.stopSound(this.src) } this.yc = !0 } } ; y.prototype.dy = function() { if (!(this.Bd || this.Ra || this.yf()) && this.yc) { switch (this.W) { case 0: this.i.play(); break; case 1: 1 === this.buffer.W ? (this.i = v.createBufferSource(), this.i.buffer = this.buffer.ha, this.i.connect(this.fb), this.i.onended = this.nn, this.lj = this.i, this.i.loop = this.Fd, this.fb.gain.value = P * this.volume * this.Kg, this.sl(), this.startTime = (this.vg ? G.hb.X : G.ye.X) - this.sc / (this.playbackRate || .001), p(this.i, this.sc, this.Re())) : this.i.play(); break; case 2: this.i.play(); break; case 3: G.Eb && AppMobi.context.resumeSound(this.src) } this.yc = !1 } } ; y.prototype.seek = function(a) { if (!(this.Bd || this.Ra || this.yf())) switch (this.W) { case 0: try { this.i.currentTime = a } catch (b) {} break; case 1: if (1 === this.buffer.W) this.yc ? this.sc = a : (this.pause(), this.sc = a, this.dy()); else try { this.i.currentTime = a } catch (c) {} break; case 3: G.Eb && AppMobi.context.seekSound(this.src, a) } } ; y.prototype.Yx = function(a) { 1 === this.W && (this.Gd ? (this.ab.disconnect(), this.ab.connect(a)) : (this.fb.disconnect(), this.fb.connect(a))) } ; y.prototype.Re = function() { var a = 0; switch (this.W) { case 0: "undefined" !== typeof this.i.duration && (a = this.i.duration); break; case 1: a = this.buffer.ha.duration; break; case 2: a = this.i.getDuration(); break; case 3: G.Eb && (a = AppMobi.context.getDurationSound(this.src)) } return a } ; y.prototype.tm = function(a) { var b = this.Re() , c = 0; switch (this.W) { case 0: "undefined" !== typeof this.i.currentTime && (c = this.i.currentTime); break; case 1: if (1 === this.buffer.W) { if (this.yc) return this.sc; c = (this.vg ? G.hb.X : G.ye.X) - this.startTime } else "undefined" !== typeof this.i.currentTime && (c = this.i.currentTime); break; case 3: G.Eb && (c = AppMobi.context.getPlaybackTimeSound(this.src)) } a && (c *= this.playbackRate); !this.Fd && c > b && (c = b); return c } ; y.prototype.Cf = function() { return !this.yc && !this.Bd && !this.Ra && !this.yf() } ; y.prototype.wy = function() { return !this.Bd && !this.Ra && !this.yf() } ; y.prototype.Gy = function() { var a = this.volume * P; isFinite(a) || (a = 0); switch (this.W) { case 0: "undefined" !== typeof this.i.volume && this.i.volume !== a && (this.i.volume = a); break; case 1: 1 === this.buffer.W ? this.fb.gain.value = a * this.Kg : "undefined" !== typeof this.i.volume && this.i.volume !== a && (this.i.volume = a) } } ; y.prototype.Lj = function(a) { switch (this.W) { case 0: this.i.muted !== !!a && (this.i.muted = !!a); break; case 1: 1 === this.buffer.W ? (this.Kg = a ? 0 : 1, this.fb.gain.value = P * this.volume * this.Kg) : this.i.muted !== !!a && (this.i.muted = !!a) } } ; y.prototype.qy = function() { this.yg = !0; this.Lj(this.yg || this.Th) } ; y.prototype.Sr = function(a) { this.Th = !!a; this.Lj(this.yg || this.Th) } ; y.prototype.sl = function() { var a = this.playbackRate; this.vg && (a *= G.Wf); switch (this.W) { case 0: this.i.playbackRate !== a && (this.i.playbackRate = a); break; case 1: 1 === this.buffer.W ? this.i.playbackRate.value !== a && (this.i.playbackRate.value = a) : this.i.playbackRate !== a && (this.i.playbackRate = a) } } ; y.prototype.uy = function(a) { switch (this.W) { case 0: a ? this.Cf() ? (this.Pc = !0, this.i.pause()) : this.Pc = !1 : this.Pc && (this.i.play(), this.Pc = !1); break; case 1: a ? this.Cf() ? (this.Pc = !0, 1 === this.buffer.W ? (this.sc = this.tm(!0), this.Fd && (this.sc = this.sc % this.Re()), m(this.i)) : this.i.pause()) : this.Pc = !1 : this.Pc && (1 === this.buffer.W ? (this.i = v.createBufferSource(), this.i.buffer = this.buffer.ha, this.i.connect(this.fb), this.i.onended = this.nn, this.lj = this.i, this.i.loop = this.Fd, this.fb.gain.value = P * this.volume * this.Kg, this.sl(), this.startTime = (this.vg ? G.hb.X : G.ye.X) - this.sc / (this.playbackRate || .001), p(this.i, this.sc, this.Re())) : this.i.play(), this.Pc = !1); break; case 2: a ? this.Cf() ? (this.i.pause(), this.Pc = !0) : this.Pc = !1 : this.Pc && (this.Pc = !1, this.i.play()) } } ; V.S = function(a) { function b() { if (!Ga && v.createBuffer) { var a = v.createBuffer(1, 220, 22050) , c = v.createBufferSource(); c.buffer = a; c.connect(v.destination); r(c) } } this.type = a; G = this.b = a.b; Z = this; this.zc = null; this.Zh = -600; this.b.Rh && (fb = !0); !(this.b.Bg || this.b.ek && (this.b.Kh || this.b.fk)) || this.b.hk || this.b.xa || this.b.qq || fb || (gb = !0); v = null; "undefined" !== typeof AudioContext ? (aa = 1, v = new AudioContext) : "undefined" !== typeof webkitAudioContext && (aa = 1, v = new webkitAudioContext); this.b.Bg && v && (v.close && v.close(), "undefined" !== typeof AudioContext ? v = new AudioContext : "undefined" !== typeof webkitAudioContext && (v = new webkitAudioContext)); gb ? document.addEventListener("touchend", function() { !wb && v && (b(), wb = !0); var a, c, d; if (gb) { if (!H) for (a = 0, c = hb.length; a < c; ++a) d = hb[a], d.Ra || d.yc || d.i.play(); x(hb) } }, !0) : fb && document.addEventListener("touchend", function() { !wb && v && (b(), wb = !0) }, !0); 1 !== aa && (this.b.oc && "undefined" !== typeof window.Media ? aa = 2 : this.b.rq && (aa = 3)); 2 === aa && (u = location.href, a = u.lastIndexOf("/"), -1 < a && (u = u.substr(0, a + 1)), u = u.replace("file://", "")); if (this.b.bx && this.b.cx && "undefined" === typeof Audio) alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."), this.b.ef(this); else { if (this.b.Eb) W = this.b.ek; else try { W = !!(new Audio).canPlayType('audio/ogg; codecs="vorbis"') } catch (c) { W = !1 } this.b.ml(this) } } ; var Ca = V.S.prototype; Ca.G = function() { this.b.fg = this; L = this.ca[0]; this.oe = this.ca[1]; this.Mx = 0 !== this.ca[2]; this.fr = 0; qa = this.ca[3]; Oa = this.ca[4]; this.Zh = -this.ca[5]; Pc = this.ca[6]; Qc = this.ca[7]; Rc = this.ca[8]; this.zc = new q; var a = this.b.F || this.b.width , b = this.b.D || this.b.height; 1 === aa && (v.listener.setPosition(a / 2, b / 2, this.Zh), v.listener.setOrientation(0, 0, 1, 0, -1, 0), window.c2OnAudioMicStream = function(a, b) { Xa && Xa.disconnect(); Pb = b.toLowerCase(); Xa = v.createMediaStreamSource(a); Xa.connect(h(Pb)) } ); this.b.hp(function(a) { Z.Gx(a) }); var c = this; this.b.fp(function(a) { c.kn(a) }) } ; Ca.kn = function(a) { var b, c, d; b = 0; for (c = C.length; b < c; b++) d = C[b], d.Gb && d.Gb.ta === a && (d.Gb.ta = null, d.Gd && d.Cf() && d.Fd && d.stop()); this.zc.ta === a && (this.zc.ta = null) } ; Ca.Jb = function() { var a = { silent: H, masterVolume: P, listenerZ: this.Zh, listenerUid: this.zc.bk() ? this.zc.ta.uid : -1, playing: [], effects: {} }, b = a.playing, c, d, f, e, g, k; c = 0; for (d = C.length; c < d; c++) f = C[c], !f.wy() || 3 === this.oe || f.Xc && 1 === this.oe || !f.Xc && 2 === this.oe || (e = f.tm(), f.Fd && (e = e % f.Re()), e = { tag: f.tag, buffersrc: f.buffer.src, is_music: f.Xc, playbackTime: e, volume: f.volume, looping: f.Fd, muted: f.yg, playbackRate: f.playbackRate, paused: f.yc, resume_position: f.sc }, f.Gd && (e.pan = {}, k = e.pan, f.Gb && f.Gb.bk() ? k.objUid = f.Gb.ta.uid : (k.x = f.tr, k.y = f.ur, k.a = f.pr), k.ia = f.qr, k.oa = f.rr, k.og = f.sr), b.push(e)); b = a.effects; for (g in da) if (da.hasOwnProperty(g)) { f = []; c = 0; for (d = da[g].length; c < d; c++) f.push({ type: da[g][c].type, params: da[g][c].nb }); b[g] = f } return a } ; var ib = []; Ca.fc = function(b) { var e = b.silent; P = b.masterVolume; this.Zh = b.listenerZ; this.zc.Di(null); var h = b.listenerUid; -1 !== h && (this.zc.vk = h, ib.push(this.zc)); var h = b.playing, l, r, m, p, y, u, Q, Z, z, v, M; if (3 !== this.oe) for (l = 0, r = C.length; l < r; l++) z = C[l], z.Xc && 1 === this.oe || (z.Xc || 2 !== this.oe) && z.stop(); for (y in da) if (da.hasOwnProperty(y)) for (l = 0, r = da[y].length; l < r; l++) da[y][l].remove(); Ya(da); for (y in b.effects) if (b.effects.hasOwnProperty(y)) for (u = b.effects[y], l = 0, r = u.length; l < r; l++) switch (m = u[l].type, v = u[l].params, m) { case "filter": F(y, new a(v[0],v[1],v[2],v[3],v[4],v[5])); break; case "delay": F(y, new c(v[0],v[1],v[2])); break; case "convolve": m = v[2]; z = this.Vj(m, !1); z.ha ? m = new f(z.ha,v[0],v[1],m) : (m = new f(null,v[0],v[1],m), z.hr = v[0], z.Aj = m); F(y, m); break; case "flanger": F(y, new d(v[0],v[1],v[2],v[3],v[4])); break; case "phaser": F(y, new g(v[0],v[1],v[2],v[3],v[4],v[5])); break; case "gain": F(y, new w(v[0])); break; case "tremolo": F(y, new k(v[0],v[1])); break; case "ringmod": F(y, new B(v[0],v[1])); break; case "distortion": F(y, new J(v[0],v[1],v[2],v[3],v[4])); break; case "compressor": F(y, new t(v[0],v[1],v[2],v[3],v[4])); break; case "analyser": F(y, new n(v[0],v[1])) } l = 0; for (r = h.length; l < r; l++) 3 === this.oe || (b = h[l], m = b.buffersrc, p = b.is_music, y = b.tag, u = b.playbackTime, Q = b.looping, Z = b.volume, M = (v = b.pan) && v.hasOwnProperty("objUid") ? v.objUid : -1, p && 1 === this.oe) || !p && 2 === this.oe || ((z = this.Xp(m, y, p, Q, Z)) ? (z.sc = b.resume_position, z.On(!!v), z.play(Q, Z, u), z.sl(), z.Gy(), z.Lj(z.yg || z.Th), b.paused && z.pause(), b.muted && z.qy(), z.Lj(z.yg || z.Th), v && (-1 !== M ? (z.Gb = z.Gb || new q, z.Gb.vk = M, ib.push(z.Gb)) : z.Nn(v.x, v.y, v.a, v.ia, v.oa, v.og))) : (z = this.Vj(m, p), z.Zk = u, z.Lk = b.paused, v && (-1 !== M ? z.Qg.push({ jr: M, Bm: v.ia, an: v.oa, dn: v.og, hs: y }) : z.Qg.push({ x: v.x, y: v.y, dg: v.a, Bm: v.ia, an: v.oa, dn: v.og, hs: y })))); if (e && !H) { l = 0; for (r = C.length; l < r; l++) C[l].Sr(!0); H = !0 } else if (!e && H) { l = 0; for (r = C.length; l < r; l++) C[l].Sr(!1); H = !1 } } ; Ca.wd = function() { var a, b, c, d; a = 0; for (b = ib.length; a < b; a++) c = ib[a], d = this.b.Bh(c.vk), c.Di(d), c.vk = -1, d && (pa = d.x, R = d.y); x(ib) } ; Ca.Gx = function(a) { if (!this.Mx) { !a && v && v.resume && (v.resume(), Ga = !1); var b, c; b = 0; for (c = C.length; b < c; b++) C[b].uy(a); a && v && v.suspend && (v.suspend(), Ga = !0) } } ; Ca.xb = function() { var a = this.b.Ne, b, c, d; b = 0; for (c = C.length; b < c; b++) d = C[b], d.xb(a), 0 !== L && d.sl(); var f, e; for (f in da) if (da.hasOwnProperty(f)) for (d = da[f], b = 0, c = d.length; b < c; b++) e = d[b], e.xb && e.xb(); 1 === aa && this.zc.bk() && (this.zc.xb(a), pa = this.zc.ta.x, R = this.zc.ta.y, v.listener.setPosition(this.zc.ta.x, this.zc.ta.y, this.Zh)) } ; var jb = []; Ca.ry = function(a) { var b, c, d, f, e, g = 0; b = 0; for (c = a.length; b < c; ++b) if (d = a[b], f = d[0], d = 2 * d[1], (e = 4 < f.length && ".ogg" === f.substr(f.length - 4)) && W || !e && !W) jb.push({ filename: f, size: d, ta: null }), g += d; return g } ; Ca.yy = function() { var a, b, c, d; a = 0; for (b = jb.length; a < b; ++a) c = jb[a], d = this.b.im + c.filename, c.ta = this.Vj(d, !1) } ; Ca.ww = function() { var a = 0, b, c, d; b = 0; for (c = jb.length; b < c; ++b) d = jb[b], d.ta.ax() || d.ta.Qw() || this.b.xa || this.b.fk ? a += d.size : d.ta.sq() && (a += Math.floor(d.size / 2)); return a } ; Ca.$x = function() { var a, b, c, d; c = a = 0; for (b = N.length; a < b; ++a) d = N[a], N[c] = d, d.Xc ? d.Zx() : ++c; N.length = c } ; Ca.Vj = function(a, b) { var c, d, f, e = null; c = 0; for (d = N.length; c < d; c++) if (f = N[c], f.src === a) { e = f; break } e || (fb && b && this.$x(), e = new Q(a,b), N.push(e)); return e } ; Ca.Xp = function(a, b, c, d, f) { var e, g, k; e = 0; for (g = C.length; e < g; e++) if (k = C[e], k.src === a && (k.Ru() || c)) return k.tag = b, k; a = this.Vj(a, c); if (!a.ha) return "<preload>" !== b && (a.Nk = b, a.Xm = d, a.oo = f), null; k = new y(a,b); C.push(k); return k } ; var Ka = []; D.prototype.cj = function(a) { return pb(S, a) } ; V.d = new D; I.prototype.Play = function(a, b, c, d) { !H && (c = Math.pow(10, c / 20), isFinite(c) || (c = 0), 0 > c && (c = 0), 1 < c && (c = 1), O = this.Xp(this.b.im + a[0] + (W ? ".ogg" : ".m4a"), d, a[1], 0 !== b, c)) && (O.On(!1), O.play(0 !== b, c, 0, this.fr), this.fr = 0) } ; I.prototype.Wo = function(a) { T(a); var b; a = 0; for (b = Ka.length; a < b; a++) Ka[a].stop() } ; V.k = new I; z.prototype.Us = function(a, b) { T(b, !0); Ka.length ? a.n(Ka[0].Re()) : a.n(0) } ; V.A = new z } )(); function tc(e) { this.b = e } (function() { function e() { p && m && window.OfflineClientInfo && window.OfflineClientInfo.SetMessageCallback(function(b) { a.Ex(b) }) } function h() {} function b() {} var l = tc.prototype; l.ea = function(a) { this.Z = a; this.b = a.b } ; var r = l.ea.prototype; r.G = function() {} ; var p = !1 , m = !1; document.addEventListener("DOMContentLoaded", function() { if (window.C2_RegisterSW && navigator.jf) { var a = document.createElement("script"); a.onload = function() { p = !0; e() } ; a.src = "offlineClient.js"; document.head.appendChild(a) } }); var a = null; r.nr = function() { m = !0; e() } ; l.S = function(a) { this.type = a; this.b = a.b } ; r = l.S.prototype; r.G = function() { var b = this; window.addEventListener("resize", function() { b.b.trigger(tc.prototype.d.Tt, b) }); a = this; "undefined" !== typeof navigator.onLine && (window.addEventListener("online", function() { b.b.trigger(tc.prototype.d.Qt, b) }), window.addEventListener("offline", function() { b.b.trigger(tc.prototype.d.Ot, b) })); "undefined" !== typeof window.applicationCache && (window.applicationCache.addEventListener("updateready", function() { b.b.Hf = 1; b.b.trigger(tc.prototype.d.gj, b) }), window.applicationCache.addEventListener("progress", function(a) { b.b.Hf = a.loaded / a.total || 0 })); this.b.Eb || (document.addEventListener("appMobi.device.update.available", function() { b.b.trigger(tc.prototype.d.gj, b) }), document.addEventListener("backbutton", function() { b.b.trigger(tc.prototype.d.bj, b) }), document.addEventListener("menubutton", function() { b.b.trigger(tc.prototype.d.Io, b) }), document.addEventListener("searchbutton", function() { b.b.trigger(tc.prototype.d.Wt, b) }), document.addEventListener("tizenhwkey", function(a) { var d; switch (a.keyName) { case "back": d = b.b.trigger(tc.prototype.d.bj, b); !d && window.tizen && window.tizen.application.getCurrentApplication().exit(); break; case "menu": (d = b.b.trigger(tc.prototype.d.Io, b)) || a.preventDefault() } })); this.b.Lm && "undefined" !== typeof Windows ? Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested", function(a) { b.b.trigger(tc.prototype.d.bj, b) && (a.ak = !0) }) : this.b.ik && WinJS.Application && (WinJS.Application.onbackclick = function() { return !!b.b.trigger(tc.prototype.d.bj, b) } ); this.b.hp(function(a) { a ? b.b.trigger(tc.prototype.d.Rt, b) : b.b.trigger(tc.prototype.d.St, b) }); this.jk = "undefined" !== typeof window.is_scirra_arcade } ; r.Ex = function(a) { a = a.data.type; "downloading-update" === a ? this.b.trigger(tc.prototype.d.Yt, this) : "update-ready" === a || "update-pending" === a ? this.b.trigger(tc.prototype.d.gj, this) : "offline-ready" === a && this.b.trigger(tc.prototype.d.Pt, this) } ; h.prototype.Qt = function() { return !0 } ; h.prototype.Ot = function() { return !0 } ; h.prototype.gj = function() { return !0 } ; h.prototype.St = function() { return !0 } ; h.prototype.Rt = function() { return !0 } ; h.prototype.Tt = function() { return !0 } ; h.prototype.bj = function() { return !0 } ; h.prototype.Io = function() { return !0 } ; h.prototype.Wt = function() { return !0 } ; h.prototype.Yt = function() { return !0 } ; h.prototype.gj = function() { return !0 } ; h.prototype.Pt = function() { return !0 } ; l.d = new h; b.prototype.$s = function(a, b) { this.b.nc ? CocoonJS.App.openURL(a) : this.b.Kc ? ejecta.openURL(a) : this.b.ik ? Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(a)) : navigator.app && navigator.app.loadUrl ? navigator.app.loadUrl(a, { openExternal: !0 }) : this.b.oc ? window.open(a, "_system") : this.jk || this.b.xa || (2 !== b || this.jk ? 1 !== b || this.jk ? window.location = a : window.parent.location = a : window.top.location = a) } ; b.prototype.bt = function(a, b) { this.b.nc ? CocoonJS.App.openURL(a) : this.b.Kc ? ejecta.openURL(a) : this.b.ik ? Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(a)) : navigator.app && navigator.app.loadUrl ? navigator.app.loadUrl(a, { openExternal: !0 }) : this.b.oc ? window.open(a, "_system") : this.jk || this.b.xa || window.open(a, b) } ; b.prototype.Ss = function(a, b) { "undefined" !== typeof console && (0 === a && console.log && console.log(b.toString()), 1 === a && console.warn && console.warn(b.toString()), 2 === a && console.error && console.error(b.toString())) } ; l.k = new b; l.A = new function() {} } )(); function uc(e) { this.b = e } (function() { var e = uc.prototype; e.ea = function(e) { this.Z = e; this.b = e.b } ; e.ea.prototype.G = function() {} ; e.S = function(e) { this.type = e; this.b = e.b } ; e.S.prototype.G = function() {} ; e.d = new function() {} ; e.k = new function() {} ; e.A = new function() {} } )(); function rc(e) { this.b = e } (function() { function e() { this.name = ""; this.Sf = 0; this.nb = [] } function h() { a++; a === m.length && m.push(new e); return m[a] } function b() {} function l() {} function r() {} var p = rc.prototype; p.ea = function(a) { this.Z = a; this.b = a.b } ; p.ea.prototype.G = function() {} ; p.S = function(a) { this.type = a; this.b = a.b } ; var m = [] , a = -1; p.S.prototype.G = function() { var b = this; window.c2_callFunction = function(f, d) { var e, l, k, r = h(); r.name = f.toLowerCase(); r.Sf = 0; if (d) for (r.nb.length = d.length, e = 0, l = d.length; e < l; ++e) k = d[e], r.nb[e] = "number" === typeof k || "string" === typeof k ? k : "boolean" === typeof k ? k ? 1 : 0 : 0; else x(r.nb); b.b.trigger(rc.prototype.d.ej, b, r.name); a--; return r.Sf } } ; b.prototype.ej = function(b) { var f = 0 > a ? null : m[a]; return f ? pb(b, f.name) : !1 } ; p.d = new b; l.prototype.CallFunction = function(b, f) { var d = h(); d.name = b.toLowerCase(); d.Sf = 0; Aa(d.nb, f); this.b.trigger(rc.prototype.d.ej, this, d.name); a-- } ; l.prototype.nu = function(b) { var f = 0 > a ? null : m[a]; f && (f.Sf = b) } ; p.k = new l; r.prototype.eu = function(b) { var f; m.length ? (f = a + 1, f >= m.length && (f = m.length - 1), f = m[f]) : f = null; f ? b.Fi(f.Sf) : b.V(0) } ; r.prototype.Zt = function(b, f) { f = sa(f); var d = 0 > a ? null : m[a]; d ? 0 <= f && f < d.nb.length ? b.Fi(d.nb[f]) : b.V(0) : b.V(0) } ; r.prototype.ro = function(b, f) { var d = h(); d.name = f.toLowerCase(); d.Sf = 0; x(d.nb); var e, l; e = 2; for (l = arguments.length; e < l; e++) d.nb.push(arguments[e]); this.b.trigger(rc.prototype.d.ej, this, d.name); a--; b.Fi(d.Sf) } ; p.A = new r } )(); function vc(e) { this.b = e } (function() { function e() {} var h = vc.prototype; h.ea = function(b) { this.Z = b; this.b = b.b } ; h.ea.prototype.G = function() {} ; h.S = function(b) { this.type = b; this.b = b.b; this.Xh = Array(256); this.Wi = Array(256); this.we = 0 } ; var b = h.S.prototype; b.G = function() { var b = this; this.b.xa || (jQuery(document).keydown(function(e) { b.Bx(e) }), jQuery(document).keyup(function(e) { b.Cx(e) })) } ; var l = [32, 33, 34, 35, 36, 37, 38, 39, 40, 44]; b.Bx = function(b) { var e = !1; window != window.top && -1 < l.indexOf(b.which) && (b.preventDefault(), e = !0, b.stopPropagation()); if (this.Xh[b.which]) this.Wi[b.which] && !e && b.preventDefault(); else { this.Xh[b.which] = !0; this.we = b.which; this.b.Ga = !0; this.b.trigger(vc.prototype.d.Ct, this); var h = this.b.trigger(vc.prototype.d.Kt, this) , a = this.b.trigger(vc.prototype.d.Lt, this); this.b.Ga = !1; if (h || a) this.Wi[b.which] = !0, e || b.preventDefault() } } ; b.Cx = function(b) { this.Xh[b.which] = !1; this.we = b.which; this.b.Ga = !0; this.b.trigger(vc.prototype.d.xo, this); var e = this.b.trigger(vc.prototype.d.Go, this) , h = this.b.trigger(vc.prototype.d.Fo, this); this.b.Ga = !1; if (e || h || this.Wi[b.which]) this.Wi[b.which] = !0, b.preventDefault() } ; b.Of = function() { var b; for (b = 0; 256 > b; ++b) if (this.Xh[b]) { this.Xh[b] = !1; this.we = b; this.b.trigger(vc.prototype.d.xo, this); var e = this.b.trigger(vc.prototype.d.Go, this) , h = this.b.trigger(vc.prototype.d.Fo, this); if (e || h) this.Wi[b] = !0 } } ; b.Jb = function() { return { triggerKey: this.we } } ; b.fc = function(b) { this.we = b.triggerKey } ; e.prototype.Kt = function(b) { return b === this.we } ; e.prototype.Ct = function() { return !0 } ; e.prototype.xo = function() { return !0 } ; e.prototype.Go = function(b) { return b === this.we } ; e.prototype.Lt = function(b) { return b === this.we } ; e.prototype.Fo = function(b) { return b === this.we } ; h.d = new e; h.k = new function() {} ; h.A = new function() {} } )(); function wc(e) { this.b = e } (function() { var e = wc.prototype; e.ea = function(b) { this.Z = b; this.b = b.b } ; e.ea.prototype.G = function() {} ; e.S = function(b) { this.type = b; this.b = b.b; this.Mr = [] } ; var h = e.S.prototype; h.G = function() {} ; h.jd = function() {} ; h.Ob = function() {} ; e.d = {}; e.k = {}; h = e.k; h.Uu = function(b, e) { show("interstitial", b, e, function(b) { b.success ? console.log("ad done") : console.log(b.Lp) }) } ; h.Tu = function(b) { LaggedAPI.init(b, "lagdevaF3001") } ; h.aA = function(b, e) { var h = {}; h.score = b; h.board = e; LaggedAPI.Scores.save(h, function(b) { b.success ? console.log("high score saved") : console.log(b.Lp) }) } ; h.$z = function(b) { if (!(-1 < this.Mr.indexOf(b))) { var e = []; e.push(b); this.Mr.push(b); LaggedAPI.Achievements.save(e, function(b) { b.success ? console.log("achievement saved") : console.log(b.Lp) }) } } ; e.A = {} } )(); var xc = !1; try { !function() { var e, h, b; !function() { var l = {} , r = {}; e = function(b, e, a) { l[b] = { av: e, Qu: a } } ; b = h = function(e) { function m(a) { if ("." !== a.charAt(0)) return a; a = a.split("/"); for (var b = e.split("/").slice(0, -1), c = 0, d = a.length; d > c; c++) { var f = a[c]; ".." === f ? b.pop() : "." !== f && b.push(f) } return b.join("/") } if (b.Vz = l, r[e]) return r[e]; if (r[e] = {}, !l[e]) throw Error("Could not find module " + e); for (var a, c = l[e], f = c.av, c = c.Qu, d = [], g = 0, w = f.length; w > g; g++) "exports" === f[g] ? d.push(a = {}) : d.push(h(m(f[g]))); f = c.apply(this, d); return r[e] = a || f } }(); e("promise/all", ["./utils", "exports"], function(b, e) { var h = b.isArray , m = b.isFunction; e.all = function(a) { if (!h(a)) throw new TypeError("You must pass an array to all."); return new this(function(b, f) { function d(a) { return function(d) { h[a] = d; 0 === --k && b(h) } } var e, h = [], k = a.length; 0 === k && b([]); for (var l = 0; l < a.length; l++) (e = a[l]) && m(e.then) ? e.then(d(l), f) : (h[l] = e, 0 === --k && b(h)) } ) } }); e("promise/asap", ["exports"], function(b) { function e() { return function() { process.rA(a) } } function h() { var b = 0 , c = new d(a) , f = document.createTextNode(""); return c.observe(f, { characterData: !0 }), function() { f.data = b = ++b % 2 } } function m() { return function() { g.setTimeout(a, 1) } } function a() { for (var a = 0; a < w.length; a++) { var b = w[a]; (0, b[0])(b[1]) } w = [] } var c, f = "undefined" != typeof window ? window : {}, d = f.MutationObserver || f.WebKitMutationObserver, g = "undefined" != typeof global ? global : void 0 === this ? window : this, w = []; c = "undefined" != typeof process && "[object process]" === {}.toString.call(process) ? e() : d ? h() : m(); b.Ku = function(a, b) { 1 === w.push([a, b]) && c() } }); e("promise/config", ["exports"], function(b) { var e = { gA: !1 }; b.xp = e; b.Vu = function(b, h) { return 2 !== arguments.length ? e[b] : void (e[b] = h) } }); e("promise/polyfill", ["./promise", "./utils", "exports"], function(b, e, h) { var m = b.Promise , a = e.isFunction; h.Nx = function() { var b; b = "undefined" != typeof global ? global : "undefined" != typeof window && window.document ? window : self; "Promise"in b && "resolve"in b.Promise && "reject"in b.Promise && "all"in b.Promise && "race"in b.Promise && function() { var f; return new b.Promise(function(a) { f = a } ), a(f) }() || (b.Promise = m) } }); e("promise/promise", "./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "), function(b, e, h, m, a, c, f, d) { function g(a) { if (!D(a)) throw new TypeError("You must pass a resolver function as the first argument to the promise constructor"); if (!(this instanceof g)) throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."); this.kj = []; w(a, this) } function w(a, b) { function c(a) { n(b, a) } function d(a) { Q(b, a) } try { a(c, d) } catch (f) { d(f) } } function k(a, b, c, d) { var f, e, g, k, h = D(c); if (h) try { f = c(d), g = !0 } catch (l) { k = !0, e = l } else f = d, g = !0; t(b, f) || (h && g ? n(b, f) : k ? Q(b, e) : a === V ? n(b, f) : a === G && Q(b, f)) } function B(a, b, c, d) { a = a.kj; var f = a.length; a[f] = b; a[f + V] = c; a[f + G] = d } function J(a, b) { for (var c, d, f = a.kj, e = a.jj, g = 0; g < f.length; g += 3) c = f[g], d = f[g + b], k(b, c, d, e); a.kj = null } function t(a, b) { var c, d = null; try { if (a === b) throw new TypeError("A promises callback cannot return that same promise."); if (F(b) && (d = b.then, D(d))) return d.call(b, function(d) { return c ? !0 : (c = !0, void (b !== d ? n(a, d) : q(a, d))) }, function(b) { return c ? !0 : (c = !0, void Q(a, b)) }), !0 } catch (f) { return c ? !0 : (Q(a, f), !0) } return !1 } function n(a, b) { a === b ? q(a, b) : t(a, b) || q(a, b) } function q(a, b) { a.Nd === I && (a.Nd = z, a.jj = b, T.async(y, a)) } function Q(a, b) { a.Nd === I && (a.Nd = z, a.jj = b, T.async(M, a)) } function y(a) { J(a, a.Nd = V) } function M(a) { J(a, a.Nd = G) } var T = b.xp , F = (b.Vu, e.wx) , D = e.isFunction; b = (e.now, h.all); m = m.race; a = a.resolve; c = c.reject; T.async = f.Ku; var I = void 0 , z = 0 , V = 1 , G = 2; g.prototype = { constructor: g, Nd: void 0, jj: void 0, kj: void 0, then: function(a, b) { var c = this , d = new this.constructor(function() {} ); if (this.Nd) { var f = arguments; T.async(function() { k(c.Nd, d, f[c.Nd - 1], c.jj) }) } else B(this, d, a, b); return d }, "catch": function(a) { return this.then(null, a) } }; g.all = b; g.race = m; g.resolve = a; g.reject = c; d.Promise = g }); e("promise/race", ["./utils", "exports"], function(b, e) { var h = b.isArray; e.race = function(b) { if (!h(b)) throw new TypeError("You must pass an array to race."); return new this(function(a, c) { for (var f, d = 0; d < b.length; d++) (f = b[d]) && "function" == typeof f.then ? f.then(a, c) : a(f) } ) } }); e("promise/reject", ["exports"], function(b) { b.reject = function(b) { return new this(function(e, h) { h(b) } ) } }); e("promise/resolve", ["exports"], function(b) { b.resolve = function(b) { return b && "object" == typeof b && b.constructor === this ? b : new this(function(e) { e(b) } ) } }); e("promise/utils", ["exports"], function(b) { function e(b) { return "function" == typeof b } var h = Date.now || function() { return (new Date).getTime() } ; b.wx = function(b) { return e(b) || "object" == typeof b && null !== b } ; b.isFunction = e; b.isArray = function(b) { return "[object Array]" === Object.prototype.toString.call(b) } ; b.now = h }); h("promise/polyfill").Nx() }(); var yc = function() { return function(e) { function h(l) { if (b[l]) return b[l].zd; var r = b[l] = { zd: {}, id: l, loaded: !1 }; return e[l].call(r.zd, r, r.zd, h), r.loaded = !0, r.zd } var b = {}; return h.jf = e, h.qh = b, h.si = "", h(0) }([function(e, h, b) { h.ij = !0; var l = function(e) { function h(a, b) { a[b] = function() { var c = arguments; return a.ready().then(function() { return a[b].apply(a, c) }) } } function l() { for (var a = 1; a < arguments.length; a++) { var b = arguments[a]; if (b) for (var c in b) b.hasOwnProperty(c) && (k(b[c]) ? arguments[0][c] = b[c].slice() : arguments[0][c] = b[c]) } return arguments[0] } function a(a) { for (var b in f) if (f.hasOwnProperty(b) && f[b] === a) return !0; return !1 } var c = {} , f = { ih: "asyncStorage", jh: "localStorageWrapper", kh: "webSQLStorage" } , d = "clear getItem iterate key keys length removeItem setItem".split(" ") , g = { description: "", mg: [f.ih, f.kh, f.jh].slice(), name: "localforage", size: 4980736, ua: "keyvaluepairs", version: 1 } , w = function(a) { var b = {}, c; try { var d = d || a.indexedDB || a.webkitIndexedDB || a.mozIndexedDB || a.Jp || a.msIndexedDB; c = "undefined" != typeof a.openDatabase && a.navigator && a.navigator.userAgent && /Safari/.test(a.navigator.userAgent) && !/Chrome/.test(a.navigator.userAgent) ? !1 : d && "function" == typeof d.open && "undefined" != typeof a.IDBKeyRange } catch (e) { c = !1 } b[f.ih] = !!c; var g; try { g = a.openDatabase } catch (k) { g = !1 } b[f.kh] = !!g; var h; try { h = a.localStorage && "setItem"in a.localStorage && a.localStorage.setItem } catch (l) { h = !1 } return b[f.jh] = !!h, b }(e) , k = Array.isArray || function(a) { return "[object Array]" === Object.prototype.toString.call(a) } ; return new (function() { function e(a) { if (!(this instanceof e)) throw new TypeError("Cannot call a class as a function"); this.ih = f.ih; this.jh = f.jh; this.kh = f.kh; this.Gl = l({}, g); this.ff = l({}, this.Gl, a); this.Zo = this.vd = null; this.Be = !1; this.na = null; this.$o(); this.Pr(this.ff.mg) } return e.prototype.xp = function(a) { if ("object" == typeof a) { if (this.Be) return Error("Can't call config() after localforage has been used."); for (var b in a) "storeName" === b && (a[b] = a[b].replace(/\W/g, "_")), this.ff[b] = a[b]; return "driver"in a && a.mg && this.Pr(this.ff.mg), !0 } return "string" == typeof a ? this.ff[a] : this.ff } , e.prototype.mg = function() { return this.lh || null } , e.prototype.$p = function(d, f, e) { var g = this , k = function() { if (a(d)) switch (d) { case g.ih: return new Promise(function(a) { a(b(1)) } ); case g.jh: return new Promise(function(a) { a(b(2)) } ); case g.kh: return new Promise(function(a) { a(b(4)) } ) } else if (c[d]) return Promise.resolve(c[d]); return Promise.reject(Error("Driver not found.")) }(); return k.then(f, e), k } , e.prototype.ready = function(a) { var b = this , c = b.vd.then(function() { return null === b.Be && (b.Be = b.Zo()), b.Be }); return c.then(a, a), c } , e.prototype.Pr = function(a, b, c) { function d() { e.ff.mg = e.mg() } function f(a) { return function() { function b() { for (; c < a.length; ) { var f = a[c]; return c++, e.na = null, e.Be = null, e.$p(f).then(function(a) { return e.Cu(a), d(), e.Be = e.Il(e.ff), e.Be })["catch"](b) } d(); return e.vd = Promise.reject(Error("No available storage method found.")), e.vd } var c = 0; return b() } } var e = this; k(a) || (a = [a]); var g = this.Du(a); return this.vd = (null !== this.vd ? this.vd["catch"](function() { return Promise.resolve() }) : Promise.resolve()).then(function() { var a = g[0]; return e.na = null, e.Be = null, e.$p(a).then(function(a) { e.lh = a.lh; d(); e.$o(); e.Zo = f(g) }) })["catch"](function() { d(); return e.vd = Promise.reject(Error("No available storage method found.")), e.vd }), this.vd.then(b, c), this.vd } , e.prototype.supports = function(a) { return !!w[a] } , e.prototype.Cu = function(a) { l(this, a) } , e.prototype.Du = function(a) { for (var b = [], c = 0, d = a.length; d > c; c++) { var f = a[c]; this.supports(f) && b.push(f) } return b } , e.prototype.$o = function() { for (var a = 0; a < d.length; a++) h(this, d[a]) } , e.prototype.Bj = function(a) { return new e(a) } , e }()) }("undefined" != typeof window ? window : self); h["default"] = l; e.zd = h["default"] } , function(e, h) { h.ij = !0; h["default"] = function(b) { function e(a, c) { a = a || []; c = c || {}; try { return new Blob(a,c) } catch (d) { if ("TypeError" !== d.name) throw d; for (var f = new (b.BlobBuilder || b.jf || b.Bp || b.WebKitBlobBuilder), g = 0; g < a.length; g += 1) f.append(a[g]); return f.getBlob(c.type) } } function h(a) { return new Promise(function(b, c) { var d = new XMLHttpRequest; d.open("GET", a); d.withCredentials = !0; d.responseType = "arraybuffer"; d.onreadystatechange = function() { return 4 === d.readyState ? 200 === d.status ? b({ response: d.response, type: d.getResponseHeader("Content-Type") }) : void c({ status: d.status, response: d.response }) : void 0 } ; d.send() } ) } function p(a) { return (new Promise(function(b, c) { var d = e([""], { type: "image/png" }) , f = a.transaction([I], "readwrite"); f.objectStore(I).put(d, "key"); f.oncomplete = function() { var d = a.transaction([I], "readwrite").objectStore(I).get("key"); d.onerror = c; d.onsuccess = function(a) { var c = URL.createObjectURL(a.target.result); h(c).then(function(a) { b(!(!a || "image/png" !== a.type)) }, function() { b(!1) }).then(function() { URL.revokeObjectURL(c) }) } } ; f.onerror = f.onabort = c } ))["catch"](function() { return !1 }) } function m(a) { return "boolean" == typeof F ? Promise.resolve(F) : p(a).then(function(a) { return F = a }) } function a(a) { return new Promise(function(b, c) { var d = new FileReader; d.onerror = c; d.onloadend = function(c) { b({ Yo: !0, data: btoa(c.target.result || ""), type: a.type }) } ; d.readAsBinaryString(a) } ) } function c(a) { for (var b = atob(a.data), c = b.length, d = new ArrayBuffer(c), f = new Uint8Array(d), g = 0; c > g; g++) f[g] = b.charCodeAt(g); return e([d], { type: a.type }) } function f(a) { var b = this , c = b.Hl().then(function() { var a = D[b.na.name]; return a && a.lg ? a.lg : void 0 }); return c.then(a, a), c } function d(a) { a = D[a.name]; var b = {}; b.promise = new Promise(function(a) { b.resolve = a } ); a.Dp.push(b); a.lg ? a.lg = a.lg.then(function() { return b.promise }) : a.lg = b.promise } function g(a) { function c() { return Promise.resolve() } var d = this , e = { db: null }; if (a) for (var g in a) e[g] = a[g]; D || (D = {}); var k = D[e.name]; k || (k = { Sj: [], db: null, lg: null, Dp: [] }, D[e.name] = k); k.Sj.push(d); d.Hl || (d.Hl = d.ready, d.ready = f); a = []; for (g = 0; g < k.Sj.length; g++) { var h = k.Sj[g]; h !== d && a.push(h.Hl()["catch"](c)) } var l = k.Sj.slice(0); return Promise.all(a).then(function() { return e.db = k.db, w(e, !1) }).then(function(a) { e.db = a; var c; c = d.Gl.version; if (e.db) { var f = !e.db.objectStoreNames.contains(e.ua) , g = e.version > e.db.version; (e.version < e.db.version && (e.version !== c && b.console.warn('The database "' + e.name + "\" can't be downgraded from version " + e.db.version + " to version " + e.version + "."), e.version = e.db.version), g || f) ? (f && (c = e.db.version + 1, c > e.version && (e.version = c)), c = !0) : c = !1 } else c = !0; return c ? w(e, !0) : a }).then(function(a) { e.db = k.db = a; d.na = e; for (a = 0; a < l.length; a++) { var b = l[a]; b !== d && (b.na.db = e.db, b.na.version = e.version) } }) } function w(a, c) { return new Promise(function(f, e) { if (a.db) { if (!c) return f(a.db); d(a); a.db.close() } var g = [a.name]; c && g.push(a.version); var k = T.open.apply(T, g); c && (k.onupgradeneeded = function(c) { var d = k.result; try { d.createObjectStore(a.ua), 1 >= c.oldVersion && d.createObjectStore(I) } catch (f) { if ("ConstraintError" !== f.name) throw f; b.console.warn('The database "' + a.name + '" has been upgraded from version ' + c.oldVersion + " to version " + c.newVersion + ', but the storage "' + a.ua + '" already exists.') } } ); k.onerror = function() { e(k.error) } ; k.onsuccess = function() { f(k.result); var b = D[a.name].Dp.pop(); b && b.resolve() } } ) } function k(a, d) { var f = this; "string" != typeof a && (b.console.warn(a + " used as a key, but it is not a string."), a = String(a)); var e = new Promise(function(b, d) { f.ready().then(function() { var e = f.na , g = e.db.transaction(e.ua, "readonly").objectStore(e.ua).get(a); g.onsuccess = function() { var a = g.result; void 0 === a && (a = null); a && a.Yo && (a = c(a)); b(a) } ; g.onerror = function() { d(g.error) } })["catch"](d) } ); return M(e, d), e } function B(a, b) { var d = this , f = new Promise(function(b, f) { d.ready().then(function() { var e = d.na , g = e.db.transaction(e.ua, "readonly").objectStore(e.ua).openCursor() , k = 1; g.onsuccess = function() { var d = g.result; if (d) { var f = d.value; f && f.Yo && (f = c(f)); f = a(f, d.key, k++); void 0 !== f ? b(f) : d["continue"]() } else b() } ; g.onerror = function() { f(g.error) } })["catch"](f) } ); return M(f, b), f } function J(c, d, f) { var e = this; "string" != typeof c && (b.console.warn(c + " used as a key, but it is not a string."), c = String(c)); var g = new Promise(function(b, f) { var g; e.ready().then(function() { return g = e.na, d instanceof Blob ? m(g.db).then(function(b) { return b ? d : a(d) }) : d }).then(function(a) { var d = g.db.transaction(g.ua, "readwrite") , e = d.objectStore(g.ua); null === a && (a = void 0); d.oncomplete = function() { void 0 === a && (a = null); b(a) } ; d.onabort = d.onerror = function() { f(k.error ? k.error : k.transaction.error) } ; var k = e.put(a, c) })["catch"](f) } ); return M(g, f), g } function t(a, c) { var d = this; "string" != typeof a && (b.console.warn(a + " used as a key, but it is not a string."), a = String(a)); var f = new Promise(function(b, c) { d.ready().then(function() { var f = d.na , e = f.db.transaction(f.ua, "readwrite") , g = e.objectStore(f.ua)["delete"](a); e.oncomplete = function() { b() } ; e.onerror = function() { c(g.error) } ; e.onabort = function() { c(g.error ? g.error : g.transaction.error) } })["catch"](c) } ); return M(f, c), f } function n(a) { var b = this , c = new Promise(function(a, c) { b.ready().then(function() { var d = b.na , f = d.db.transaction(d.ua, "readwrite") , e = f.objectStore(d.ua).clear(); f.oncomplete = function() { a() } ; f.onabort = f.onerror = function() { c(e.error ? e.error : e.transaction.error) } })["catch"](c) } ); return M(c, a), c } function q(a) { var b = this , c = new Promise(function(a, c) { b.ready().then(function() { var d = b.na , f = d.db.transaction(d.ua, "readonly").objectStore(d.ua).count(); f.onsuccess = function() { a(f.result) } ; f.onerror = function() { c(f.error) } })["catch"](c) } ); return M(c, a), c } function Q(a, b) { var c = this , d = new Promise(function(b, d) { return 0 > a ? void b(null) : void c.ready().then(function() { var f = c.na , e = !1 , g = f.db.transaction(f.ua, "readonly").objectStore(f.ua).openCursor(); g.onsuccess = function() { var c = g.result; return c ? void (0 === a ? b(c.key) : e ? b(c.key) : (e = !0, c.advance(a))) : void b(null) } ; g.onerror = function() { d(g.error) } })["catch"](d) } ); return M(d, b), d } function y(a) { var b = this , c = new Promise(function(a, c) { b.ready().then(function() { var d = b.na , f = d.db.transaction(d.ua, "readonly").objectStore(d.ua).openCursor() , e = []; f.onsuccess = function() { var b = f.result; return b ? (e.push(b.key), void b["continue"]()) : void a(e) } ; f.onerror = function() { c(f.error) } })["catch"](c) } ); return M(c, a), c } function M(a, b) { b && a.then(function(a) { b(null, a) }, function(a) { b(a) }) } var T = T || b.indexedDB || b.webkitIndexedDB || b.mozIndexedDB || b.Jp || b.msIndexedDB; if (T) { var F, D, I = "local-forage-detect-blob-support"; return { lh: "asyncStorage", Il: g, yq: B, getItem: k, setItem: J, removeItem: t, clear: n, length: q, key: Q, keys: y } } }("undefined" != typeof window ? window : self); e.zd = h["default"] } , function(e, h, b) { h.ij = !0; h["default"] = function(e) { function h(a, b) { b && a.then(function(a) { b(null, a) }, function(a) { b(a) }) } var p = null; try { if (!(e.localStorage && "setItem"in e.localStorage)) return; p = e.localStorage } catch (m) { return } return { lh: "localStorageWrapper", Il: function(a) { var c = {}; if (a) for (var f in a) c[f] = a[f]; return c.Ed = c.name + "/", c.ua !== this.Gl.ua && (c.Ed += c.ua + "/"), this.na = c, (new Promise(function(a) { a(b(3)) } )).then(function(a) { return c.Tf = a, Promise.resolve() }) }, yq: function(a, b) { var f = this , d = f.ready().then(function() { for (var b = f.na, c = b.Ed, d = c.length, e = p.length, h = 1, l = 0; e > l; l++) { var n = p.key(l); if (0 === n.indexOf(c)) { var m = p.getItem(n); if (m && (m = b.Tf.Jj(m)), m = a(m, n.substring(d), h++), void 0 !== m) return m } } }); return h(d, b), d }, getItem: function(a, b) { var f = this; "string" != typeof a && (e.console.warn(a + " used as a key, but it is not a string."), a = String(a)); var d = f.ready().then(function() { var b = f.na , c = p.getItem(b.Ed + a); return c && (c = b.Tf.Jj(c)), c }); return h(d, b), d }, setItem: function(a, b, f) { var d = this; "string" != typeof a && (e.console.warn(a + " used as a key, but it is not a string."), a = String(a)); var g = d.ready().then(function() { void 0 === b && (b = null); var f = b; return new Promise(function(e, g) { var h = d.na; h.Tf.serialize(b, function(b, c) { if (c) g(c); else try { p.setItem(h.Ed + a, b), e(f) } catch (d) { "QuotaExceededError" !== d.name && "NS_ERROR_DOM_QUOTA_REACHED" !== d.name || g(d), g(d) } }) } ) }); return h(g, f), g }, removeItem: function(a, b) { var f = this; "string" != typeof a && (e.console.warn(a + " used as a key, but it is not a string."), a = String(a)); var d = f.ready().then(function() { p.removeItem(f.na.Ed + a) }); return h(d, b), d }, clear: function(a) { var b = this , f = b.ready().then(function() { for (var a = b.na.Ed, f = p.length - 1; 0 <= f; f--) { var e = p.key(f); 0 === e.indexOf(a) && p.removeItem(e) } }); return h(f, a), f }, length: function(a) { var b = this.keys().then(function(a) { return a.length }); return h(b, a), b }, key: function(a, b) { var f = this , d = f.ready().then(function() { var b, c = f.na; try { b = p.key(a) } catch (d) { b = null } return b && (b = b.substring(c.Ed.length)), b }); return h(d, b), d }, keys: function(a) { var b = this , f = b.ready().then(function() { for (var a = b.na, f = p.length, e = [], k = 0; f > k; k++) 0 === p.key(k).indexOf(a.Ed) && e.push(p.key(k).substring(a.Ed.length)); return e }); return h(f, a), f } } }("undefined" != typeof window ? window : self); e.zd = h["default"] } , function(e, h) { h.ij = !0; h["default"] = function(b) { function e(a) { var b, f, d, g, h; b = .75 * a.length; var k = a.length , l = 0; "=" === a[a.length - 1] && (b--, "=" === a[a.length - 2] && b--); var m = new ArrayBuffer(b) , r = new Uint8Array(m); for (b = 0; k > b; b += 4) f = p.indexOf(a[b]), d = p.indexOf(a[b + 1]), g = p.indexOf(a[b + 2]), h = p.indexOf(a[b + 3]), r[l++] = f << 2 | d >> 4, r[l++] = (15 & d) << 4 | g >> 2, r[l++] = (3 & g) << 6 | 63 & h; return m } function h(a) { var b = new Uint8Array(a) , f = ""; for (a = 0; a < b.length; a += 3) f += p[b[a] >> 2], f += p[(3 & b[a]) << 4 | b[a + 1] >> 4], f += p[(15 & b[a + 1]) << 2 | b[a + 2] >> 6], f += p[63 & b[a + 2]]; return 2 === b.length % 3 ? f = f.substring(0, f.length - 1) + "=" : 1 === b.length % 3 && (f = f.substring(0, f.length - 2) + "=="), f } var p = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" , m = /^~~local_forage_type~([^~]+)~/; return { serialize: function(a, b) { var f = ""; if (a && (f = a.toString()), a && ("[object ArrayBuffer]" === a.toString() || a.buffer && "[object ArrayBuffer]" === a.buffer.toString())) { var d, e = "__lfsc__:"; a instanceof ArrayBuffer ? (d = a, e += "arbf") : (d = a.buffer, "[object Int8Array]" === f ? e += "si08" : "[object Uint8Array]" === f ? e += "ui08" : "[object Uint8ClampedArray]" === f ? e += "uic8" : "[object Int16Array]" === f ? e += "si16" : "[object Uint16Array]" === f ? e += "ur16" : "[object Int32Array]" === f ? e += "si32" : "[object Uint32Array]" === f ? e += "ui32" : "[object Float32Array]" === f ? e += "fl32" : "[object Float64Array]" === f ? e += "fl64" : b(Error("Failed to get type for BinaryArray"))); b(e + h(d)) } else if ("[object Blob]" === f) f = new FileReader, f.onload = function() { var d = "~~local_forage_type~" + a.type + "~" + h(this.result); b("__lfsc__:blob" + d) } , f.readAsArrayBuffer(a); else try { b(JSON.stringify(a)) } catch (l) { console.error("Couldn't convert value into a JSON string: ", a), b(null, l) } }, Jj: function(a) { if ("__lfsc__:" !== a.substring(0, 9)) return JSON.parse(a); var c, f = a.substring(13); a = a.substring(9, 13); if ("blob" === a && m.test(f)) { var d = f.match(m); c = d[1]; f = f.substring(d[0].length) } f = e(f); switch (a) { case "arbf": return f; case "blob": var g; f = [f]; c = { type: c }; f = f || []; c = c || {}; try { g = new Blob(f,c) } catch (h) { if ("TypeError" !== h.name) throw h; g = new (b.BlobBuilder || b.jf || b.Bp || b.WebKitBlobBuilder); for (a = 0; a < f.length; a += 1) g.append(f[a]); g = g.getBlob(c.type) } return g; case "si08": return new Int8Array(f); case "ui08": return new Uint8Array(f); case "uic8": return new Uint8ClampedArray(f); case "si16": return new Int16Array(f); case "ur16": return new Uint16Array(f); case "si32": return new Int32Array(f); case "ui32": return new Uint32Array(f); case "fl32": return new Float32Array(f); case "fl64": return new Float64Array(f); default: throw Error("Unkown type: " + a); } }, yA: e, Yz: h } }("undefined" != typeof window ? window : self); e.zd = h["default"] } , function(e, h, b) { h.ij = !0; h["default"] = function(e) { function h(a) { var c = this , d = { db: null }; if (a) for (var e in a) d[e] = "string" != typeof a[e] ? a[e].toString() : a[e]; var f = new Promise(function(a, b) { try { d.db = B(d.name, String(d.version), d.description, d.size) } catch (e) { return b(e) } d.db.transaction(function(e) { e.executeSql("CREATE TABLE IF NOT EXISTS " + d.ua + " (id INTEGER PRIMARY KEY, key unique, value)", [], function() { c.na = d; a() }, function(a, c) { b(c) }) }) } ); return (new Promise(function(a) { a(b(3)) } )).then(function(a) { return d.Tf = a, f }) } function p(a, b) { var c = this; "string" != typeof a && (e.console.warn(a + " used as a key, but it is not a string."), a = String(a)); var d = new Promise(function(b, d) { c.ready().then(function() { var e = c.na; e.db.transaction(function(c) { c.executeSql("SELECT * FROM " + e.ua + " WHERE key = ? LIMIT 1", [a], function(a, c) { var d = c.rows.length ? c.rows.item(0).value : null; d && (d = e.Tf.Jj(d)); b(d) }, function(a, b) { d(b) }) }) })["catch"](d) } ); return k(d, b), d } function m(a, b) { var c = this , d = new Promise(function(b, d) { c.ready().then(function() { var e = c.na; e.db.transaction(function(c) { c.executeSql("SELECT * FROM " + e.ua, [], function(c, d) { for (var f = d.rows, g = f.length, k = 0; g > k; k++) { var h = f.item(k) , l = h.value; if (l && (l = e.Tf.Jj(l)), l = a(l, h.key, k + 1), void 0 !== l) return void b(l) } b() }, function(a, b) { d(b) }) }) })["catch"](d) } ); return k(d, b), d } function a(a, b, c) { var d = this; "string" != typeof a && (e.console.warn(a + " used as a key, but it is not a string."), a = String(a)); var f = new Promise(function(c, e) { d.ready().then(function() { void 0 === b && (b = null); var f = b , g = d.na; g.Tf.serialize(b, function(b, d) { d ? e(d) : g.db.transaction(function(d) { d.executeSql("INSERT OR REPLACE INTO " + g.ua + " (key, value) VALUES (?, ?)", [a, b], function() { c(f) }, function(a, b) { e(b) }) }, function(a) { a.code === a.QUOTA_ERR && e(a) }) }) })["catch"](e) } ); return k(f, c), f } function c(a, b) { var c = this; "string" != typeof a && (e.console.warn(a + " used as a key, but it is not a string."), a = String(a)); var d = new Promise(function(b, d) { c.ready().then(function() { var e = c.na; e.db.transaction(function(c) { c.executeSql("DELETE FROM " + e.ua + " WHERE key = ?", [a], function() { b() }, function(a, b) { d(b) }) }) })["catch"](d) } ); return k(d, b), d } function f(a) { var b = this , c = new Promise(function(a, c) { b.ready().then(function() { var d = b.na; d.db.transaction(function(b) { b.executeSql("DELETE FROM " + d.ua, [], function() { a() }, function(a, b) { c(b) }) }) })["catch"](c) } ); return k(c, a), c } function d(a) { var b = this , c = new Promise(function(a, c) { b.ready().then(function() { var d = b.na; d.db.transaction(function(b) { b.executeSql("SELECT COUNT(key) as c FROM " + d.ua, [], function(b, c) { var d = c.rows.item(0).qh; a(d) }, function(a, b) { c(b) }) }) })["catch"](c) } ); return k(c, a), c } function g(a, b) { var c = this , d = new Promise(function(b, d) { c.ready().then(function() { var e = c.na; e.db.transaction(function(c) { c.executeSql("SELECT key FROM " + e.ua + " WHERE id = ? LIMIT 1", [a + 1], function(a, c) { var d = c.rows.length ? c.rows.item(0).key : null; b(d) }, function(a, b) { d(b) }) }) })["catch"](d) } ); return k(d, b), d } function w(a) { var b = this , c = new Promise(function(a, c) { b.ready().then(function() { var d = b.na; d.db.transaction(function(b) { b.executeSql("SELECT key FROM " + d.ua, [], function(b, c) { for (var d = [], e = 0; e < c.rows.length; e++) d.push(c.rows.item(e).key); a(d) }, function(a, b) { c(b) }) }) })["catch"](c) } ); return k(c, a), c } function k(a, b) { b && a.then(function(a) { b(null, a) }, function(a) { b(a) }) } var B = e.openDatabase; if (B) return { lh: "webSQLStorage", Il: h, yq: m, getItem: p, setItem: a, removeItem: c, clear: f, length: d, key: g, keys: w } }("undefined" != typeof window ? window : self); e.zd = h["default"] } ]) }; "object" == typeof exports && "object" == typeof module ? module.zd = yc() : "function" == typeof define && define.Xz ? define([], yc) : "object" == typeof exports ? exports.localforage = yc() : this.localforage = yc() } catch (zc) { xc = !0 } function Ac(e) { this.b = e } (function() { function e(a) { a.b.trigger(Ac.prototype.d.dj, a) } function h() {} function b() {} function l() {} var r = "" , p = "" , m = ""; "undefined" !== typeof window.is_scirra_arcade && (m = "sa" + window.scirra_arcade_id + "_"); var a = Ac.prototype; a.ea = function(a) { this.Z = a; this.b = a.b } ; a.ea.prototype.G = function() {} ; a.S = function(a) { this.type = a; this.b = a.b } ; var c = a.S.prototype; c.G = function() { this.sn = this.tn = 0 } ; c.Nf = function() {} ; c.Jb = function() { return {} } ; c.fc = function() {} ; h.prototype.Jt = function(a) { return r === a } ; h.prototype.Bt = function() { return !0 } ; h.prototype.Do = function(a) { return r === a } ; h.prototype.At = function() { return !0 } ; h.prototype.dj = function() { return !0 } ; h.prototype.Co = function(a) { return r === a } ; h.prototype.Eo = function(a) { return r === a } ; h.prototype.wt = function() { return !0 } ; h.prototype.ut = function() { return !0 } ; a.d = new h; b.prototype.ku = function(a, b) { if (xc) e(this); else { var c = m + a; this.tn++; var h = this; localforage.setItem(c, b, function(b, c) { h.tn--; b ? h.b.trigger(Ac.prototype.d.dj, h) : (r = a, p = c, h.b.trigger(Ac.prototype.d.Bt, h), h.b.trigger(Ac.prototype.d.Jt, h), p = r = ""); 0 === h.tn && h.b.trigger(Ac.prototype.d.wt, h) }) } } ; b.prototype.Ys = function(a) { if (xc) e(this); else { var b = m + a; this.sn++; var c = this; localforage.getItem(b, function(b, d) { c.sn--; if (b) c.b.trigger(Ac.prototype.d.dj, c); else { r = a; p = d; if ("undefined" === typeof p || null === p) p = ""; c.b.trigger(Ac.prototype.d.At, c); c.b.trigger(Ac.prototype.d.Do, c); p = r = "" } 0 === c.sn && c.b.trigger(Ac.prototype.d.ut, c) }) } } ; b.prototype.Gs = function(a) { if (xc) e(this); else { var b = this; localforage.getItem(m + a, function(c, e) { c ? b.b.trigger(Ac.prototype.d.dj, b) : (r = a, null === e ? (p = "", b.b.trigger(Ac.prototype.d.Eo, b)) : (p = e, b.b.trigger(Ac.prototype.d.Co, b)), p = r = "") }) } } ; a.k = new b; l.prototype.nt = function(a) { a.Fi(p) } ; a.A = new l } )(); function Bc(e) { this.b = e } (function() { function e() {} function h() {} var b = Bc.prototype; b.ea = function(b) { this.Z = b; this.b = b.b } ; b.ea.prototype.G = function() {} ; b.S = function(b) { this.type = b; this.b = b.b; this.gg = Array(4); this.ls = this.ol = this.Xf = this.Ze = this.Ye = 0; this.ak = !1 } ; var l = b.S.prototype; l.G = function() { var b = this; if (!this.b.xa) { jQuery(document).mousemove(function(a) { b.oi(a) }); jQuery(document).mousedown(function(a) { b.ni(a) }); jQuery(document).mouseup(function(a) { b.pi(a) }); jQuery(document).dblclick(function(a) { b.zx(a) }); var e = function(a) { b.Ix(a) }; document.addEventListener("mousewheel", e, !1); document.addEventListener("DOMMouseScroll", e, !1) } } ; var r = { left: 0, top: 0 }; l.oi = function(b) { var e = this.b.xa ? r : jQuery(this.b.canvas).offset(); this.Ye = b.pageX - e.left; this.Ze = b.pageY - e.top } ; l.br = function() { return 0 < this.b.Qb ? !0 : 0 <= this.Ye && 0 <= this.Ze && this.Ye < this.b.width && this.Ze < this.b.height } ; l.ni = function(b) { this.br() && (this.gg[b.which] = !0, this.b.Ga = !0, this.b.trigger(Bc.prototype.d.zt, this), this.Xf = b.which - 1, this.ol = 0, this.b.trigger(Bc.prototype.d.yo, this), this.b.trigger(Bc.prototype.d.Lo, this), this.b.Ga = !1) } ; l.pi = function(b) { this.gg[b.which] && (this.b.$j && !this.b.de && b.preventDefault(), this.b.$j = !0, this.gg[b.which] = !1, this.b.Ga = !0, this.Xf = b.which - 1, this.b.trigger(Bc.prototype.d.Mo, this), this.b.Ga = !1) } ; l.zx = function(b) { this.br() && (b.preventDefault(), this.b.Ga = !0, this.Xf = b.which - 1, this.ol = 1, this.b.trigger(Bc.prototype.d.yo, this), this.b.trigger(Bc.prototype.d.Lo, this), this.b.Ga = !1) } ; l.Ix = function(b) { this.ls = 0 > (b.wheelDelta ? b.wheelDelta : b.detail ? -b.detail : 0) ? 0 : 1; this.ak = !1; this.b.Ga = !0; this.b.trigger(Bc.prototype.d.So, this); this.b.Ga = !1; this.ak && qb(b) && b.preventDefault() } ; l.Of = function() { var b, e; b = 0; for (e = this.gg.length; b < e; ++b) this.gg[b] && (this.gg[b] = !1, this.Xf = b - 1, this.b.trigger(Bc.prototype.d.Mo, this)) } ; e.prototype.yo = function(b, e) { return b === this.Xf && e === this.ol } ; e.prototype.zt = function() { return !0 } ; e.prototype.Mo = function(b) { return b === this.Xf } ; e.prototype.Lo = function(b, e, a) { return b !== this.Xf || e !== this.ol ? !1 : this.b.Qi(a, this.Ye, this.Ze) } ; e.prototype.So = function(b) { this.ak = !0; return b === this.ls } ; b.d = new e; b.k = new function() {} ; h.prototype.Fl = function(b, e) { var a, c, f, d, g; ia(e) ? (a = this.b.Cd(0), c = a.scale, f = a.Ub, d = a.pc, g = a.g, a.scale = 1, a.Ub = 1, a.pc = 1, a.g = 0, b.n(a.Ca(this.Ye, this.Ze, !0)), a.scale = c, a.Ub = f, a.pc = d, a.g = g) : (a = ja(e) ? this.b.Cd(e) : this.b.rg(e)) ? b.n(a.Ca(this.Ye, this.Ze, !0)) : b.n(0) } ; h.prototype.hj = function(b, e) { var a, c, f, d, g; ia(e) ? (a = this.b.Cd(0), c = a.scale, f = a.Ub, d = a.qc, g = a.g, a.scale = 1, a.Ub = 1, a.qc = 1, a.g = 0, b.n(a.Ca(this.Ye, this.Ze, !1)), a.scale = c, a.Ub = f, a.qc = d, a.g = g) : (a = ja(e) ? this.b.Cd(e) : this.b.rg(e)) ? b.n(a.Ca(this.Ye, this.Ze, !1)) : b.n(0) } ; b.A = new h } )(); function K(e) { this.b = e } (function() { function e() { if (0 === this.Xl.length) { var a = document.createElement("canvas"); a.width = this.width; a.height = this.height; var b = a.getContext("2d"); this.Yg ? b.drawImage(this.R, this.Mg, this.Ng, this.width, this.height, 0, 0, this.width, this.height) : b.drawImage(this.R, 0, 0, this.width, this.height); this.Xl = a.toDataURL("image/png") } return this.Xl } function h() {} function b() {} function l() {} var r = K.prototype; r.ea = function(a) { this.Z = a; this.b = a.b } ; var p = r.ea.prototype; p.G = function() { if (!this.I) { var a, b, c, d, f, g, h, l, m; this.dd = []; this.Gh = !1; a = 0; for (b = this.vc.length; a < b; a++) { f = this.vc[a]; h = {}; h.name = f[0]; h.speed = f[1]; h.loop = f[2]; h.En = f[3]; h.Fn = f[4]; h.ke = f[5]; h.aa = f[6]; h.frames = []; c = 0; for (d = f[7].length; c < d; c++) g = f[7][c], l = {}, l.Xn = g[0], l.Yn = g[1], l.Mg = g[2], l.Ng = g[3], l.width = g[4], l.height = g[5], l.duration = g[6], l.ac = g[7], l.cc = g[8], l.Cm = g[9], l.Ok = g[10], l.yr = g[11], l.Yg = 0 !== l.width, l.Xl = "", l.dA = e, m = { left: 0, top: 0, right: 1, bottom: 1 }, l.Rn = m, l.Ia = null, (m = this.b.iw(g[0])) ? l.R = m : (l.R = new Image, l.R.Xu = g[0], l.R.yp = g[1], l.R.Pu = null, this.b.ys(l.R, g[0])), h.frames.push(l), this.dd.push(l); this.vc[a] = h } } } ; p.vs = function() { var a, b, c; a = 0; for (b = this.c.length; a < b; a++) c = this.c[a], c.Dj = c.Da.Ia } ; p.ln = function() { if (!this.I) { var a, b, c; a = 0; for (b = this.dd.length; a < b; ++a) c = this.dd[a], c.R.Pu = null, c.Ia = null; this.Gh = !1; this.vs() } } ; p.mn = function() { if (!this.I && this.c.length) { var a, b, c; a = 0; for (b = this.dd.length; a < b; ++a) c = this.dd[a], c.Ia = this.b.q.uk(c.R, !1, this.b.ya, c.yr); this.vs() } } ; p.Sm = function() { if (!this.I && !this.Gh && this.b.q) { var a, b, c; a = 0; for (b = this.dd.length; a < b; ++a) c = this.dd[a], c.Ia = this.b.q.uk(c.R, !1, this.b.ya, c.yr); this.Gh = !0 } } ; p.ho = function() { if (!this.I && !this.c.length && this.Gh) { var a, b, c; a = 0; for (b = this.dd.length; a < b; ++a) c = this.dd[a], this.b.q.deleteTexture(c.Ia), c.Ia = null; this.Gh = !1 } } ; var m = []; p.xn = function(a) { var b, c, d; x(m); b = 0; for (c = this.dd.length; b < c; ++b) d = this.dd[b].R, -1 === m.indexOf(d) && (a.drawImage(d, 0, 0), m.push(d)) } ; r.S = function(a) { this.type = a; this.b = a.b; a = this.type.vc[0].frames[0].Ok; this.od ? this.ra.Hi(a) : this.ra = new eb(a) } ; var a = r.S.prototype; a.G = function() { this.visible = 0 === this.ca[0]; this.ck = this.Qh = !1; this.lf = 0 !== this.ca[3]; this.Ea = this.Wp(this.ca[1]) || this.type.vc[0]; this.B = this.ca[2]; 0 > this.B && (this.B = 0); this.B >= this.Ea.frames.length && (this.B = this.Ea.frames.length - 1); var a = this.Ea.frames[this.B]; this.ra.Hi(a.Ok); this.ac = a.ac; this.cc = a.cc; this.jg = this.Ea.speed; this.Me = this.Ea.Fn; 1 === this.type.vc.length && 1 === this.type.vc[0].frames.length || 0 === this.jg || (this.b.ml(this), this.Qh = !0); this.od ? this.xd.reset() : this.xd = new cb; this.Zd = this.xd.X; this.hf = !0; this.Od = 0; this.gf = !0; this.xj = this.jp = ""; this.up = 0; this.wj = -1; this.type.Sm(); var b, c, d, e, f, g, h, a = 0; for (b = this.type.vc.length; a < b; a++) for (e = this.type.vc[a], c = 0, d = e.frames.length; c < d; c++) f = e.frames[c], 0 === f.width && (f.width = f.R.width, f.height = f.R.height), f.Yg && (h = f.R, g = f.Rn, g.left = f.Mg / h.width, g.top = f.Ng / h.height, g.right = (f.Mg + f.width) / h.width, g.bottom = (f.Ng + f.height) / h.height, 0 === f.Mg && 0 === f.Ng && f.width === h.width && f.height === h.height && (f.Yg = !1)); this.Da = this.Ea.frames[this.B]; this.Dj = this.Da.Ia } ; a.Jb = function() { var a = { a: this.Ea.aa, f: this.B, cas: this.jg, fs: this.Zd, ar: this.Od, at: this.xd.X, rt: this.Me }; this.hf || (a.ap = this.hf); this.gf || (a.af = this.gf); return a } ; a.fc = function(a) { var b = this.mw(a.a); b && (this.Ea = b); this.B = a.f; 0 > this.B && (this.B = 0); this.B >= this.Ea.frames.length && (this.B = this.Ea.frames.length - 1); this.jg = a.cas; this.Zd = a.fs; this.Od = a.ar; this.xd.reset(); this.xd.X = a.at; this.hf = a.hasOwnProperty("ap") ? a.ap : !0; this.gf = a.hasOwnProperty("af") ? a.af : !0; a.hasOwnProperty("rt") ? this.Me = a.rt : this.Me = this.Ea.Fn; this.Da = this.Ea.frames[this.B]; this.Dj = this.Da.Ia; this.ra.Hi(this.Da.Ok); this.ac = this.Da.ac; this.cc = this.Da.cc } ; a.Kl = function(a) { this.B = a ? 0 : this.Ea.frames.length - 1; this.hf = !1; this.jp = this.Ea.name; this.ck = !0; this.b.trigger(K.prototype.d.yt, this); this.b.trigger(K.prototype.d.xt, this); this.ck = !1; this.Od = 0 } ; a.jf = function() { return this.xd.X } ; a.xb = function() { this.xd.add(this.b.om(this)); this.xj.length && this.Ep(); 0 <= this.wj && this.Fp(); var a = this.xd.X , b = this.Ea , c = b.frames[this.B] , d = c.duration / this.jg; this.hf && a >= this.Zd + d && (this.gf ? this.B++ : this.B--, this.Zd += d, this.B >= b.frames.length && (b.ke ? (this.gf = !1, this.B = b.frames.length - 2) : b.loop ? this.B = this.Me : (this.Od++, this.Od >= b.En ? this.Kl(!1) : this.B = this.Me)), 0 > this.B && (b.ke ? (this.B = 1, this.gf = !0, b.loop || (this.Od++, this.Od >= b.En && this.Kl(!0))) : b.loop ? this.B = this.Me : (this.Od++, this.Od >= b.En ? this.Kl(!0) : this.B = this.Me)), 0 > this.B ? this.B = 0 : this.B >= b.frames.length && (this.B = b.frames.length - 1), a > this.Zd + b.frames[this.B].duration / this.jg && (this.Zd = a), a = b.frames[this.B], this.bg(c, a), this.b.ka = !0) } ; a.Wp = function(a) { var b, c, d; b = 0; for (c = this.type.vc.length; b < c; b++) if (d = this.type.vc[b], pb(d.name, a)) return d; return null } ; a.mw = function(a) { var b, c, d; b = 0; for (c = this.type.vc.length; b < c; b++) if (d = this.type.vc[b], d.aa === a) return d; return null } ; a.Ep = function() { var a = this.Ea.frames[this.B] , b = this.Wp(this.xj); this.xj = ""; !b || pb(b.name, this.Ea.name) && this.hf || (this.Ea = b, this.jg = b.speed, this.Me = b.Fn, 0 > this.B && (this.B = 0), this.B >= this.Ea.frames.length && (this.B = this.Ea.frames.length - 1), 1 === this.up && (this.B = 0), this.hf = !0, this.Zd = this.xd.X, this.gf = !0, this.bg(a, this.Ea.frames[this.B]), this.b.ka = !0) } ; a.Fp = function() { var a = this.Ea.frames[this.B] , b = this.B; this.B = sa(this.wj); 0 > this.B && (this.B = 0); this.B >= this.Ea.frames.length && (this.B = this.Ea.frames.length - 1); b !== this.B && (this.bg(a, this.Ea.frames[this.B]), this.Zd = this.xd.X, this.b.ka = !0); this.wj = -1 } ; a.bg = function(a, b) { var c = a.width , d = a.height , e = b.width , f = b.height; c != e && (this.width *= e / c); d != f && (this.height *= f / d); this.ac = b.ac; this.cc = b.cc; this.ra.Hi(b.Ok); this.Aa(); this.Da = b; this.Dj = b.Ia; c = 0; for (d = this.C.length; c < d; c++) e = this.C[c], e.Fx && e.Fx(a, b); this.b.trigger(K.prototype.d.bg, this) } ; a.jd = function(a) { a.globalAlpha = this.opacity; var b = this.Da , c = b.Yg , d = b.R , e = this.x , f = this.y , g = this.width , h = this.height; if (0 === this.g && 0 <= g && 0 <= h) e -= this.ac * g, f -= this.cc * h, this.b.le && (e = Math.round(e), f = Math.round(f)), c ? a.drawImage(d, b.Mg, b.Ng, b.width, b.height, e, f, g, h) : a.drawImage(d, e, f, g, h); else { this.b.le && (e = Math.round(e), f = Math.round(f)); a.save(); var l = 0 < g ? 1 : -1 , m = 0 < h ? 1 : -1; a.translate(e, f); 1 === l && 1 === m || a.scale(l, m); a.rotate(this.g * l * m); e = 0 - this.ac * na(g); f = 0 - this.cc * na(h); c ? a.drawImage(d, b.Mg, b.Ng, b.width, b.height, e, f, na(g), na(h)) : a.drawImage(d, e, f, na(g), na(h)); a.restore() } } ; a.of = function(a) { this.Ob(a) } ; a.Ob = function(a) { a.wb(this.Dj); a.bf(this.opacity); var b = this.Da , c = this.Xb; if (this.b.le) { var d = Math.round(this.x) - this.x , e = Math.round(this.y) - this.y; b.Yg ? a.ne(c.yb + d, c.zb + e, c.ic + d, c.jc + e, c.Yb + d, c.Zb + e, c.Vb + d, c.Wb + e, b.Rn) : a.Pf(c.yb + d, c.zb + e, c.ic + d, c.jc + e, c.Yb + d, c.Zb + e, c.Vb + d, c.Wb + e) } else b.Yg ? a.ne(c.yb, c.zb, c.ic, c.jc, c.Yb, c.Zb, c.Vb, c.Wb, b.Rn) : a.Pf(c.yb, c.zb, c.ic, c.jc, c.Yb, c.Zb, c.Vb, c.Wb) } ; a.sw = function(a) { var b = this.Da, c, d; c = 0; for (d = b.Cm.length; c < d; c++) if (pb(a, b.Cm[c][0])) return c; return -1 } ; a.Ah = function(a, b) { var c = this.Da, d = c.Cm, e; ka(a) ? e = this.sw(a) : e = a - 1; e = sa(e); if (0 > e || e >= d.length) return b ? this.x : this.y; var f = (d[e][1] - c.ac) * this.width , d = d[e][2] , d = (d - c.cc) * this.height , c = Math.cos(this.g); e = Math.sin(this.g); var g = f * c - d * e , d = d * c + f * e , f = g + this.x , d = d + this.y; return b ? f : d } ; var c = null , f = new ea , d = !1 , g = [] , w = new va(0,0,0,0); p.finish = function(a) { if (d) { if (a) { var b = this.b.Ta().Xa.Nc; a = c.M(); var e = f.bd(), g, h; if (a.P) { a.P = !1; x(a.c); g = 0; for (h = e.length; g < h; ++g) a.c[g] = e[g]; if (b) for (x(a.L), g = 0, h = c.c.length; g < h; ++g) e = c.c[g], f.contains(e) || a.L.push(e) } else if (b) for (b = a.c.length, g = 0, h = e.length; g < h; ++g) a.c[b + g] = e[g], Ea(a.L, e[g]); else Aa(a.c, e); c.ed() } f.clear(); d = !1 } } ; h.prototype.lt = function(a) { if (a) { var b = !1, e, h, l, m = this.b.Xj(), r = m.type, m = m.dk; e = a.M(); h = this.b.Ta().Xa.Nc; var p; e.P ? (this.va(), w.ig(this.qa), w.offset(0, 0), this.b.pw(this.j, a, w, g), p = g) : p = h ? this.b.Yw() && !e.L.length && e.c.length ? e.c : e.L : e.c; c = a; d = r !== a && !m; e = 0; for (h = p.length; e < h; e++) if (l = p[e], this.b.es(this, l)) { b = !0; if (m) break; r !== a && f.add(l) } x(g); a = b } else a = !1; return a } ; h.prototype.Ls = function(a, b) { return hc(this.B, a, b) } ; h.prototype.xt = function(a) { return pb(this.jp, a) } ; h.prototype.yt = function() { return !0 } ; h.prototype.bg = function() { return !0 } ; r.d = new h; b.prototype.vu = function(a, b, c) { if (a && b && (b = this.b.Bj(a, b, this.Ah(c, !0), this.Ah(c, !1)))) { "undefined" !== typeof b.g && (b.g = this.g, b.Aa()); this.b.Lc++; var d, e, f; this.b.trigger(Object.getPrototypeOf(a.Z).d.ag, b); if (b.Sb) for (d = 0, e = b.siblings.length; d < e; d++) f = b.siblings[d], this.b.trigger(Object.getPrototypeOf(f.type.Z).d.ag, f); this.b.Lc--; d = this.b.qw(); c = !1; if (ia(d.wa.Spawn_LastExec) || d.wa.Spawn_LastExec < this.b.uf) c = !0, d.wa.Spawn_LastExec = this.b.uf; if (a != this.type && (a = a.M(), a.P = !1, c ? (x(a.c), a.c[0] = b) : a.c.push(b), b.Sb)) for (d = 0, e = b.siblings.length; d < e; d++) f = b.siblings[d], a = f.type.M(), a.P = !1, c ? (x(a.c), a.c[0] = f) : a.c.push(f) } } ; b.prototype.Dl = function(a) { this.rb = a; this.Rd = mb(a); nb(this, a, this.b.p); this.b.ka = !0 } ; b.prototype.fu = function(a, b) { this.xj = a; this.up = b; this.Qh || (this.b.ml(this), this.Qh = !0); this.ck || this.Ep() } ; b.prototype.gu = function(a) { this.wj = a; this.Qh || (this.b.ml(this), this.Qh = !0); this.ck || this.Fp() } ; b.prototype.ou = function(a) { var b = this.Da , c = b.width * a * (0 > this.width ? -1 : 1); a = b.height * a * (0 > this.height ? -1 : 1); if (this.width !== c || this.height !== a) this.width = c, this.height = a, this.Aa() } ; r.k = new b; l.prototype.Ds = function(a) { a.V(this.B) } ; l.prototype.Es = function(a) { a.V(this.Ea.frames.length) } ; l.prototype.vo = function(a) { a.n(this.Da.width) } ; l.prototype.uo = function(a) { a.n(this.Da.height) } ; r.A = new l } )(); function Cc(e) { this.b = e } (function() { function e() {} function h() {} var b = Cc.prototype; b.ea = function(b) { this.Z = b; this.b = b.b } ; var l = b.ea.prototype; l.G = function() { this.I || (this.R = new Image, this.R.yp = this.Yn, this.b.ys(this.R, this.Xn), this.Ia = this.pattern = null) } ; l.ln = function() { this.I || (this.Ia = null) } ; l.mn = function() { if (!this.I && this.c.length) { this.Ia || (this.Ia = this.b.q.uk(this.R, !0, this.b.ya, this.Zn)); var b, e; b = 0; for (e = this.c.length; b < e; b++) this.c[b].Ia = this.Ia } } ; l.Sm = function() { this.I || this.Ia || !this.b.q || (this.Ia = this.b.q.uk(this.R, !0, this.b.ya, this.Zn)) } ; l.ho = function() { this.I || this.c.length || !this.Ia || (this.b.q.deleteTexture(this.Ia), this.Ia = null) } ; l.xn = function(b) { b.drawImage(this.R, 0, 0) } ; b.S = function(b) { this.type = b; this.b = b.b } ; l = b.S.prototype; l.G = function() { this.visible = 0 === this.ca[0]; this.Ai = new va(0,0,0,0); this.iq = !1; this.R = this.type.R; this.b.q ? (this.type.Sm(), this.Ia = this.type.Ia) : (this.type.pattern || (this.type.pattern = this.b.ja.createPattern(this.type.R, "repeat")), this.pattern = this.type.pattern) } ; l.wd = function() { this.iq = !1; this.R = this.type.R } ; l.Nf = function() { this.b.q && this.iq && this.Ia && (this.b.q.deleteTexture(this.Ia), this.Ia = null) } ; l.jd = function(b) { b.globalAlpha = this.opacity; b.save(); b.fillStyle = this.pattern; var e = this.x , h = this.y; this.b.le && (e = Math.round(e), h = Math.round(h)); var a = -(this.ac * this.width) , c = -(this.cc * this.height) , f = a % this.R.width , d = c % this.R.height; 0 > f && (f += this.R.width); 0 > d && (d += this.R.height); b.translate(e, h); b.rotate(this.g); b.translate(f, d); b.fillRect(a - f, c - d, this.width, this.height); b.restore() } ; l.of = function(b) { this.Ob(b) } ; l.Ob = function(b) { b.wb(this.Ia); b.bf(this.opacity); var e = this.Ai; e.right = this.width / this.R.width; e.bottom = this.height / this.R.height; var h = this.Xb; if (this.b.le) { var a = Math.round(this.x) - this.x , c = Math.round(this.y) - this.y; b.ne(h.yb + a, h.zb + c, h.ic + a, h.jc + c, h.Yb + a, h.Zb + c, h.Vb + a, h.Wb + c, e) } else b.ne(h.yb, h.zb, h.ic, h.jc, h.Yb, h.Zb, h.Vb, h.Wb, e) } ; b.d = new function() {} ; e.prototype.Dl = function(b) { this.rb = b; this.Rd = mb(b); nb(this, b, this.b.p); this.b.ka = !0 } ; b.k = new e; h.prototype.vo = function(b) { b.n(this.R.width) } ; h.prototype.uo = function(b) { b.n(this.R.height) } ; b.A = new h } )(); function U(e) { this.b = e } (function() { function e(a) { c = a.x; f = a.y; d = a.z } function h(a, c, d, e) { var f; f = g.length ? g.pop() : new b; f.init(a, c, d, e); return f } function b() { this.Mi = this.id = this.pk = this.ok = this.y = this.x = this.hl = this.gl = this.nk = this.time = this.Vn = 0; this.Vi = this.pl = !1 } function l() {} function r() {} var p = U.prototype; p.ea = function(a) { this.Z = a; this.b = a.b } ; p.ea.prototype.G = function() {} ; p.S = function(a) { this.type = a; this.b = a.b; this.touches = []; this.$m = !1 } ; var m = p.S.prototype , a = { left: 0, top: 0 }; m.yh = function(a) { var b, c; b = 0; for (c = this.touches.length; b < c; b++) if (this.touches[b].id === a) return b; return -1 } ; var c = 0 , f = 0 , d = 0 , g = []; b.prototype.init = function(a, b, c, d) { var e = Za(); this.Vn = this.nk = this.time = e; this.gl = a; this.hl = b; this.x = a; this.y = b; this.ok = a; this.pk = b; this.pressure = this.height = this.width = 0; this.id = c; this.Mi = d; this.Vi = this.pl = !1 } ; b.prototype.update = function(a, b, c, d, e, f) { this.nk = this.time; this.time = a; this.ok = this.x; this.pk = this.y; this.x = b; this.y = c; this.width = d; this.height = e; this.pressure = f; !this.Vi && 15 <= Ta(this.gl, this.hl, this.x, this.y) && (this.Vi = !0) } ; b.prototype.tx = function(a, b) { !this.pl && 500 <= Za() - this.Vn && !this.Vi && 15 > Ta(this.gl, this.hl, this.x, this.y) && (this.pl = !0, a.Md = this.Mi, a.dh = this.id, a.sg = b, a.b.trigger(U.prototype.d.Ht, a), a.Td = this.x, a.Ud = this.y, a.b.trigger(U.prototype.d.It, a), a.sg = 0) } ; var w = -1E3 , k = -1E3 , B = -1E4; b.prototype.Xq = function(a, b) { if (!this.pl) { var c = Za(); 333 >= c - this.Vn && !this.Vi && 15 > Ta(this.gl, this.hl, this.x, this.y) && (a.Md = this.Mi, a.dh = this.id, a.sg = b, 666 >= c - B && 25 > Ta(w, k, this.x, this.y) ? (a.b.trigger(U.prototype.d.Ft, a), a.Td = this.x, a.Ud = this.y, a.b.trigger(U.prototype.d.Gt, a), k = w = -1E3, B = -1E4) : (a.b.trigger(U.prototype.d.Oo, a), a.Td = this.x, a.Ud = this.y, a.b.trigger(U.prototype.d.Po, a), w = this.x, k = this.y, B = c), a.sg = 0) } } ; m.G = function() { this.dx = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8); this.sg = this.dh = this.Md = this.Ud = this.Td = this.dp = this.cp = this.bp = this.Gu = this.Fu = this.Eu = this.Kk = this.Jk = this.Ik = 0; this.Ky = 0 !== this.ca[0]; var a = 0 < this.b.Qb ? document : this.b.canvas , b = document; this.b.Eb ? b = a = window.Canvas : this.b.nc && (b = a = window); var c = this; "undefined" !== typeof PointerEvent ? (a.addEventListener("pointerdown", function(a) { c.ri(a) }, !1), a.addEventListener("pointermove", function(a) { c.qi(a) }, !1), b.addEventListener("pointerup", function(a) { c.ie(a, !1) }, !1), b.addEventListener("pointercancel", function(a) { c.ie(a, !0) }, !1), this.b.canvas && (this.b.canvas.addEventListener("MSGestureHold", function(a) { a.preventDefault() }, !1), document.addEventListener("MSGestureHold", function(a) { a.preventDefault() }, !1), this.b.canvas.addEventListener("gesturehold", function(a) { a.preventDefault() }, !1), document.addEventListener("gesturehold", function(a) { a.preventDefault() }, !1))) : window.navigator.msPointerEnabled ? (a.addEventListener("MSPointerDown", function(a) { c.ri(a) }, !1), a.addEventListener("MSPointerMove", function(a) { c.qi(a) }, !1), b.addEventListener("MSPointerUp", function(a) { c.ie(a, !1) }, !1), b.addEventListener("MSPointerCancel", function(a) { c.ie(a, !0) }, !1), this.b.canvas && (this.b.canvas.addEventListener("MSGestureHold", function(a) { a.preventDefault() }, !1), document.addEventListener("MSGestureHold", function(a) { a.preventDefault() }, !1))) : (a.addEventListener("touchstart", function(a) { c.Hk(a) }, !1), a.addEventListener("touchmove", function(a) { c.Gk(a) }, !1), b.addEventListener("touchend", function(a) { c.Pg(a, !1) }, !1), b.addEventListener("touchcancel", function(a) { c.Pg(a, !0) }, !1)); if (this.dx) { var d = function(a) { a = a.reading; c.bp = a.accelerationX; c.cp = a.accelerationY; c.dp = a.accelerationZ } , f = function(a) { a = a.reading; c.Ik = a.yawDegrees; c.Jk = a.pitchDegrees; c.Kk = a.rollDegrees } , g = Windows.Devices.Sensors.Accelerometer.getDefault(); g && (g.reportInterval = Math.max(g.minimumReportInterval, 16), g.addEventListener("readingchanged", d)); var h = Windows.Devices.Sensors.Inclinometer.getDefault(); h && (h.reportInterval = Math.max(h.minimumReportInterval, 16), h.addEventListener("readingchanged", f)); document.addEventListener("visibilitychange", function() { document.hidden || document.msHidden ? (g && g.removeEventListener("readingchanged", d), h && h.removeEventListener("readingchanged", f)) : (g && g.addEventListener("readingchanged", d), h && h.addEventListener("readingchanged", f)) }, !1) } else window.addEventListener("deviceorientation", function(a) { c.Ik = a.alpha || 0; c.Jk = a.beta || 0; c.Kk = a.gamma || 0 }, !1), window.addEventListener("devicemotion", function(a) { a.accelerationIncludingGravity && (c.Eu = a.accelerationIncludingGravity.x || 0, c.Fu = a.accelerationIncludingGravity.y || 0, c.Gu = a.accelerationIncludingGravity.z || 0); a.acceleration && (c.bp = a.acceleration.x || 0, c.cp = a.acceleration.y || 0, c.dp = a.acceleration.z || 0) }, !1); this.Ky && !this.b.xa && (jQuery(document).mousemove(function(a) { c.oi(a) }), jQuery(document).mousedown(function(a) { c.ni(a) }), jQuery(document).mouseup(function(a) { c.pi(a) })); !this.b.Bg && this.b.oc && navigator.accelerometer && navigator.accelerometer.watchAcceleration && navigator.accelerometer.watchAcceleration(e, null, { frequency: 40 }); this.b.Cy(this) } ; m.qi = function(b) { if (b.pointerType !== b.MSPOINTER_TYPE_MOUSE && "mouse" !== b.pointerType) { b.preventDefault && b.preventDefault(); var c = this.yh(b.pointerId) , d = Za(); if (0 <= c) { var e = this.b.xa ? a : jQuery(this.b.canvas).offset() , c = this.touches[c]; 2 > d - c.time || c.update(d, b.pageX - e.left, b.pageY - e.top, b.width || 0, b.height || 0, b.pressure || 0) } } } ; m.ri = function(b) { if (b.pointerType !== b.MSPOINTER_TYPE_MOUSE && "mouse" !== b.pointerType) { b.preventDefault && qb(b) && b.preventDefault(); var c = this.b.xa ? a : jQuery(this.b.canvas).offset() , d = b.pageX - c.left , c = b.pageY - c.top; Za(); this.Md = this.touches.length; this.dh = b.pointerId; this.touches.push(h(d, c, b.pointerId, this.Md)); this.b.Ga = !0; this.b.trigger(U.prototype.d.Ko, this); this.b.trigger(U.prototype.d.Cl, this); this.Td = d; this.Ud = c; this.b.trigger(U.prototype.d.Ro, this); this.b.Ga = !1 } } ; m.ie = function(a, b) { if (a.pointerType !== a.MSPOINTER_TYPE_MOUSE && "mouse" !== a.pointerType) { a.preventDefault && qb(a) && a.preventDefault(); var c = this.yh(a.pointerId); this.Md = 0 <= c ? this.touches[c].Mi : -1; this.dh = 0 <= c ? this.touches[c].id : -1; this.b.Ga = !0; this.b.trigger(U.prototype.d.Jo, this); this.b.trigger(U.prototype.d.Qo, this); 0 <= c && (b || this.touches[c].Xq(this, c), 100 > g.length && g.push(this.touches[c]), this.touches.splice(c, 1)); this.b.Ga = !1 } } ; m.Gk = function(b) { b.preventDefault && b.preventDefault(); var c = Za(), d, e, f, g; d = 0; for (e = b.changedTouches.length; d < e; d++) if (f = b.changedTouches[d], g = this.yh(f.identifier), 0 <= g) { var h = this.b.xa ? a : jQuery(this.b.canvas).offset(); g = this.touches[g]; 2 > c - g.time || g.update(c, f.pageX - h.left, f.pageY - h.top, 2 * (f.uA || f.DA || f.lA || f.pA || 0), 2 * (f.vA || f.EA || f.mA || f.qA || 0), f.bA || f.BA || f.jA || f.nA || 0) } } ; m.Hk = function(b) { b.preventDefault && qb(b) && b.preventDefault(); var c = this.b.xa ? a : jQuery(this.b.canvas).offset(); Za(); this.b.Ga = !0; var d, e, f, g; d = 0; for (e = b.changedTouches.length; d < e; d++) if (f = b.changedTouches[d], g = this.yh(f.identifier), -1 === g) { g = f.pageX - c.left; var k = f.pageY - c.top; this.Md = this.touches.length; this.dh = f.identifier; this.touches.push(h(g, k, f.identifier, this.Md)); this.b.trigger(U.prototype.d.Ko, this); this.b.trigger(U.prototype.d.Cl, this); this.Td = g; this.Ud = k; this.b.trigger(U.prototype.d.Ro, this) } this.b.Ga = !1 } ; m.Pg = function(a, b) { a.preventDefault && qb(a) && a.preventDefault(); this.b.Ga = !0; var c, d, e; c = 0; for (d = a.changedTouches.length; c < d; c++) e = a.changedTouches[c], e = this.yh(e.identifier), 0 <= e && (this.Md = this.touches[e].Mi, this.dh = this.touches[e].id, this.b.trigger(U.prototype.d.Jo, this), this.b.trigger(U.prototype.d.Qo, this), b || this.touches[e].Xq(this, e), 100 > g.length && g.push(this.touches[e]), this.touches.splice(e, 1)); this.b.Ga = !1 } ; m.jf = function() { return this.b.oc && 0 === this.Ik && 0 !== d ? 90 * d : this.Ik } ; m.Bp = function() { return this.b.oc && 0 === this.Jk && 0 !== f ? 90 * f : this.Jk } ; m.Jp = function() { return this.b.oc && 0 === this.Kk && 0 !== c ? 90 * c : this.Kk } ; m.ni = function(a) { this.Hk({ changedTouches: [{ pageX: a.pageX, pageY: a.pageY, identifier: 0 }] }); this.$m = !0 } ; m.oi = function(a) { this.$m && this.Gk({ changedTouches: [{ pageX: a.pageX, pageY: a.pageY, identifier: 0 }] }) } ; m.pi = function(a) { a.preventDefault && this.b.$j && !this.b.de && a.preventDefault(); this.b.$j = !0; this.Pg({ changedTouches: [{ pageX: a.pageX, pageY: a.pageY, identifier: 0 }] }); this.$m = !1 } ; m.Ti = function() { var a, b, c, d = Za(); a = 0; for (b = this.touches.length; a < b; ++a) c = this.touches[a], c.time <= d - 50 && (c.nk = d), c.tx(this, a) } ; l.prototype.Cl = function() { return !0 } ; l.prototype.Qo = function() { return !0 } ; l.prototype.jt = function() { return this.touches.length } ; l.prototype.Ro = function(a) { return a ? this.b.Qi(a, this.Td, this.Ud) : !1 } ; var J = []; l.prototype.mt = function(a) { if (!a) return !1; var b = a.M(), c = b.xc(), d, e, f, g, h, k; f = 0; for (g = c.length; f < g; f++) { var l = c[f]; l.va(); h = 0; for (k = this.touches.length; h < k; h++) if (e = this.touches[h], d = l.j.Ca(e.x, e.y, !0), e = l.j.Ca(e.x, e.y, !1), l.Ab(d, e)) { J.push(l); break } } return J.length ? (b.P = !1, Aa(b.c, J), a.ed(), x(J), !0) : !1 } ; l.prototype.Os = function(a, b, c) { a = Math.floor(a); if (0 > a || a >= this.touches.length) return !1; var d = this.touches[a]; a = Ta(d.x, d.y, d.ok, d.pk); var d = (d.time - d.nk) / 1E3 , e = 0; 0 < d && (e = a / d); return hc(e, b, c) } ; l.prototype.Ko = function(a) { a = Math.floor(a); return a === this.Md } ; l.prototype.Jo = function(a) { a = Math.floor(a); return a === this.Md } ; l.prototype.Ht = function() { return !0 } ; l.prototype.Oo = function() { return !0 } ; l.prototype.Ft = function() { return !0 } ; l.prototype.It = function(a) { return a ? this.b.Qi(a, this.Td, this.Ud) : !1 } ; l.prototype.Po = function(a) { return a ? this.b.Qi(a, this.Td, this.Ud) : !1 } ; l.prototype.Gt = function(a) { return a ? this.b.Qi(a, this.Td, this.Ud) : !1 } ; p.d = new l; r.prototype.Fl = function(a, b) { var c = this.sg; if (0 > c || c >= this.touches.length) a.n(0); else { var d, e, f, g, h; ia(b) ? (d = this.b.Cd(0), e = d.scale, f = d.Ub, g = d.pc, h = d.g, d.scale = 1, d.Ub = 1, d.pc = 1, d.g = 0, a.n(d.Ca(this.touches[c].x, this.touches[c].y, !0)), d.scale = e, d.Ub = f, d.pc = g, d.g = h) : (d = ja(b) ? this.b.Cd(b) : this.b.rg(b)) ? a.n(d.Ca(this.touches[c].x, this.touches[c].y, !0)) : a.n(0) } } ; r.prototype.hj = function(a, b) { var c = this.sg; if (0 > c || c >= this.touches.length) a.n(0); else { var d, e, f, g, h; ia(b) ? (d = this.b.Cd(0), e = d.scale, f = d.Ub, g = d.qc, h = d.g, d.scale = 1, d.Ub = 1, d.qc = 1, d.g = 0, a.n(d.Ca(this.touches[c].x, this.touches[c].y, !1)), d.scale = e, d.Ub = f, d.qc = g, d.g = h) : (d = ja(b) ? this.b.Cd(b) : this.b.rg(b)) ? a.n(d.Ca(this.touches[c].x, this.touches[c].y, !1)) : a.n(0) } } ; r.prototype.Bs = function(a, b) { b = Math.floor(b); if (0 > b || b >= this.touches.length) a.n(0); else { var c = this.touches[b]; a.n(Ha(Na(c.ok, c.pk, c.x, c.y))) } } ; p.A = new r } )(); function Dc(e) { this.b = e } (function() { function e() {} var h = Dc.prototype; h.ea = function(b) { this.Z = b; this.b = b.b } ; h.ea.prototype.G = function() {} ; h.S = function(b) { this.type = b; this.b = b.b } ; var b = h.S.prototype; b.G = function() { this.visible = 0 === this.ca[0]; this.Qf = this.width; this.Rf = this.height; var b = this.b.q; b ? (this.Dc = b.$b(this.Qf, this.Rf, this.b.ya, !1), this.Pi = b.$b(this.Qf, this.Rf, this.b.ya, !1), this.An = b.$b(1, 1, this.b.ya, !1), b.wb(null), b.Kb(this.An), b.clear(0, 0, 0, 1), b.Kb(null), this.Hr = {}, this.Hr.qb = b.p.ONE, this.Hr.eb = b.p.ONE_MINUS_SRC_ALPHA) : (this.canvas = document.createElement("canvas"), this.canvas.width = this.Qf, this.canvas.height = this.Rf, this.ja = this.canvas.getContext("2d"), this.b.ya || (this.ja.kA = !1, this.ja.CA = !1, this.ja.oA = !1, this.ja.fA = !1), this.fill = "black") } ; b.Nf = function() { this.Dc && (this.b.q.deleteTexture(this.Dc), this.b.q.deleteTexture(this.An), this.b.q.deleteTexture(this.Pi)); this.ja = this.canvas = this.Pi = this.An = this.Dc = null } ; b.Jb = function() { return {} } ; b.fc = function() {} ; b.jf = function() { var b = this.b.q , e = this.b.canvas; if (b) { if (null == this.type.Z.tp) { var h = document.createElement("canvas"); h.width = 1; h.height = 2; h = h.getContext("experimental-webgl"); h.clearColor(1, 1, 1, 1); h.clear(h.COLOR_BUFFER_BIT); var m = h.createProgram() , a = h.createShader(h.VERTEX_SHADER); h.shaderSource(a, "attribute vec3 pos;void main() {gl_Position = vec4(pos, 1.0);}"); h.compileShader(a); h.attachShader(m, a); a = h.createShader(h.FRAGMENT_SHADER); h.shaderSource(a, "void main() {gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);}"); h.compileShader(a); h.attachShader(m, a); h.linkProgram(m); h.useProgram(m); h.bindBuffer(h.ARRAY_BUFFER, h.createBuffer()); h.bufferData(h.ARRAY_BUFFER, new Float32Array([-1, -1, 0, 1, -1, 0, -1, 0, 0, 1, 0, 0]), h.STATIC_DRAW); m = h.getAttribLocation(m, "pos"); h.enableVertexAttribArray(m); h.vertexAttribPointer(m, 3, h.FLOAT, !1, 0, 0); h.drawArrays(h.TRIANGLE_STRIP, 0, 4); m = h.createTexture(); h.bindTexture(h.TEXTURE_2D, m); h.texImage2D(h.TEXTURE_2D, 0, h.RGBA, h.RGBA, h.UNSIGNED_BYTE, h.canvas); h.bindTexture(h.TEXTURE_2D, null); h.bindFramebuffer(h.FRAMEBUFFER, h.createFramebuffer()); h.framebufferTexture2D(h.FRAMEBUFFER, h.COLOR_ATTACHMENT0, h.TEXTURE_2D, m, 0); a = new Uint8Array(8); h.readPixels(0, 0, 1, 2, h.RGBA, h.UNSIGNED_BYTE, a); h.bindFramebuffer(h.FRAMEBUFFER, null); this.type.Z.tp = 0 == a[0]; h.deleteTexture(m) } if (this.Dc.He != e.width || this.Dc.Ge != e.height) b.deleteTexture(this.Dc), this.Dc = null; null == this.Dc && (this.Dc = b.$b(e.width, e.height, this.b.ya, this.b.de)); this.type.Z.tp && b.p.pixelStorei(b.p.UNPACK_FLIP_Y_WEBGL, !0); b.My(e, this.Dc, this.b.de); b.p.pixelStorei(b.p.UNPACK_FLIP_Y_WEBGL, !1) } else this.canvas.width = e.width, this.canvas.height = e.height, this.ja.drawImage(e, 0, 0, e.width, e.height) } ; b.jd = function(b) { b.globalAlpha = this.opacity; b.save(); b.translate(this.x, this.y); var e = 0 < this.width ? 1 : -1 , h = 0 < this.height ? 1 : -1; 1 === e && 1 === h || b.scale(e, h); b.rotate(this.g * e * h); b.drawImage(this.canvas, 0 - this.ac * na(this.width), 0 - this.cc * na(this.height), na(this.width), na(this.height)); b.restore() } ; b.Ob = function(b) { b.wb(this.Dc); b.bf(this.opacity); var e = this.Xb; b.Pf(e.yb, e.zb, e.ic, e.jc, e.Yb, e.Zb, e.Vb, e.Wb) } ; h.d = new function() {} ; e.prototype.Dl = function(b) { this.Rd = mb(b); nb(this, b, this.b.p); this.b.ka = !0 } ; e.prototype.$t = function(b) { b = b.M(); b = b.P ? b.type.c : b.c; this.va(); var e, h, m, a = this.b.q; if (a) { if (!this.Dc) return; var c = a.width , f = a.height; a.pe(this.Qf, this.Rf); a.wb(null); a.Kb(this.Dc); a.Oc(); a.scale(this.Qf / this.width, -this.Rf / this.height); a.Ci(-this.g); a.translate((this.qa.left + this.qa.right) / -2, (this.qa.top + this.qa.bottom) / -2); a.Ec(); var d = 0, g = 0, w, k; h = 0; for (m = b.length; h < m; h++) if (e = b[h], this != e && e.visible && 0 !== e.width && 0 !== e.height && (e.va(), this.qa.pq(e.qa))) if (e.no) for (w = 0, k = e.Y.length; w < k; ++w) a.wb(null), a.Kb(this.Pi), a.clear(0, 0, 0, 0), d = e.Y[w].Va, g = e.Y[w].index, a.Lb(d), a.Kd(e.qb, e.eb), a.Uf(this.Pi, 1 / e.width, 1 / e.height, 0, 1, 1, 0, 1, 0, 0, 0, .5, .5, this.b.hb.X, e.Ka[g]), e.Ob(a), a.Lb(0), a.wb(null), a.Kb(this.Dc), a.wb(this.Pi), a.Oc(), a.scale(this.Qf, -this.Rf), a.translate(-.5, -.5), a.Ec(), a.bf(e.opacity), a.Mn(), a.Pf(0, 0, 1, 0, 1, 1, 0, 1), a.Oc(), a.scale(this.Qf / this.width, -this.Rf / this.height), a.Ci(-this.g), a.translate((this.qa.left + this.qa.right) / -2, (this.qa.top + this.qa.bottom) / -2), a.Ec(); else a.Lb(0), a.Kd(e.qb, e.eb), e.Ob(a); a.Kb(null); a.pe(c, f) } else for (a = this.ja, h = 0, m = b.length; h < m; h++) if (e = b[h], e.va(), 0 != e.visible || 0 != this.b.es(this, e)) a.save(), a.scale(this.canvas.width / this.width, this.canvas.height / this.height), a.rotate(-this.g), a.translate(-this.Xb.yb, -this.Xb.zb), a.globalCompositeOperation = e.Rd, e.jd(a), a.restore(); this.b.ka = !0 } ; h.k = new e; h.A = new function() {} } )(); function Ec(e) { this.b = e; var h = this; this.b.xa || (jQuery(document).mousemove(function(b) { h.oi(b) }), jQuery(document).mousedown(function(b) { h.ni(b) }), jQuery(document).mouseup(function(b) { h.pi(b) })); e = 0 < this.b.Qb ? document : this.b.canvas; this.b.Eb ? e = window.Canvas : this.b.nc && (e = window); "undefined" !== typeof PointerEvent ? (e.addEventListener("pointerdown", function(b) { h.ri(b) }, !1), e.addEventListener("pointermove", function(b) { h.qi(b) }, !1), e.addEventListener("pointerup", function(b) { h.ie(b) }, !1), e.addEventListener("pointercancel", function(b) { h.ie(b) }, !1)) : window.navigator.msPointerEnabled ? (e.addEventListener("MSPointerDown", function(b) { h.ri(b) }, !1), e.addEventListener("MSPointerMove", function(b) { h.qi(b) }, !1), e.addEventListener("MSPointerUp", function(b) { h.ie(b) }, !1), e.addEventListener("MSPointerCancel", function(b) { h.ie(b) }, !1)) : (e.addEventListener("touchstart", function(b) { h.Hk(b) }, !1), e.addEventListener("touchmove", function(b) { h.Gk(b) }, !1), e.addEventListener("touchend", function(b) { h.Pg(b) }, !1), e.addEventListener("touchcancel", function(b) { h.Pg(b) }, !1)) } (function() { function e(b) { var a, c; a = 0; for (c = b.C.length; a < c; a++) if (b.C[a]instanceof l.S) return b.C[a]; return null } function h() {} function b() {} var l = Ec.prototype , r = { left: 0, top: 0 }; l.ni = function(b) { 1 === b.which && this.gn("leftmouse", b.pageX, b.pageY) } ; l.oi = function(b) { 1 === b.which && this.hn("leftmouse", b.pageX, b.pageY) } ; l.pi = function(b) { 1 === b.which && this.jn("leftmouse") } ; l.Hk = function(b) { b.preventDefault && qb(b) && b.preventDefault(); var a, c, e, d; a = 0; for (c = b.changedTouches.length; a < c; a++) e = b.changedTouches[a], d = e.identifier, this.gn(d ? d.toString() : "<none>", e.pageX, e.pageY) } ; l.Gk = function(b) { b.preventDefault && b.preventDefault(); var a, c, e, d; a = 0; for (c = b.changedTouches.length; a < c; a++) e = b.changedTouches[a], d = e.identifier, this.hn(d ? d.toString() : "<none>", e.pageX, e.pageY) } ; l.Pg = function(b) { b.preventDefault && qb(b) && b.preventDefault(); var a, c, e; a = 0; for (c = b.changedTouches.length; a < c; a++) e = b.changedTouches[a], e = e.identifier, this.jn(e ? e.toString() : "<none>") } ; l.ri = function(b) { b.pointerType !== b.MSPOINTER_TYPE_MOUSE && "mouse" !== b.pointerType && (b.preventDefault && qb(b) && b.preventDefault(), this.gn(b.pointerId.toString(), b.pageX, b.pageY)) } ; l.qi = function(b) { b.pointerType !== b.MSPOINTER_TYPE_MOUSE && "mouse" !== b.pointerType && (b.preventDefault && b.preventDefault(), this.hn(b.pointerId.toString(), b.pageX, b.pageY)) } ; l.ie = function(b) { b.pointerType !== b.MSPOINTER_TYPE_MOUSE && "mouse" !== b.pointerType && (b.preventDefault && qb(b) && b.preventDefault(), this.jn(b.pointerId.toString())) } ; l.gn = function(b, a, c) { var f = this.b.xa ? r : jQuery(this.b.canvas).offset(); a = a - f.left; c = c - f.top; var d, g, h, k, f = this.Lf.bd(), l, p, t, n = null; l = 0; for (p = f.length; l < p; l++) if (t = f[l], d = e(t), d.enabled && !d.Wd && (d = t.j.Ca(a, c, !0), g = t.j.Ca(a, c, !1), t.va(), t.Ab(d, g))) n ? t.j.index > n.j.index ? (n = t, h = d, k = g) : t.j.index === n.j.index && t.Wc() > n.Wc() && (n = t, h = d, k = g) : (n = t, h = d, k = g); n && e(n).Ax(b, h, k) } ; l.hn = function(b, a, c) { var f = this.b.xa ? r : jQuery(this.b.canvas).offset(); a = a - f.left; c = c - f.top; var d, g = this.Lf.bd(), h, k, l; h = 0; for (k = g.length; h < k; h++) d = g[h], l = e(d), !l.enabled || !l.Wd || l.Wd && l.$l !== b || (f = d.j.Ca(a, c, !0), d = d.j.Ca(a, c, !1), l.Dx(f, d)) } ; l.jn = function(b) { var a = this.Lf.bd(), c, f, d; c = 0; for (f = a.length; c < f; c++) d = a[c], d = e(d), d.Wd && d.$l === b && d.Hx() } ; l.ea = function(b) { this.behavior = b; this.b = b.b } ; l.ea.prototype.G = function() {} ; l.S = function(b, a) { this.type = b; this.behavior = b.behavior; this.e = a; this.b = b.b } ; var p = l.S.prototype; p.G = function() { this.Wd = !1; this.Ip = this.Hp = 0; this.$l = "<none>"; this.Ll = this.ca[0]; this.enabled = 0 !== this.ca[1] } ; p.Jb = function() { return { enabled: this.enabled } } ; p.fc = function(b) { this.enabled = b.enabled; this.Wd = !1 } ; p.Ax = function(b, a, c) { this.Hp = a - this.e.x; this.Ip = c - this.e.y; this.Wd = !0; this.$l = b; this.b.Ga = !0; this.b.trigger(Ec.prototype.d.zo, this.e); this.b.Ga = !1 } ; p.Dx = function(b, a) { var c = b - this.Hp , e = a - this.Ip; if (0 === this.Ll) { if (this.e.x !== c || this.e.y !== e) this.e.x = c, this.e.y = e, this.e.Aa() } else 1 === this.Ll ? this.e.x !== c && (this.e.x = c, this.e.Aa()) : 2 === this.Ll && this.e.y !== e && (this.e.y = e, this.e.Aa()) } ; p.Hx = function() { this.Wd = !1; this.b.Ga = !0; this.b.trigger(Ec.prototype.d.Ao, this.e); this.b.Ga = !1 } ; p.xb = function() {} ; h.prototype.ht = function() { return this.Wd } ; h.prototype.zo = function() { return !0 } ; h.prototype.Ao = function() { return !0 } ; l.d = new h; b.prototype.El = function(b) { this.enabled = 0 !== b; this.enabled || (this.Wd = !1) } ; l.k = new b; l.A = new function() {} } )(); function Fc(e) { this.b = e } (function() { function e() {} var h = Fc.prototype; h.ea = function(b) { this.behavior = b; this.b = b.b } ; h.ea.prototype.G = function() {} ; h.S = function(b, e) { this.type = b; this.behavior = b.behavior; this.e = e; this.b = b.b } ; var b = h.S.prototype; b.G = function() { this.ob = null; this.Mk = -1; this.mode = this.Cg = this.kl = this.Lg = this.je = this.wi = 0; var b = this; this.od || (this.dr = function(e) { b.kn(e) } ); this.b.fp(this.dr) } ; b.Jb = function() { return { uid: this.ob ? this.ob.uid : -1, pa: this.wi, pd: this.je, msa: this.Lg, tsa: this.kl, lka: this.Cg, m: this.mode } } ; b.fc = function(b) { this.Mk = b.uid; this.wi = b.pa; this.je = b.pd; this.Lg = b.msa; this.kl = b.tsa; this.Cg = b.lka; this.mode = b.m } ; b.wd = function() { -1 === this.Mk ? this.ob = null : this.ob = this.b.Bh(this.Mk); this.Mk = -1 } ; b.kn = function(b) { this.ob == b && (this.ob = null) } ; b.Nf = function() { this.ob = null; this.b.ay(this.dr) } ; b.xb = function() {} ; b.Ti = function() { if (this.ob) { this.Cg !== this.e.g && (this.Lg = Ja(this.Lg + (this.e.g - this.Cg))); var b = this.e.x , e = this.e.y; if (3 === this.mode || 4 === this.mode) { var h = Ta(this.e.x, this.e.y, this.ob.x, this.ob.y); if (h > this.je || 4 === this.mode && h < this.je) e = Na(this.ob.x, this.ob.y, this.e.x, this.e.y), b = this.ob.x + Math.cos(e) * this.je, e = this.ob.y + Math.sin(e) * this.je } else b = this.ob.x + Math.cos(this.ob.g + this.wi) * this.je, e = this.ob.y + Math.sin(this.ob.g + this.wi) * this.je; this.Cg = h = Ja(this.Lg + (this.ob.g - this.kl)); 0 !== this.mode && 1 !== this.mode && 3 !== this.mode && 4 !== this.mode || this.e.x === b && this.e.y === e || (this.e.x = b, this.e.y = e, this.e.Aa()); 0 !== this.mode && 2 !== this.mode || this.e.g === h || (this.e.g = h, this.e.Aa()) } } ; h.d = new function() {} ; e.prototype.du = function(b, e) { if (b) { var h = b.bq(this.e); h && (this.ob = h, this.wi = Na(h.x, h.y, this.e.x, this.e.y) - h.g, this.je = Ta(h.x, h.y, this.e.x, this.e.y), this.Cg = this.Lg = this.e.g, this.kl = h.g, this.mode = e) } } ; h.k = new e; h.A = new function() {} } )(); var Gc = [] , Hc = [] , Ic = [] , Jc = [] , Kc = [] , Lc = [] , Mc = [] , Nc = [] , Oc = [] , Sc = []; function Tc(e) { return result = (e /= 1) < 1 / 2.75 ? 7.5625 * e * e + 0 : e < 2 / 2.75 ? 1 * (7.5625 * (e -= 1.5 / 2.75) * e + .75) + 0 : e < 2.5 / 2.75 ? 1 * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + 0 : 1 * (7.5625 * (e -= 2.625 / 2.75) * e + .984375) + 0 } function Uc(e, h) { return Math.round(e / h * 1E4) } function Vc(e, h, b, l, r) { var p = 0; switch (e) { case 0: p = 1 * h / b + 0; break; case 1: p = 1 * (h /= b) * h + 0; break; case 2: p = -1 * (h /= b) * (h - 2) + 0; break; case 3: p = 1 > (h /= b / 2) ? .5 * h * h + 0 : -.5 * (--h * (h - 2) - 1) + 0; break; case 4: p = 1 * (h /= b) * h * h + 0; break; case 5: p = 1 * ((h = h / b - 1) * h * h + 1) + 0; break; case 6: p = 1 > (h /= b / 2) ? .5 * h * h * h + 0 : .5 * ((h -= 2) * h * h + 2) + 0; break; case 7: p = 1 * (h /= b) * h * h * h + 0; break; case 8: p = -1 * ((h = h / b - 1) * h * h * h - 1) + 0; break; case 9: p = 1 > (h /= b / 2) ? .5 * h * h * h * h + 0 : -.5 * ((h -= 2) * h * h * h - 2) + 0; break; case 10: p = 1 * (h /= b) * h * h * h * h + 0; break; case 11: p = 1 * ((h = h / b - 1) * h * h * h * h + 1) + 0; break; case 12: p = 1 > (h /= b / 2) ? .5 * h * h * h * h * h + 0 : .5 * ((h -= 2) * h * h * h * h + 2) + 0; break; case 13: r.Ac ? p = Kc[Uc(h, b)] : p = -(Math.sqrt(1 - h * h) - 1); break; case 14: r.Ac ? p = Lc[Uc(h, b)] : p = Math.sqrt(1 - (h - 1) * (h - 1)); break; case 15: p = r.Ac ? Mc[Uc(h, b)] : 1 > (h /= b / 2) ? -.5 * (Math.sqrt(1 - h * h) - 1) + 0 : .5 * (Math.sqrt(1 - (h -= 2) * h) + 1) + 0; break; case 16: r.Ac ? p = Nc[Uc(h, b)] : (r = r.tc, p = 1 * (h /= b) * h * ((r + 1) * h - r) + 0); break; case 17: r.Ac ? p = Oc[Uc(h, b)] : (r = r.tc, p = 1 * ((h = h / b - 1) * h * ((r + 1) * h + r) + 1) + 0); break; case 18: r.Ac ? p = Sc[Uc(h, b)] : (r = r.tc, p = 1 > (h /= b / 2) ? .5 * h * h * (((r *= 1.525) + 1) * h - r) + 0 : .5 * ((h -= 2) * h * (((r *= 1.525) + 1) * h + r) + 2) + 0); break; case 19: r.Ac ? p = Hc[Uc(h, b)] : (p = r.dg, e = r.si, h /= b, 0 == e && (e = .3 * b), 0 == p || p < Math.abs(1) ? (p = 1, r = e / 4) : r = e / (2 * Math.PI) * Math.asin(1 / p), p = -(p * Math.pow(2, 10 * --h) * Math.sin(2 * (h * b - r) * Math.PI / e)) + 0); break; case 20: r.Ac ? p = Ic[Uc(h, b)] : (p = r.dg, e = r.si, h /= b, 0 == e && (e = .3 * b), 0 == p || p < Math.abs(1) ? (p = 1, r = e / 4) : r = e / (2 * Math.PI) * Math.asin(1 / p), p = p * Math.pow(2, -10 * h) * Math.sin(2 * (h * b - r) * Math.PI / e) + 1); break; case 21: r.Ac ? p = Jc[Uc(h, b)] : (p = r.dg, e = r.si, h /= b / 2, 0 == e && (e = .3 * b * 1.5), 0 == p || p < Math.abs(1) ? (p = 1, r = e / 4) : r = e / (2 * Math.PI) * Math.asin(1 / p), p = 1 > h ? -.5 * p * Math.pow(2, 10 * --h) * Math.sin(2 * (h * b - r) * Math.PI / e) + 0 : p * Math.pow(2, -10 * --h) * Math.sin(2 * (h * b - r) * Math.PI / e) * .5 + 1); break; case 22: p = r.Ac ? 1 - Gc[Uc(b - h, b)] + 0 : 1 - Tc(b - h / b) + 0; break; case 23: p = r.Ac ? Gc[Uc(h, b)] : Tc(h / b); break; case 24: p = r.Ac ? h < b / 2 ? .5 * (1 - Gc[Uc(b - 2 * h, b)] + 0) + 0 : .5 * Gc[Uc(2 * h - b, b)] + .5 : h < b / 2 ? .5 * (1 - Tc(b - 2 * h) + 0) + 0 : .5 * Tc((2 * h - b) / b) + .5; break; case 25: h = h / b / 2; p = 2 * h * h * (3 - 2 * h); break; case 26: h = (h / b + 1) / 2; p = 2 * h * h * (3 - 2 * h) - 1; break; case 27: h = h / b, p = h * h * (3 - 2 * h) } return l ? 1 - p : p } for (var Wc = 0, Xc = 0, Yc = 0, X = 0, Y = 0, Zc = 0; 1E4 >= Zc; Zc++) X = Zc / 1E4, Wc = (X /= 1) < 1 / 2.75 ? 7.5625 * X * X + 0 : X < 2 / 2.75 ? 1 * (7.5625 * (X -= 1.5 / 2.75) * X + .75) + 0 : X < 2.5 / 2.75 ? 1 * (7.5625 * (X -= 2.25 / 2.75) * X + .9375) + 0 : 1 * (7.5625 * (X -= 2.625 / 2.75) * X + .984375) + 0, Gc[Zc] = Wc, X = Zc / 1E4, Yc = Xc = 0, X /= 1, 0 == Yc && (Yc = .3), 0 == Xc || Xc < Math.abs(1) ? (Xc = 1, Y = Yc / 4) : Y = Yc / (2 * Math.PI) * Math.asin(1 / Xc), Wc = -(Xc * Math.pow(2, 10 * --X) * Math.sin(2 * (1 * X - Y) * Math.PI / Yc)) + 0, Hc[Zc] = Wc, X = Zc / 1E4, Yc = Xc = 0, X /= 1, 0 == Yc && (Yc = .3), 0 == Xc || Xc < Math.abs(1) ? (Xc = 1, Y = Yc / 4) : Y = Yc / (2 * Math.PI) * Math.asin(1 / Xc), Wc = Xc * Math.pow(2, -10 * X) * Math.sin(2 * (1 * X - Y) * Math.PI / Yc) + 1, Ic[Zc] = Wc, X = Zc / 1E4, Yc = Xc = 0, X /= .5, 0 == Yc && (Yc = .3 * 1.5), 0 == Xc || Xc < Math.abs(1) ? (Xc = 1, Y = Yc / 4) : Y = Yc / (2 * Math.PI) * Math.asin(1 / Xc), Wc = 1 > X ? -.5 * Xc * Math.pow(2, 10 * --X) * Math.sin(2 * (1 * X - Y) * Math.PI / Yc) + 0 : Xc * Math.pow(2, -10 * --X) * Math.sin(2 * (1 * X - Y) * Math.PI / Yc) * .5 + 1, Jc[Zc] = Wc, X = Zc / 1E4, Kc[Zc] = -(Math.sqrt(1 - X * X) - 1), X = Zc / 1E4, Lc[Zc] = Math.sqrt(1 - (X - 1) * (X - 1)), X = Zc / 1E4, Wc = 1 > (X /= .5) ? -.5 * (Math.sqrt(1 - X * X) - 1) + 0 : .5 * (Math.sqrt(1 - (X -= 2) * X) + 1) + 0, Mc[Zc] = Wc, X = Zc / 1E4, Y = 0, 0 == Y && (Y = 1.70158), Wc = 1 * (X /= 1) * X * ((Y + 1) * X - Y) + 0, Nc[Zc] = Wc, X = Zc / 1E4, Y = 0, 0 == Y && (Y = 1.70158), Wc = 1 * ((X = X / 1 - 1) * X * ((Y + 1) * X + Y) + 1) + 0, Oc[Zc] = Wc, X = Zc / 1E4, Y = 0, 0 == Y && (Y = 1.70158), Wc = 1 > (X /= .5) ? .5 * X * X * (((Y *= 1.525) + 1) * X - Y) + 0 : .5 * ((X -= 2) * X * (((Y *= 1.525) + 1) * X + Y) + 2) + 0, Sc[Zc] = Wc; function $c(e, h, b, l, r, p, m) { this.name = e; this.value = 0; this.Wg(l); this.cl(r); this.rf = b; this.Na = h; this.duration = p; this.state = this.U = 0; this.Ek = this.Fk = this.Dk = this.Og = !1; this.Fb = this.Ma = 0; this.Pb = m; this.ke = 1; this.zh = !1; this.Gc = []; for (e = 0; 28 > e; e++) this.Gc[e] = {}, this.Gc[e].dg = 0, this.Gc[e].si = 0, this.Gc[e].$g = 0, this.Gc[e].tc = 0, this.Gc[e].Ac = !0 } $c.prototype = {}; $c.prototype.Wg = function(e) { this.fa = parseFloat(e.split(",")[0]); this.Za = parseFloat(e.split(",")[1]); this.Fb = this.Ma = 0 } ; $c.prototype.cl = function(e) { this.da = parseFloat(e.split(",")[0]); this.Sa = parseFloat(e.split(",")[1]); isNaN(this.Sa) && (this.Sa = this.da) } ; $c.prototype.Bl = function(e) { if (0 === this.state) return -1; 1 === this.state && (this.U += e); 2 === this.state && (this.U -= e); 3 === this.state && (this.state = 0); if (4 === this.state || 6 === this.state) this.U += e * this.ke; 5 === this.state && (this.U += e * this.ke); return 0 > this.U ? (this.U = 0, 4 === this.state ? this.ke = 1 : 6 === this.state ? (this.ke = 1, this.zh = !1) : this.state = 0, this.Ek = !0, 0) : this.U > this.duration ? (this.U = this.duration, 4 === this.state ? this.ke = -1 : 6 === this.state ? (this.ke = -1, this.zh = !0) : 5 === this.state ? this.U = 0 : this.state = 0, this.Dk = !0, 1) : this.zh ? Vc(this.rf, this.duration - this.U, this.duration, this.zh, this.Gc[this.rf]) : Vc(this.rf, this.U, this.duration, this.zh, this.Gc[this.rf]) } ; function ad(e) { this.b = e } (function() { var e = ad.prototype; e.ea = function(b) { this.behavior = b; this.b = b.b } ; e.ea.prototype.G = function() {} ; e.S = function(b, e) { this.type = b; this.behavior = b.behavior; this.e = e; this.b = b.b } ; var h = e.S.prototype; h.G = function() { this.Rg = this.ca[0]; this.Nb = 1 == this.Rg || 2 == this.Rg || 3 == this.Rg || 4 == this.Rg; this.Na = this.ca[1]; this.am = this.ca[2]; this.target = this.ca[3]; this.il = this.ca[4]; this.ul = !1; 1 === this.il && (this.target = "relative(" + this.target + ")"); this.duration = this.ca[5]; this.Pb = 1 === this.ca[6]; this.value = 0; this.u = {}; this.ip(this.Na, this.am, "current", this.target, this.duration, this.Pb); 1 === this.ca[0] && this.Li(0); 2 === this.ca[0] && this.Li(2); 3 === this.ca[0] && this.Li(3); 4 === this.ca[0] && this.Li(4) } ; h.Hd = function(b, e) { void 0 === e && (e = "current"); var h = e.replace(/^\s\s*/, "").replace(/\s\s*$/, ""); e = e.replace(/^\s\s*/, "").replace(/\s\s*$/, ""); var p = this.value; if ("current" === e) switch (b) { case 0: h = this.e.x + "," + this.e.y; break; case 1: h = this.e.width + "," + this.e.height; break; case 2: h = this.e.width + "," + this.e.height; break; case 3: h = this.e.width + "," + this.e.height; break; case 4: h = Ha(this.e.g) + "," + Ha(this.e.g); break; case 5: h = 100 * this.e.opacity + "," + 100 * this.e.opacity; break; case 6: h = p + "," + p; break; case 7: h = this.e.x + "," + this.e.y; break; case 8: h = this.e.x + "," + this.e.y; break; case 9: h = void 0 !== this.e.Da ? this.e.width / this.e.Da.width + "," + this.e.height / this.e.Da.height : "1,1" } if ("relative" === e.substring(0, 8)) { var m = e.match(/\((.*?)\)/); if (m) var a = parseFloat(m[1].split(",")[0]) , c = parseFloat(m[1].split(",")[1]); isNaN(a) && (a = 0); isNaN(c) && (c = 0); switch (b) { case 0: h = this.e.x + a + "," + (this.e.y + c); break; case 1: h = this.e.width + a + "," + (this.e.height + c); break; case 2: h = this.e.width + a + "," + (this.e.height + c); break; case 3: h = this.e.width + a + "," + (this.e.height + c); break; case 4: h = Ha(this.e.g) + a + "," + (Ha(this.e.g) + c); break; case 5: h = 100 * this.e.opacity + a + "," + (100 * this.e.opacity + c); break; case 6: h = p + a + "," + p + a; break; case 7: h = this.e.x + a + "," + this.e.y; break; case 8: h = this.e.x + "," + (this.e.y + a); break; case 9: h = a + "," + c } } return h } ; h.ip = function(b, e, h, p, m, a) { h = this.Hd(b, h); p = this.Hd(b, p); void 0 !== this.u["default"] && delete this.u["default"]; this.u["default"] = new $c("default",b,e,h,p,m,a); this.u["default"].Ne = 0 } ; h.Jb = function() { JSON.stringify(this.u["default"]); return { playmode: this.Rg, active: this.Nb, tweened: this.Na, easing: this.am, target: this.target, targetmode: this.il, useCurrent: this.ul, duration: this.duration, enforce: this.Pb, value: this.value, tweenlist: JSON.stringify(this.u["default"]) } } ; $c.qt = function(b, e, h, p, m, a, c, f) { e = new $c(e,h,p,m,a,c,f); for (var d in b) e[d] = b[d]; return e } ; h.fc = function(b) { var e = JSON.parse(b.tweenlist) , e = $c.qt(e, e.name, e.Na, e.rf, e.fa + "," + e.Za, e.da + "," + e.Sa, e.duration, e.Pb); console.log(e); this.u["default"] = e; this.Rg = b.playmode; this.Nb = b.active; this.am = b.easing; this.target = b.target; this.il = b.targetmode; this.ul = b.useCurrent; this.duration = b.duration; this.Pb = b.enforce; this.value = b.value } ; h.ty = function(b) { 1 < b && (b = 1); 0 > b && (b = 0); for (var e in this.u) { var h = this.u[e]; h.Ma = 0; h.Fb = 0; h.state = 3; h.U = b * h.duration; var p = h.Bl(0); this.ko(h, p) } } ; h.Li = function(b) { for (var e in this.u) { var h = this.u[e]; if (this.ul) { var p = this.Hd(h.Na, "current") , m = this.Hd(h.Na, this.target); h.Wg(p); h.cl(m) } 0 === b && (h.U = 1E-6, h.Ma = 0, h.Fb = 0, h.Og = !0, h.state = 1); 1 === b && (h.state = 1); if (2 === b || 4 === b) h.U = 1E-6, h.Ma = 0, h.Fb = 0, h.Og = !0, 2 == b && (h.state = 4), 4 == b && (h.state = 6); 3 === b && (h.U = 1E-6, h.Ma = 0, h.Fb = 0, h.Og = !0, h.state = 5) } } ; h.Ay = function(b) { for (var e in this.u) { var h = this.u[e]; 1 === b && (h.U = 0); 2 === b && (h.U = h.duration); h.state = 3; var p = h.Bl(0); this.ko(h, p) } } ; h.fy = function(b) { for (var e in this.u) { var h = this.u[e]; 1 === b && (h.U = h.duration, h.Ma = 0, h.Fb = 0, h.Fk = !0); h.state = 2 } } ; h.ko = function(b, e) { if (0 === b.Na) b.Pb ? (this.e.x = b.fa + (b.da - b.fa) * e, this.e.y = b.Za + (b.Sa - b.Za) * e) : (this.e.x += (b.da - b.fa) * e - b.Ma, this.e.y += (b.Sa - b.Za) * e - b.Fb, b.Ma = (b.da - b.fa) * e, b.Fb = (b.Sa - b.Za) * e); else if (1 === b.Na) b.Pb ? (this.e.width = b.fa + (b.da - b.fa) * e, this.e.height = b.Za + (b.Sa - b.Za) * e) : (this.e.width += (b.da - b.fa) * e - b.Ma, this.e.height += (b.Sa - b.Za) * e - b.Fb, b.Ma = (b.da - b.fa) * e, b.Fb = (b.Sa - b.Za) * e); else if (2 === b.Na) b.Pb ? this.e.width = b.fa + (b.da - b.fa) * e : (this.e.width += (b.da - b.fa) * e - b.Ma, b.Ma = (b.da - b.fa) * e); else if (3 === b.Na) b.Pb ? this.e.height = b.Za + (b.Sa - b.Za) * e : (this.e.height += (b.Sa - b.Za) * e - b.Fb, b.Fb = (b.Sa - b.Za) * e); else if (4 === b.Na) if (b.Pb) { var h = b.fa + (b.da - b.fa) * e; this.e.g = Ja(A(h)) } else h = (b.da - b.fa) * e - b.Ma, this.e.g = Ja(this.e.g + A(h)), b.Ma = (b.da - b.fa) * e; else if (5 === b.Na) b.Pb ? this.e.opacity = (b.fa + (b.da - b.fa) * e) / 100 : (this.e.opacity += ((b.da - b.fa) * e - b.Ma) / 100, b.Ma = (b.da - b.fa) * e); else if (6 === b.Na) b.Pb ? this.value = b.fa + (b.da - b.fa) * e : (this.value += (b.da - b.fa) * e - b.Ma, b.Ma = (b.da - b.fa) * e); else if (7 === b.Na) b.Pb ? this.e.x = b.fa + (b.da - b.fa) * e : (this.e.x += (b.da - b.fa) * e - b.Ma, b.Ma = (b.da - b.fa) * e); else if (8 === b.Na) b.Pb ? this.e.y = b.Za + (b.Sa - b.Za) * e : (this.e.y += (b.Sa - b.Za) * e - b.Fb, b.Fb = (b.Sa - b.Za) * e); else if (9 === b.Na) { var h = b.fa + (b.da - b.fa) * e , p = b.Za + (b.Sa - b.Za) * e; 0 > this.e.width && (h = b.fa + (b.da + b.fa) * -e); 0 > this.e.height && (p = b.Za + (b.Sa + b.Za) * -e); b.Pb ? (this.e.width = this.e.Da.width * h, this.e.height = this.e.Da.height * p) : (0 > this.e.width ? (this.e.width = this.e.width / (-1 + b.Ma) * h, b.Ma = h + 1) : (this.e.width = this.e.width / (1 + b.Ma) * h, b.Ma = h - 1), 0 > this.e.height ? (this.e.height = this.e.height / (-1 + b.Fb) * p, b.Fb = p + 1) : (this.e.height = this.e.height / (1 + b.Fb) * p, b.Fb = p - 1)) } this.e.Aa() } ; h.xb = function() { var b = this.b.om(this.e) , e = this.u["default"]; 0 !== e.state && (e.Og && (this.b.trigger(ad.prototype.d.Xt, this.e), e.Og = !1), e.Fk && (this.b.trigger(ad.prototype.d.Vt, this.e), e.Fk = !1), this.Nb = 1 == e.state || 2 == e.state || 4 == e.state || 5 == e.state || 6 == e.state, b = e.Bl(b), this.ko(e, b), e.Dk && (this.b.trigger(ad.prototype.d.Bo, this.e), e.Dk = !1), e.Ek && (this.b.trigger(ad.prototype.d.Ut, this.e), e.Ek = !1)) } ; e.d = {}; h = e.d; h.dt = function() { return 0 !== this.u["default"].state } ; h.ez = function() { return 2 == this.u["default"].state } ; h.Zy = function(b, e) { var h = this.u["default"]; return hc(h.U / h.duration, b, e) } ; h.nz = function(b, e) { var h = this.u["default"]; this.Si = hc(h.U / h.duration, b, e); if (h = this.en != this.Si && this.Si) this.en = this.Si; return h } ; h.Xt = function() { return void 0 === this.u["default"] ? !1 : this.u["default"].Og } ; h.Vt = function() { return void 0 === this.u["default"] ? !1 : this.u["default"].Fk } ; h.Bo = function() { return void 0 === this.u["default"] ? !1 : this.u["default"].Dk } ; h.Ut = function() { return void 0 === this.u["default"] ? !1 : this.u["default"].Ek } ; e.k = {}; h = e.k; h.wu = function(b, e) { this.en = this.Si = !1; this.ul = 1 == e; this.Li(b) } ; h.Wo = function(b) { this.Ay(b) } ; h.wz = function(b) { this.en = this.Si = !1; this.fy(b) } ; h.uz = function(b) { this.ty(b) } ; h.iu = function(b) { isNaN(b) || 0 > b || void 0 === this.u["default"] || (this.u["default"].duration = b) } ; h.Gz = function(b) { void 0 !== this.u["default"] && (this.u["default"].Pb = 1 === b) } ; h.Iz = function(b) { void 0 !== this.u["default"] && (b = this.Hd(this.u["default"].Na, b), this.u["default"].Wg(b)) } ; h.pu = function(b, e, h) { if (void 0 !== this.u["default"] && !isNaN(h)) { var p = this.u["default"] , m = h + ""; this.il = e; var a = "" , c = ""; if (1 === e) { this.target = "relative(" + m + ")"; switch (b) { case 0: a = this.e.x + h; c = p.Sa; break; case 1: a = p.da; c = this.e.y + h; break; case 2: c = a = "" + Ha(this.e.g + A(h)); break; case 3: c = a = "" + 100 * this.e.opacity + h; break; case 4: a = this.e.width + h; c = p.Sa; break; case 5: a = p.da; c = this.e.height + h; break; case 6: c = a = h } m = a + "," + c } else { switch (b) { case 0: a = h; c = p.Sa; break; case 1: a = p.da; c = h; break; case 2: c = a = h; break; case 3: c = a = h; break; case 4: a = h; c = p.Sa; break; case 5: a = p.da; c = h; break; case 6: c = a = h } this.target = m = a + "," + c } b = this.Hd(this.u["default"].Na, "current"); m = this.Hd(this.u["default"].Na, m); p.Wg(b); p.cl(m) } } ; h.Mz = function(b) { void 0 !== this.u["default"] && (this.u["default"].Na = b) } ; h.Cz = function(b) { void 0 !== this.u["default"] && (this.u["default"].rf = b) } ; h.Dz = function(b, e, h, p, m) { void 0 !== this.u["default"] && (this.u["default"].Gc[b].Ac = !1, this.u["default"].Gc[b].dg = e, this.u["default"].Gc[b].si = h, this.u["default"].Gc[b].$g = p, this.u["default"].Gc[b].tc = m) } ; h.vz = function() { void 0 !== this.u["default"] && (this.u["default"].Ac = !0) } ; h.Nz = function(b) { var e = this.u["default"]; this.value = b; 6 === e.Na && e.Wg(this.Hd(e.Na, "current")) } ; h.Jz = function(b, e, h, p, m) { if (void 0 === this.u["default"]) this.ip(b, e, initial, h, p, m); else { var a = this.u["default"]; a.Na = b; a.rf = e; a.Wg(this.Hd(b, "current")); a.cl(this.Hd(b, h)); a.duration = p; a.Pb = 1 === m } } ; e.A = {}; e = e.A; e.Oz = function(b) { var e = "N/A"; switch (this.u["default"].state) { case 0: e = "paused"; break; case 1: e = "playing"; break; case 2: e = "reversing"; break; case 3: e = "seeking" } b.Tb(e) } ; e.sz = function(b) { b.n(this.u["default"].U / this.u["default"].duration) } ; e.Us = function(b) { b.n(this.u["default"].duration) } ; e.Pz = function(b) { var e = this.u["default"] , h = "N/A"; switch (e.Na) { case 0: h = e.da; break; case 1: h = e.Sa; break; case 2: h = e.da; break; case 3: h = e.da; break; case 4: h = e.da; break; case 5: h = e.Sa; break; case 6: h = e.da } b.n(h) } ; e.Sz = function(b) { b.n(this.value) } ; e.Rz = function(b, e, h, p, m) { p = 1 < p ? 1 : p; m = Vc(m, 0 > p ? 0 : p, 1, !1, !1); b.n(e + m * (h - e)) } } )(); function cd(e) { this.b = e; this.Qn = this.dl = this.Ji = this.Pn = 0 } (function() { function e() {} var h = cd.prototype; h.ea = function(b) { this.behavior = b; this.b = b.b } ; h.ea.prototype.G = function() {} ; h.S = function(b, e) { this.type = b; this.behavior = b.behavior; this.e = e; this.b = b.b } ; var b = h.S.prototype; b.G = function() { this.enabled = 0 !== this.ca[0] } ; b.Jb = function() { return { smg: this.behavior.Pn, ss: this.behavior.Ji, se: this.behavior.dl, smd: this.behavior.Qn } } ; b.fc = function(b) { this.behavior.Pn = b.smg; this.behavior.Ji = b.ss; this.behavior.dl = b.se; this.behavior.Qn = b.smd } ; b.xb = function() {} ; b.Ti = function() { if (this.enabled) { var b = this.behavior.Lf.bd(), e = 0, h = 0, m, a, c, f = 0; m = 0; for (a = b.length; m < a; m++) { a: { c = b[m]; for (var d = void 0, g = void 0, w = void 0, d = 0, g = c.C.length; d < g; ++d) if (w = c.C[d], w.behavior instanceof cd) { c = w; break a } c = null } c && c.enabled && (e += b[m].x, h += b[m].y, ++f) } b = this.e.j.jb; a = this.b.hb.X; c = m = 0; a >= this.behavior.Ji && a < this.behavior.dl && (m = this.behavior.Pn * Math.min(this.b.Wf, 1), 0 === this.behavior.Qn && (m *= 1 - (a - this.behavior.Ji) / (this.behavior.dl - this.behavior.Ji)), a = Math.random() * Math.PI * 2, c = Math.random() * m, m = Math.cos(a) * c, c *= Math.sin(a)); b.Kn(e / f + m); b.Ln(h / f + c) } } ; e.prototype.El = function(b) { this.enabled = 0 !== b } ; h.k = new e } )(); function qc() { return [K, Cc, U, sc, tc, uc, Bc, wc, rc, Ac, vc, Dc, ad, Fc, Ec, cd, E.prototype.d.Ho, K.prototype.k.so, Dc.prototype.k.so, rc.prototype.k.CallFunction, E.prototype.k.lu, K.prototype.k.gu, E.prototype.k.Ts, E.prototype.A.lx, E.prototype.A.jx, ad.prototype.k.pu, ad.prototype.k.wu, K.prototype.k.Vo, K.prototype.k.ou, rc.prototype.A.ro, K.prototype.A.Bu, K.prototype.A.ct, K.prototype.A.vo, K.prototype.A.uo, E.prototype.d.Ws, E.prototype.A.qx, rc.prototype.A.eu, E.prototype.k.qu, E.prototype.k.Au, Ec.prototype.d.zo, K.prototype.A.Xo, K.prototype.k.wo, Dc.prototype.k.Uo, E.prototype.d.bu, K.prototype.k.ju, K.prototype.A.Fl, K.prototype.A.hj, E.prototype.d.Xs, Dc.prototype.d.To, Dc.prototype.k.wo, Ec.prototype.d.ht, K.prototype.k.mu, Ec.prototype.d.Ao, K.prototype.d.Qs, K.prototype.k.tu, K.prototype.d.Rs, K.prototype.k.uu, K.prototype.A.cu, E.prototype.d.au, E.prototype.d.Js, E.prototype.A.bv, ad.prototype.d.Bo, K.prototype.d.Ms, K.prototype.k.xu, E.prototype.d.to, E.prototype.k.As, E.prototype.d.Ps, E.prototype.d.it, rc.prototype.d.ej, rc.prototype.A.Zt, Ec.prototype.k.El, K.prototype.k.Dl, Dc.prototype.k.Vo, Dc.prototype.k.$t, K.prototype.k.ru, Fc.prototype.k.du, Dc.prototype.A.Xo, K.prototype.k.fu, K.prototype.d.To, E.prototype.A["int"], rc.prototype.k.nu, ad.prototype.k.iu, E.prototype.d.zu, E.prototype.A.random, K.prototype.k.Uo, wc.prototype.k.Tu, Ac.prototype.k.ku, wc.prototype.k.Uu, E.prototype.k.Zs, U.prototype.d.Po, tc.prototype.k.bt, Ac.prototype.k.Gs, E.prototype.d.Vs, Cc.prototype.k.su, E.prototype.A.round, E.prototype.A.Hf, E.prototype.d.zl, Ac.prototype.d.Co, Ac.prototype.k.Ys, Ac.prototype.d.Do, Ac.prototype.A.nt, K.prototype.A.Es, K.prototype.k.vu, E.prototype.d.pt, E.prototype.A.mx, U.prototype.d.jt, U.prototype.A.hj, U.prototype.d.Cl, U.prototype.d.Os, E.prototype.d.Ks, U.prototype.A.Bs, ad.prototype.d.dt, K.prototype.d.Ls, K.prototype.d.kt, E.prototype.A.Ny, E.prototype.A.Oy, K.prototype.d.ft, K.prototype.d.lt, K.prototype.A.Ds, E.prototype.k.yu, K.prototype.k.hu, Ac.prototype.d.Eo, cd.prototype.k.El, tc.prototype.k.Ss, E.prototype.A.kx, tc.prototype.k.$s, U.prototype.d.Oo, U.prototype.d.mt, K.prototype.d.Ns, ad.prototype.k.Wo, Bc.prototype.d.So, sc.prototype.k.Play] } ; GameAPI.trackLoadComplete();