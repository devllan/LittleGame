window.addComment=function(s){function e(){n(),function(){if(r){new r(t).observe(y.body,{childList:!0,subTree:!0})}}()}function n(e){if(l&&(f=u(I.cancelReplyId),p=u(I.commentFormId),f)){f.addEventListener("touchstart",o),f.addEventListener("click",o);for(var t,n=function(e){var t=I.commentReplyClass;return e&&e.childNodes||(e=y),y.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}(e),r=0,d=n.length;r<d;r++)(t=n[r]).addEventListener("touchstart",i),t.addEventListener("click",i)}}function o(e){var t=u(I.temporaryFormId);t&&v&&(u(I.parentIdFieldId).value="0",t.parentNode.replaceChild(v,t),this.style.display="none",e.preventDefault())}function i(e){var t=this,n=a(t,"belowelement"),r=a(t,"commentid"),d=a(t,"respondelement"),o=a(t,"postid");n&&r&&d&&o&&(!1===s.addComment.moveForm(n,r,d,o)&&e.preventDefault())}function t(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void n()}function a(e,t){return d?e.dataset[t]:e.getAttribute("data-"+t)}function u(e){return y.getElementById(e)}var f,p,v,y=s.document,I={commentReplyClass:"comment-reply-link",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},r=s.MutationObserver||s.WebKitMutationObserver||s.MozMutationObserver,l="querySelector"in y&&"addEventListener"in s,d=!!y.documentElement.dataset;return l&&"loading"!==y.readyState?e():l&&s.addEventListener("DOMContentLoaded",e,!1),{init:n,moveForm:function(e,t,n,r){var d=u(e);v=u(n);var o,i,a,l=u(I.parentIdFieldId),m=u(I.postIdFieldId);if(d&&v&&l){(function(e){var t=I.temporaryFormId,n=u(t);n||((n=y.createElement("div")).id=t,n.style.display="none",e.parentNode.insertBefore(n,e))})(v),r&&m&&(m.value=r),l.value=t,f.style.display="",d.parentNode.insertBefore(v,d.nextSibling),f.onclick=function(){return!1};try{for(var c=0;c<p.elements.length;c++)if(o=p.elements[c],i=!1,"getComputedStyle"in s?a=s.getComputedStyle(o):y.documentElement.currentStyle&&(a=o.currentStyle),(o.offsetWidth<=0&&o.offsetHeight<=0||"hidden"===a.visibility)&&(i=!0),"hidden"!==o.type&&!o.disabled&&!i){o.focus();break}}catch(e){}return!1}}}}(window);