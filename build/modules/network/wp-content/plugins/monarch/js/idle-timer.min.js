!function(m){m.idleTimer=function(e,n){var i;"object"==typeof e?(i=e,e=null):"number"==typeof e&&(i={timeout:e},e=null),n=n||document,i=m.extend({idle:!1,timeout:3e4,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},i);function t(e){var i=m.data(n,"idleTimerObj")||{};i.idle=!i.idle,i.olddate=+new Date;var t=m.Event((i.idle?"idle":"active")+".idleTimer");m(n).trigger(t,[n,m.extend({},i),e])}function l(){var e=m.data(n,"idleTimerObj")||{};e.idle=e.idleBackup,e.olddate=+new Date,e.lastActive=e.olddate,e.remaining=null,clearTimeout(e.tId),e.idle||(e.tId=setTimeout(t,e.timeout))}var r,a,d,u=m(n),o=u.data("idleTimerObj")||{};if(null===e&&void 0!==o.idle)return l(),u;if(null===e);else{if(null!==e&&void 0===o.idle)return!1;if("destroy"===e)return d=m.data(n,"idleTimerObj")||{},clearTimeout(d.tId),u.removeData("idleTimerObj"),u.off("._idleTimer"),u;if("pause"===e)return null==(a=m.data(n,"idleTimerObj")||{}).remaining&&(a.remaining=a.timeout-(+new Date-a.olddate),clearTimeout(a.tId)),u;if("resume"===e)return null!=(r=m.data(n,"idleTimerObj")||{}).remaining&&(r.idle||(r.tId=setTimeout(t,r.remaining)),r.remaining=null),u;if("reset"===e)return l(),u;if("getRemainingTime"===e)return function(){var e=m.data(n,"idleTimerObj")||{};if(e.idle)return 0;if(null!=e.remaining)return e.remaining;var i=e.timeout-(+new Date-e.lastActive);return i<0&&(i=0),i}();if("getElapsedTime"===e)return+new Date-o.olddate;if("getLastActiveTime"===e)return o.lastActive;if("isIdle"===e)return o.idle}return u.on(m.trim((i.events+" ").split(" ").join("._idleTimer ")),function(e){!function(e){var i=m.data(n,"idleTimerObj")||{};if(null==i.remaining){if("mousemove"===e.type){if(e.pageX===i.pageX&&e.pageY===i.pageY)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(+new Date-i.olddate<200)return}clearTimeout(i.tId),i.idle&&t(e),i.lastActive=+new Date,i.pageX=e.pageX,i.pageY=e.pageY,i.tId=setTimeout(t,i.timeout)}}(e)}),(o=m.extend({},{olddate:+new Date,lastActive:+new Date,idle:i.idle,idleBackup:i.idle,timeout:i.timeout,remaining:null,tId:null,pageX:null,pageY:null})).idle||(o.tId=setTimeout(t,o.timeout)),m.data(n,"idleTimerObj",o),u},m.fn.idleTimer=function(e){return this[0]?m.idleTimer(e,this[0]):this}}(jQuery);